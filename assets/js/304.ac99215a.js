(window.webpackJsonp=window.webpackJsonp||[]).push([[304],{701:function(n,t,a){"use strict";a.r(t);var s={props:["slot-key"],mounted(){this.$nextTick(function(){this.$vuepress.$emit("AsyncMarkdownContentMounted",this.slotKey)})}},e=a(0),r=Object(e.a)(s,function(){var n=this,t=n.$createElement,a=n._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":n.slotKey}},[a("h1",{attrs:{id:"nginx-服务器安装与使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginx-服务器安装与使用","aria-hidden":"true"}},[n._v("#")]),n._v(" Nginx 服务器安装与使用")]),n._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"http://nginx.org/",target:"_blank",rel:"noopener noreferrer"}},[n._v("nginx 官网"),a("OutboundLink")],1)])]),n._v(" "),a("h2",{attrs:{id:"搭建-nginx-服务器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#搭建-nginx-服务器","aria-hidden":"true"}},[n._v("#")]),n._v(" 搭建 Nginx 服务器")]),n._v(" "),a("h3",{attrs:{id:"yum-安装-nginx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#yum-安装-nginx","aria-hidden":"true"}},[n._v("#")]),n._v(" yum 安装 Nginx")]),n._v(" "),a("p",[n._v("在 Centos 默认的标准源里没有 nginx 软件包，所以需要先获取 nginx 源")]),n._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[n._v("$ "),a("span",{attrs:{class:"token function"}},[n._v("wget")]),n._v(" http://www.atomicorp.com/installers/atomic\n$ sh ./atomic\n$ yum check-update\n\n"),a("span",{attrs:{class:"token comment"}},[n._v("# or")]),n._v("\n$ rpm -Uvh http://nginx.org/packages/centos/7/noarch/RPMS/nginx-release-centos-7-0.el7.ngx.noarch.rpm\n")])])]),a("p",[n._v("安装 nginx")]),n._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[n._v("$ yum -y "),a("span",{attrs:{class:"token function"}},[n._v("install")]),n._v(" nginx\n$ "),a("span",{attrs:{class:"token function"}},[n._v("whereis")]),n._v(" nginx \nnginx: /usr/sbin/nginx /usr/lib64/nginx /etc/nginx /usr/share/nginx /usr/share/man/man8/nginx.8.gz\n")])])]),a("p",[n._v("相关目录")]),n._v(" "),a("ul",[a("li",[n._v("nginx 的配置文件目录位于 "),a("code",[n._v("/etc/nginx/")])]),n._v(" "),a("li",[n._v("nginx 默认站点目录位于 "),a("code",[n._v("/usr/share/nginx/html")])])]),n._v(" "),a("p",[n._v("经测试, 在阿里云的 centos 镜像中可直接使用 yum 进行安装")]),n._v(" "),a("h3",{attrs:{id:"源码安装-nginx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#源码安装-nginx","aria-hidden":"true"}},[n._v("#")]),n._v(" 源码安装 Nginx")]),n._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[n._v("$ "),a("span",{attrs:{class:"token function"}},[n._v("wget")]),n._v(" http://nginx.org/download/nginx-1.7.3.tar.gz\n$ "),a("span",{attrs:{class:"token function"}},[n._v("tar")]),n._v(" xzf nginx-1.7.3.tar.gz\n$ "),a("span",{attrs:{class:"token function"}},[n._v("cd")]),n._v(" nginx-1.7.3\n$ ./configure\n$ "),a("span",{attrs:{class:"token function"}},[n._v("make")]),n._v(" "),a("span",{attrs:{class:"token operator"}},[n._v("&&")]),n._v(" "),a("span",{attrs:{class:"token function"}},[n._v("make")]),n._v(" "),a("span",{attrs:{class:"token function"}},[n._v("install")]),n._v("\n$ "),a("span",{attrs:{class:"token function"}},[n._v("whereis")]),n._v(" nginx\nnginx: /usr/local/nginx\n")])])]),a("p",[n._v("相关位置")]),n._v(" "),a("ul",[a("li",[n._v("使用源码安装 nginx 的二进制文件 "),a("code",[n._v("/usr/local/nginx/nginx")])])]),n._v(" "),a("h2",{attrs:{id:"nginx-的基础操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginx-的基础操作","aria-hidden":"true"}},[n._v("#")]),n._v(" Nginx 的基础操作")]),n._v(" "),a("ul",[a("li",[n._v("启动 nginx 服务: "),a("code",[n._v("nginx")])]),n._v(" "),a("li",[n._v("重新载入配置文件: "),a("code",[n._v("nginx -s reload")])]),n._v(" "),a("li",[n._v("停止 nginx 服务: "),a("code",[n._v("nginx -s stop")])]),n._v(" "),a("li",[n._v("重启 nginx 服务: "),a("code",[n._v("nginx -s reopen")])]),n._v(" "),a("li",[n._v("查看 nginx 帮助: "),a("code",[n._v("nginx -h")])]),n._v(" "),a("li",[n._v("重新绑定配置文件: "),a("code",[n._v("nginx -c /etc/nginx/nginx.conf")])]),n._v(" "),a("li",[n._v("测试配置文件: "),a("code",[n._v("nginx -t")])])]),n._v(" "),a("p",[n._v("检测是否启动成功")]),n._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[n._v("$ "),a("span",{attrs:{class:"token function"}},[n._v("netstat")]),n._v(" -ntlp "),a("span",{attrs:{class:"token operator"}},[n._v("|")]),n._v(" "),a("span",{attrs:{class:"token function"}},[n._v("grep")]),n._v(" 80\ntcp        0      0 0.0.0.0:80              0.0.0.0:*               LISTEN      5967/nginx: master  \ntcp6       0      0 :::80                   :::*                    LISTEN      5967/nginx: master  \n")])])]),a("h2",{attrs:{id:"将服务端口添加进防火墙"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#将服务端口添加进防火墙","aria-hidden":"true"}},[n._v("#")]),n._v(" 将服务端口添加进防火墙")]),n._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[n._v("$ firewall-cmd --add-service"),a("span",{attrs:{class:"token operator"}},[n._v("=")]),n._v("http "),a("span",{attrs:{class:"token comment"}},[n._v("# 临时开启 http 服务")]),n._v("\n$ firewall-cmd --add-service"),a("span",{attrs:{class:"token operator"}},[n._v("=")]),n._v("http --permanent "),a("span",{attrs:{class:"token comment"}},[n._v("# 永久开启 http 服务")]),n._v("\n\n$ firewall-cmd --add-port"),a("span",{attrs:{class:"token operator"}},[n._v("=")]),n._v("80/tcp "),a("span",{attrs:{class:"token comment"}},[n._v("# 临时开启 80 端口")]),n._v("\n$ firewall-cmd --add-port"),a("span",{attrs:{class:"token operator"}},[n._v("=")]),n._v("80/tcp --permanent "),a("span",{attrs:{class:"token comment"}},[n._v("# 永久开启 80 端口")]),n._v("\n")])])]),a("h2",{attrs:{id:"设置-nginx-开机启动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设置-nginx-开机启动","aria-hidden":"true"}},[n._v("#")]),n._v(" 设置 nginx 开机启动")]),n._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[n._v("$ systemctl "),a("span",{attrs:{class:"token function"}},[n._v("enable")]),n._v(" nginx.service\nCreated symlink from /etc/systemd/system/multi-user.target.wants/nginx.service to /usr/lib/systemd/system/nginx.service.\n")])])]),a("p",[n._v("或 "),a("code",[n._v("chkconfig --levels 235 nginx on")])]),n._v(" "),a("p",[n._v("nginx 默认站点目录位于 "),a("code",[n._v("/usr/share/nginx/html")])]),n._v(" "),a("h2",{attrs:{id:"浏览器访问"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#浏览器访问","aria-hidden":"true"}},[n._v("#")]),n._v(" 浏览器访问")]),n._v(" "),a("p",[n._v("当浏览器中输出如下内容，说明 nginx 部署成功")]),n._v(" "),a("imgLink",{attrs:{src:"articles/013.jpg/small"}})],1)},[],!1,null,null,null);r.options.__file="Install.md";t.default=r.exports}}]);