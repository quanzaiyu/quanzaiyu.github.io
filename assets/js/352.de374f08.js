(window.webpackJsonp=window.webpackJsonp||[]).push([[352],{650:function(t,s,a){"use strict";a.r(s);var n=a(1),e=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"内置模块-其他"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#内置模块-其他","aria-hidden":"true"}},[t._v("#")]),t._v(" 内置模块 - 其他")]),t._v(" "),a("h2",{attrs:{id:"queue"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#queue","aria-hidden":"true"}},[t._v("#")]),t._v(" Queue")]),t._v(" "),a("p",[t._v("队列，数据存放在内存中，一般用于交换数据。")]),t._v(" "),a("h2",{attrs:{id:"数据压缩"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数据压缩","aria-hidden":"true"}},[t._v("#")]),t._v(" 数据压缩")]),t._v(" "),a("p",[t._v("以下模块直接支持通用的数据打包和压缩格式：zlib，gzip，bz2，zipfile，以及 tarfile。")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" zlib\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" s "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" b"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'witch which has which witches wrist watch'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("len")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("41")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" t "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" zlib"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("compress"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("len")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("37")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" zlib"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("decompress"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nb"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'witch which has which witches wrist watch'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" zlib"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("crc32"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("226805979")]),t._v("\n")])])]),a("h2",{attrs:{id:"logging"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#logging","aria-hidden":"true"}},[t._v("#")]),t._v(" logging")]),t._v(" "),a("p",[t._v("记录日志库。")]),t._v(" "),a("h3",{attrs:{id:"有几个主要的类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#有几个主要的类","aria-hidden":"true"}},[t._v("#")]),t._v(" 有几个主要的类")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("logging.Logger")]),t._v(" "),a("th",[t._v("应用程序记录日志的接口")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("logging.Filter")]),t._v(" "),a("td",[t._v("过滤哪条日志不记录")])]),t._v(" "),a("tr",[a("td",[t._v("logging.FileHandler")]),t._v(" "),a("td",[t._v("日志写到磁盘文件")])]),t._v(" "),a("tr",[a("td",[t._v("logging.Formatter")]),t._v(" "),a("td",[t._v("定义最终日志格式")])])])]),t._v(" "),a("h3",{attrs:{id:"日志级别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#日志级别","aria-hidden":"true"}},[t._v("#")]),t._v(" 日志级别")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("级别")]),t._v(" "),a("th",[t._v("数字值")]),t._v(" "),a("th",[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("critical")]),t._v(" "),a("td",[t._v("50")]),t._v(" "),a("td",[t._v("危险")])]),t._v(" "),a("tr",[a("td",[t._v("error")]),t._v(" "),a("td",[t._v("40")]),t._v(" "),a("td",[t._v("错误")])]),t._v(" "),a("tr",[a("td",[t._v("warning")]),t._v(" "),a("td",[t._v("30")]),t._v(" "),a("td",[t._v("警告")])]),t._v(" "),a("tr",[a("td",[t._v("info")]),t._v(" "),a("td",[t._v("20")]),t._v(" "),a("td",[t._v("普通信息")])]),t._v(" "),a("tr",[a("td",[t._v("debug")]),t._v(" "),a("td",[t._v("10")]),t._v(" "),a("td",[t._v("调试")])]),t._v(" "),a("tr",[a("td",[t._v("noset")]),t._v(" "),a("td",[t._v("0")]),t._v(" "),a("td",[t._v("不设置")])])])]),t._v(" "),a("h3",{attrs:{id:"formatter"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#formatter","aria-hidden":"true"}},[t._v("#")]),t._v(" Formatter")]),t._v(" "),a("p",[t._v("Formatter类可以自定义日志格式，默认时间格式是%Y-%m-%d %H:%M:%S，有以下这些属性：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("%(name)s")]),t._v(" "),a("th",[t._v("日志的名称")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("%(levelno)s")]),t._v(" "),a("td",[t._v("数字日志级别")])]),t._v(" "),a("tr",[a("td",[t._v("%(levelname)s")]),t._v(" "),a("td",[t._v("文本日志级别")])]),t._v(" "),a("tr",[a("td",[t._v("%(pathname)s")]),t._v(" "),a("td",[t._v("调用logging的完整路径（如果可用）")])]),t._v(" "),a("tr",[a("td",[t._v("%(filename)s")]),t._v(" "),a("td",[t._v("文件名的路径名")])]),t._v(" "),a("tr",[a("td",[t._v("%(module)s")]),t._v(" "),a("td",[t._v("模块名")])]),t._v(" "),a("tr",[a("td",[t._v("%(lineno)d")]),t._v(" "),a("td",[t._v("调用logging的源行号")])]),t._v(" "),a("tr",[a("td",[t._v("%(funcName)s")]),t._v(" "),a("td",[t._v("函数名")])]),t._v(" "),a("tr",[a("td",[t._v("%(created)f")]),t._v(" "),a("td",[t._v("创建时间，返回time.time()值")])]),t._v(" "),a("tr",[a("td",[t._v("%(asctime)s")]),t._v(" "),a("td",[t._v("字符串表示创建时间")])]),t._v(" "),a("tr",[a("td",[t._v("%(msecs)d")]),t._v(" "),a("td",[t._v("毫秒表示创建时间")])]),t._v(" "),a("tr",[a("td",[t._v("%(relativeCreated)d")]),t._v(" "),a("td",[t._v("毫秒为单位表示创建时间，相对于logging模块被加载，通常应用程序启动。")])]),t._v(" "),a("tr",[a("td",[t._v("%(thread)d")]),t._v(" "),a("td",[t._v("线程ID（如果可用）")])]),t._v(" "),a("tr",[a("td",[t._v("%(threadName)s")]),t._v(" "),a("td",[t._v("线程名字（如果可用）")])]),t._v(" "),a("tr",[a("td",[t._v("%(process)d")]),t._v(" "),a("td",[t._v("进程ID（如果可用）")])]),t._v(" "),a("tr",[a("td",[t._v("%(message)s")]),t._v(" "),a("td",[t._v("输出的消息")])])])]),t._v(" "),a("p",[t._v("示例:")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#!/usr/bin/python")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# -*- coding: utf-8 -*-")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#--------------------------------------------------")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 日志格式")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#--------------------------------------------------")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# %(asctime)s       年-月-日 时-分-秒,毫秒 2013-04-26 20:10:43,745")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# %(filename)s      文件名，不含目录")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# %(pathname)s      目录名，完整路径")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# %(funcName)s      函数名")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# %(levelname)s     级别名")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# %(lineno)d        行号")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# %(module)s        模块名")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# %(message)s       消息体")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# %(name)s          日志模块名")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# %(process)d       进程id")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# %(processName)s   进程名")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# %(thread)d        线程id")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# %(threadName)s    线程名")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" logging\n"),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("format")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" logging"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Formatter"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'%(asctime)s - %(levelname)s %(filename)s [line:%(lineno)d] %(message)s'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 创建日志记录器")]),t._v("\ninfo_logger "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" logging"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("getLogger"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'info'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 设置日志级别,小于INFO的日志忽略")]),t._v("\ninfo_logger"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("setLevel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("logging"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("INFO"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 日志记录到磁盘文件")]),t._v("\ninfo_file "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" logging"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("FileHandler"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"info.log"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# info_file.setLevel(logging.INFO)")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 设置日志格式")]),t._v("\ninfo_file"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("setFormatter"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("format")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ninfo_logger"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("addHandler"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("info_file"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nerror_logger "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" logging"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("getLogger"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'error'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nerror_logger"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("setLevel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("logging"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ERROR"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nerror_file "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" logging"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("FileHandler"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"error.log"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nerror_file"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("setFormatter"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("format")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nerror_logger"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("addHandler"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error_file"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 输出控制台（stdout）")]),t._v("\nconsole "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" logging"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StreamHandler"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("setLevel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("logging"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DEBUG"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("setFormatter"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("format")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ninfo_logger"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("addHandler"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nerror_logger"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("addHandler"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" __name__ "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"__main__"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 写日志")]),t._v("\n    info_logger"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("warning"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"info message."')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    error_logger"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("error"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"error message!"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h2",{attrs:{id:"configparser"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#configparser","aria-hidden":"true"}},[t._v("#")]),t._v(" ConfigParser")]),t._v(" "),a("p",[t._v("配置文件解析。")]),t._v(" "),a("p",[t._v("这个库我们主要用到ConfigParser.ConfigParser()类，对ini格式文件增删改查。")]),t._v(" "),a("p",[t._v('ini文件固定结构：有多个部分块组成，每个部分有一个[标识]，并有多个key，每个key对应每个值，以等号"="分隔。值的类型有三种：字符串、整数和布尔值。其中字符串可以不用双引号，布尔值为真用1表示，布尔值为假用0表示。注释以分号";"开头。')]),t._v(" "),a("h2",{attrs:{id:"urllib与urllib2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#urllib与urllib2","aria-hidden":"true"}},[t._v("#")]),t._v(" urllib与urllib2")]),t._v(" "),a("p",[t._v("打开URL。urllib2是urllib的增强版，新增了一些功能，比如Request()用来修改Header信息。但是urllib2还去掉了一些好用的方法，比如urlencode()编码序列中的两个元素（元组或字典）为URL查询字符串。一般情况下这两个库结合着用。")])])},[],!1,null,null,null);s.default=e.exports}}]);