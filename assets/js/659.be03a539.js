(window.webpackJsonp=window.webpackJsonp||[]).push([[659],{896:function(a,t,s){"use strict";s.r(t);var r=s(1),n=Object(r.a)({},function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"node-包管理工具-npm-yarn-换源"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#node-包管理工具-npm-yarn-换源","aria-hidden":"true"}},[a._v("#")]),a._v(" node 包管理工具(npm/yarn)换源")]),a._v(" "),s("h2",{attrs:{id:"npm-换源"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#npm-换源","aria-hidden":"true"}},[a._v("#")]),a._v(" npm 换源")]),a._v(" "),s("h3",{attrs:{id:"常用源"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#常用源","aria-hidden":"true"}},[a._v("#")]),a._v(" 常用源")]),a._v(" "),s("p",[s("strong",[a._v("npm 原始镜像")])]),a._v(" "),s("ul",[s("li",[a._v("搜索地址: "),s("a",{attrs:{href:"https://www.npmjs.com",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://www.npmjs.com"),s("OutboundLink")],1)]),a._v(" "),s("li",[a._v("registry地址: https://registry.npmjs.org")])]),a._v(" "),s("p",[s("strong",[a._v("yarn 原始镜像")])]),a._v(" "),s("ul",[s("li",[a._v("搜索地址: "),s("a",{attrs:{href:"https://yarnpkg.com/zh-Hans/packages",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://yarnpkg.com/zh-Hans/packages"),s("OutboundLink")],1)]),a._v(" "),s("li",[a._v("registry地址: https://registry.yarnpkg.com")])]),a._v(" "),s("p",[s("strong",[a._v("淘宝 npm 镜像")])]),a._v(" "),s("ul",[s("li",[a._v("搜索地址: "),s("a",{attrs:{href:"http://npm.taobao.org",target:"_blank",rel:"noopener noreferrer"}},[a._v("http://npm.taobao.org"),s("OutboundLink")],1)]),a._v(" "),s("li",[a._v("registry地址: http://registry.npm.taobao.org/")])]),a._v(" "),s("p",[s("strong",[a._v("cnpmjs 镜像")])]),a._v(" "),s("ul",[s("li",[a._v("搜索地址: "),s("a",{attrs:{href:"http://cnpmjs.org",target:"_blank",rel:"noopener noreferrer"}},[a._v("http://cnpmjs.org"),s("OutboundLink")],1)]),a._v(" "),s("li",[a._v("registry地址: http://r.cnpmjs.org/")])]),a._v(" "),s("h3",{attrs:{id:"查看源"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看源","aria-hidden":"true"}},[a._v("#")]),a._v(" 查看源")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" config list "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 查看 npm 所有设置")]),a._v("\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" config get registry "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 查看 npm 指定设置")]),a._v("\n")])])]),s("h3",{attrs:{id:"更换源"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#更换源","aria-hidden":"true"}},[a._v("#")]),a._v(" 更换源")]),a._v(" "),s("p",[s("strong",[a._v("第1种方法")]),a._v(" 直接更换 "),s("code",[a._v("npm")]),a._v(" 源")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" config "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("set")]),a._v(" registry https://registry.npm.taobao.org\n")])])]),s("p",[s("strong",[a._v("第2种方法")]),a._v(" 另行安装 "),s("code",[a._v("cnpm")]),a._v("，并注册淘宝源")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" -g cnpm --registry"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("https://registry.npm.taobao.org\n")])])]),s("p",[s("strong",[a._v("第3种方法")]),a._v(" 修改 "),s("code",[a._v(".npmrc")])]),a._v(" "),s("p",[a._v("在此文件中加入：")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("registry='https://registry.npm.taobao.org'\n")])])]),s("p",[a._v("此方法适用于 npm，对 yarn 同样生效。")]),a._v(" "),s("p",[s("strong",[a._v("第4中方法")]),a._v(" 临时使用")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" express --registry https://registry.npm.taobao.org\n")])])]),s("p",[s("strong",[a._v("第5种方法")]),a._v(" 使用别名配置 npm")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("alias")]),a._v(" cnpm"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"npm --registry=https://registry.npm.taobao.org \\\n--cache='),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$HOME")]),a._v("/.npm/.cache/cnpm \\\n--disturl=https://npm.taobao.org/dist \\\n--userconfig="),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$HOME")]),a._v('/.cnpmrc"')]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Or alias it in .bashrc or .zshrc")]),a._v("\n$ "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("echo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'\\n#alias for cnpm\\nalias cnpm=\"npm --registry=https://registry.npm.taobao.org \\\n  --cache="),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$HOME")]),a._v("/.npm/.cache/cnpm \\\n  --disturl=https://npm.taobao.org/dist \\\n  --userconfig="),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$HOME")]),a._v("/.cnpmrc\"'")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">>")]),a._v(" ~/.zshrc "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&&")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("source")]),a._v(" ~/.zshrc\n")])])]),s("p",[a._v("之后使用 cnpm 进行安装即可, 这样不需要重新安装 cnpm 即可使用此命令")]),a._v(" "),s("h2",{attrs:{id:"yarn-换源"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#yarn-换源","aria-hidden":"true"}},[a._v("#")]),a._v(" yarn 换源")]),a._v(" "),s("h3",{attrs:{id:"查看源-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看源-2","aria-hidden":"true"}},[a._v("#")]),a._v(" 查看源")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ yarn config list "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 查看 yarn 所有设置")]),a._v("\n$ yarn config get registry "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 查看 yarn 指定设置")]),a._v("\n")])])]),s("h3",{attrs:{id:"更换源-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#更换源-2","aria-hidden":"true"}},[a._v("#")]),a._v(" 更换源")]),a._v(" "),s("p",[s("strong",[a._v("第1种方法")]),a._v(" 直接更换源, 跟 npm 类似：")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ yarn config "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("set")]),a._v(" registry https://registry.npm.taobao.org\n")])])]),s("p",[s("strong",[a._v("第2种方法")]),a._v(" 另行安装 "),s("a",{attrs:{href:"https://github.com/xcatliu/cyarn",target:"_blank",rel:"noopener noreferrer"}},[a._v("cYarn"),s("OutboundLink")],1)]),a._v(" "),s("p",[a._v("cYarn 是使用 cnpm 源的 Yarn。")]),a._v(" "),s("p",[a._v("安装 cYarn：")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" -g cyarn "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 使用 cnpm 默认源进行安装")]),a._v("\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" -g cyarn --registry"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("https://registry.npm.taobao.org "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 使用淘宝源进行安装")]),a._v("\n")])])]),s("p",[s("strong",[a._v("第3种方法")]),a._v(" 使用 "),s("a",{attrs:{href:"https://github.com/i5ting/yrm",target:"_blank",rel:"noopener noreferrer"}},[a._v("yrm"),s("OutboundLink")],1)]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" -g yrm\n$ yrm use cnpm\n")])])]),s("h2",{attrs:{id:"更换-node-sass-等包的安装源"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#更换-node-sass-等包的安装源","aria-hidden":"true"}},[a._v("#")]),a._v(" 更换 node-sass 等包的安装源")]),a._v(" "),s("p",[s("strong",[a._v("第1种方法")]),a._v(" 更换源")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" config "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("set")]),a._v(" sass_binary_site https://npm.taobao.org/mirrors/node-sass/\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" config "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("set")]),a._v(" phantomjs_cdnurl https://npm.taobao.org/mirrors/phantomjs/\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" config "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("set")]),a._v(" electron_mirror https://npm.taobao.org/mirrors/electron/\n")])])]),s("p",[s("strong",[a._v("第2种方法")]),a._v(" 安装时指定")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" i node-sass --sass_binary_site"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("https://npm.taobao.org/mirrors/node-sass/\n\n// 也可以设置系统环境变量的方式。示例\n// linux、mac 下\n$ SASS_BINARY_SITE"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("https://npm.taobao.org/mirrors/node-sass/ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" node-sass\n\n// window 下\n$ "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("set")]),a._v(" SASS_BINARY_SITE"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("https://npm.taobao.org/mirrors/node-sass/ "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&&")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" node-sass\n")])])]),s("p",[s("strong",[a._v("第3种方法")]),a._v(" 使用VPN")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" config "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("set")]),a._v(" proxy"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("http://127.0.0.1:1080 "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#此处是VPN的代理地址")]),a._v("\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" i node-sass\n")])])]),s("p",[a._v("下载完成后删除 http 代理")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" config delete proxy\n")])])]),s("h3",{attrs:{id:"错误解决"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#错误解决","aria-hidden":"true"}},[a._v("#")]),a._v(" 错误解决")]),a._v(" "),s("p",[a._v("提示没有安装python、build失败等")]),a._v(" "),s("p",[a._v("执行")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" -g node-gyp\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" --global --production windows-build-tools\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" rebuild node-sass\n")])])]),s("h2",{attrs:{id:"参考资料"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参考资料","aria-hidden":"true"}},[a._v("#")]),a._v(" 参考资料")]),a._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://cnodejs.org/topic/581d96d5bb9452c9052e7b58",target:"_blank",rel:"noopener noreferrer"}},[a._v("在中国，安装 & 升级 npm 依赖的正确方法"),s("OutboundLink")],1)]),a._v(" "),s("li",[s("a",{attrs:{href:"http://riny.net/2014/cnpm/",target:"_blank",rel:"noopener noreferrer"}},[a._v("国内优秀npm镜像推荐及使用"),s("OutboundLink")],1)])]),a._v(" "),s("p",[a._v("yarn")]),a._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://yarnpkg.com/zh-Hans/docs/cli/create",target:"_blank",rel:"noopener noreferrer"}},[a._v("yarn create"),s("OutboundLink")],1)])]),a._v(" "),s("p",[a._v("node-sass")]),a._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://blog.csdn.net/a295277302/article/details/70992404",target:"_blank",rel:"noopener noreferrer"}},[a._v("node安装node-sass失败，配置淘宝源"),s("OutboundLink")],1)]),a._v(" "),s("li",[s("a",{attrs:{href:"https://segmentfault.com/a/1190000010984731",target:"_blank",rel:"noopener noreferrer"}},[a._v("整理 node-sass 安装失败的原因及解决办法"),s("OutboundLink")],1)]),a._v(" "),s("li",[s("a",{attrs:{href:"https://segmentfault.com/q/1010000009068215/a-1020000009068824",target:"_blank",rel:"noopener noreferrer"}},[a._v("install node-sass出错，提示not found: python2"),s("OutboundLink")],1)]),a._v(" "),s("li",[s("a",{attrs:{href:"https://blog.csdn.net/weixin_36222137/article/details/78463543",target:"_blank",rel:"noopener noreferrer"}},[a._v('Error: Can\'t find Python executable "python", you can set the PYTHON env variable.解决办法'),s("OutboundLink")],1)])])])},[],!1,null,null,null);t.default=n.exports}}]);