(window.webpackJsonp=window.webpackJsonp||[]).push([[499],{784:function(t,a,s){"use strict";s.r(a);var n=s(1),e=Object(n.a)({},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"环境变量配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#环境变量配置","aria-hidden":"true"}},[t._v("#")]),t._v(" 环境变量配置")]),t._v(" "),s("p",[t._v("在项目根目录下用 "),s("code",[t._v(".env")]),t._v(" 文件做配置，文件使用 "),s("code",[t._v(".ini")]),t._v(" 配置风格，也就是 "),s("code",[t._v("配置项名称=配置值")]),t._v("。")]),t._v(" "),s("p",[t._v("比如在 "),s("code",[t._v(".env")]),t._v(" 文件中输入:")]),t._v(" "),s("div",{staticClass:"language-ini extra-class"},[s("pre",{pre:!0,attrs:{class:"language-ini"}},[s("code",[s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("my_env")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("dev")]),t._v("\n")])])]),s("p",[t._v("在控制器中获取:")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[t._v("\\"),s("span",{pre:!0,attrs:{class:"token package"}},[t._v("think"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Env")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'my_env'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("也可使用 use 引入命名空间")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token package"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("think"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Env")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n\nEnv"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'my_env'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h2",{attrs:{id:"系统环境变量"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#系统环境变量","aria-hidden":"true"}},[t._v("#")]),t._v(" 系统环境变量")]),t._v(" "),s("p",[t._v("可以通过 Env 获取系统环境变量，在 ThinkPHP5.1 中， Env 已经包装在 facade 中。")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token package"}},[t._v("think"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("facade"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("ENV")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获取应用目录（不区分大小写）")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("echo")]),t._v(" Env"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'app_path'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 或者")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("echo")]),t._v(" Env"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'APP_PATH'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("支持的系统环境变量包括 :")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("系统路径")]),t._v(" "),s("th",[t._v("Env参数名称")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("应用根目录")]),t._v(" "),s("td",[t._v("root_path")])]),t._v(" "),s("tr",[s("td",[t._v("应用目录")]),t._v(" "),s("td",[t._v("app_path")])]),t._v(" "),s("tr",[s("td",[t._v("框架目录")]),t._v(" "),s("td",[t._v("think_path")])]),t._v(" "),s("tr",[s("td",[t._v("配置目录")]),t._v(" "),s("td",[t._v("config_path")])]),t._v(" "),s("tr",[s("td",[t._v("扩展目录")]),t._v(" "),s("td",[t._v("extend_path")])]),t._v(" "),s("tr",[s("td",[t._v("composer目录")]),t._v(" "),s("td",[t._v("vendor_path")])]),t._v(" "),s("tr",[s("td",[t._v("运行缓存目录")]),t._v(" "),s("td",[t._v("runtime_path")])]),t._v(" "),s("tr",[s("td",[t._v("路由目录")]),t._v(" "),s("td",[t._v("route_path")])]),t._v(" "),s("tr",[s("td",[t._v("当前模块目录")]),t._v(" "),s("td",[t._v("module_path")])])])])])},[],!1,null,null,null);a.default=e.exports}}]);