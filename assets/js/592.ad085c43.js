(window.webpackJsonp=window.webpackJsonp||[]).push([[592],{857:function(t,s,e){"use strict";e.r(s);var a=e(1),n=Object(a.a)({},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"解决-centos7-不能联网且-ifconfig-出现-command-not-found"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#解决-centos7-不能联网且-ifconfig-出现-command-not-found","aria-hidden":"true"}},[t._v("#")]),t._v(" 解决 Centos7 不能联网且 ifconfig 出现 command not found")]),t._v(" "),e("p",[t._v("在虚拟机中以最小化方式安装 centos7 后无法上网，因为 "),e("code",[t._v("centos7")]),t._v(" 默认网卡未激活，网络服务默认是关闭的状态。")]),t._v(" "),e("p",[t._v("而且在 "),e("code",[t._v("sbin")]),t._v(" 目录中没有 "),e("code",[t._v("ifconfig")]),t._v(" 文件，这是因为 centos7 已经不使用 ifconfig 命令了，已经用 "),e("code",[t._v("ip")]),t._v(" 命令代替。")]),t._v(" "),e("p",[t._v("并且网卡名称也不是 "),e("code",[t._v("eth0")]),t._v(" 了，而是改成 "),e("code",[t._v("ifcfg-eth0")]),t._v(" 了。")]),t._v(" "),e("p",[t._v("解决ifconfig不可用："),e("code",[t._v("ip addr")]),t._v(" 即查看分配网卡情况。")]),t._v(" "),e("p",[t._v("激活网卡：在文件 "),e("code",[t._v("/etc/sysconfig/network-scripts/ifcfg-eth0")]),t._v(" 中。")]),t._v(" "),e("p",[t._v("使用 vi 进入编辑模式，将 "),e("code",[t._v("ONBOOT=no")]),t._v(" 改为 "),e("code",[t._v("ONBOOT=yes")]),t._v(" 就 OK 了。")]),t._v(" "),e("p",[t._v("保存后重启网卡："),e("code",[t._v("service network restart")])]),t._v(" "),e("p",[t._v("使用 ping 测试一下是否可以联网。")]),t._v(" "),e("p",[t._v("这样 yum，wget 等都可以用了。")]),t._v(" "),e("h2",{attrs:{id:"配置网络详解"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置网络详解","aria-hidden":"true"}},[t._v("#")]),t._v(" 配置网络详解")]),t._v(" "),e("p",[t._v("开启网络的具体配置步骤为:")]),t._v(" "),e("ol",[e("li",[t._v("打开终端，切换到root账户（普通账户通常没有修改网络配置文件的权限，所以要切换到root账户）")]),t._v(" "),e("li",[t._v("切换到网卡配置文件的目录 "),e("code",[t._v("cd /etc/sysconfig/network-scripts/")])]),t._v(" "),e("li",[t._v("找到网卡的配置文件（centos7修改了网卡的命名规则，不再是我们熟悉的eth0了，而是ifcfg-eno+一串数字）")]),t._v(" "),e("li",[t._v("用 vi 打开这个文件")]),t._v(" "),e("li",[t._v("最后一行的onboot选项，把默认的no改成yes")]),t._v(" "),e("li",[t._v("用命令 :wq! 保存退出")])]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("cat")]),t._v(" ifcfg-ens33\nTYPE"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("Ethernet\nBOOTPROTO"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("dhcp\nDEFROUTE"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("yes\nPEERDNS"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("yes\nPEERROUTES"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("yes\nIPV4_FAILURE_FATAL"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("no\nIPV6INIT"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("yes\nIPV6_AUTOCONF"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("yes\nIPV6_DEFROUTE"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("yes\nIPV6_PEERDNS"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("yes\nIPV6_PEERROUTES"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("yes\nIPV6_FAILURE_FATAL"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("no\nIPV6_ADDR_GEN_MODE"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("stable-privacy\nNAME"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("ens33\nUUID"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("12509981-530b-403b-bbc0-493447de2d1f\nDEVICE"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("ens33\nONBOOT"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("yes\n")])])]),e("h2",{attrs:{id:"安装-ifconfig-命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装-ifconfig-命令","aria-hidden":"true"}},[t._v("#")]),t._v(" 安装 ifconfig 命令")]),t._v(" "),e("p",[t._v("不推荐再在 centOS 中安装 ifconfig 命令，因为系统已默认使用 ip 命令替代 ifconfig 命令，不过仍然可以安装。")]),t._v(" "),e("p",[t._v("首先查找包括 ifconfig 的包")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("$ yum search "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("ifconfig")]),t._v("\n")])])]),e("p",[t._v("通过yum search 这个命令发现 ifconfig 这个命令是在 net-tools.x86_64 这个包里，运行")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("yum "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" net-tools\n")])])]),e("h2",{attrs:{id:"参考资料"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参考资料","aria-hidden":"true"}},[t._v("#")]),t._v(" 参考资料")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://blog.csdn.net/qq_31382921/article/details/52174626",target:"_blank",rel:"noopener noreferrer"}},[t._v("解决 Centos7 不能联网且 ifconfig 出现 command not found"),e("OutboundLink")],1)])])])},[],!1,null,null,null);s.default=n.exports}}]);