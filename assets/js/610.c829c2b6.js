(window.webpackJsonp=window.webpackJsonp||[]).push([[610],{858:function(t,n,s){"use strict";s.r(n);var a=s(1),e=Object(a.a)({},function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"在-coding-中使用-webhook-部署应用-jenkins"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#在-coding-中使用-webhook-部署应用-jenkins","aria-hidden":"true"}},[t._v("#")]),t._v(" 在 Coding 中使用 webhook 部署应用(Jenkins)")]),t._v(" "),s("h2",{attrs:{id:"准备工作"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#准备工作","aria-hidden":"true"}},[t._v("#")]),t._v(" 准备工作")]),t._v(" "),s("ol",[s("li",[t._v("在 Coding 中创建个人项目")]),t._v(" "),s("li",[t._v("在服务器中部署Docker、Jenkins等相关服务")])]),t._v(" "),s("h2",{attrs:{id:"一步一步搭建"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一步一步搭建","aria-hidden":"true"}},[t._v("#")]),t._v(" 一步一步搭建")]),t._v(" "),s("ol",[s("li",[t._v("安装相应Jenkins插件 "),s("a",{attrs:{href:"https://plugins.jenkins.io/coding-webhook",target:"_blank",rel:"noopener noreferrer"}},[t._v("coding-webhook"),s("OutboundLink")],1)])]),t._v(" "),s("p",[t._v("通过单一流水线的方式, 可设定Coding触发条件")]),t._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[t._v("在项目中配置 Jenkinsfile")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("pipeline "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    agent "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" docker "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'kkarczmarczyk/node-yarn:latest'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    stages "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        stage"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'build'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            steps "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                sh "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'yarn --version'")]),t._v("\n                sh "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'yarn'")]),t._v("\n                sh "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'yarn build'")]),t._v("\n                sh "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ls'")]),t._v("\n                sh "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pwd'")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("ol",{attrs:{start:"3"}},[s("li",[t._v("配置Jenkins")])]),t._v(" "),s("p",[t._v("创建一个单分支流水线")]),t._v(" "),s("p",[t._v("配置触发器")]),t._v(" "),s("imgLink",{attrs:{src:"date/20190314/010.png"}}),t._v(" "),s("p",[t._v("记住 Coding WebHook 地址")]),t._v(" "),s("p",[t._v("配置管道")]),t._v(" "),s("imgLink",{attrs:{src:"date/20190314/011.png"}}),t._v(" "),s("ol",{attrs:{start:"4"}},[s("li",[t._v("配置Coding")])]),t._v(" "),s("imgLink",{attrs:{src:"date/20190314/012.png"}}),t._v(" "),s("ol",{attrs:{start:"5"}},[s("li",[t._v("测试")])]),t._v(" "),s("p",[t._v("本地修改代码后, 提交到 Coding, 打开 Jenkins 管理页面, 可以看到构建成功:")]),t._v(" "),s("imgLink",{attrs:{src:"date/20190314/013.png"}}),t._v(" "),s("h2",{attrs:{id:"参考资料"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参考资料","aria-hidden":"true"}},[t._v("#")]),t._v(" 参考资料")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://open.coding.net/ci/jenkins/",target:"_blank",rel:"noopener noreferrer"}},[t._v("使用 Jenkins 构建 Coding 项目"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://blog.csdn.net/jonsonler/article/details/81317352",target:"_blank",rel:"noopener noreferrer"}},[t._v("jenkins自动化部署vue"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://blog.csdn.net/ansu2009/article/details/83584796",target:"_blank",rel:"noopener noreferrer"}},[t._v("Jenkins自动化构建vue项目然后发布到远程服务器"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://www.cnblogs.com/vipzhou/p/7890016.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("jenkins学习之自动打包构建nodejs应用"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://www.jianshu.com/p/0a865a321d78",target:"_blank",rel:"noopener noreferrer"}},[t._v("Jenkins---jenkins中安装nodejs"),s("OutboundLink")],1)])])],1)},[],!1,null,null,null);n.default=e.exports}}]);