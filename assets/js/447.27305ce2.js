(window.webpackJsonp=window.webpackJsonp||[]).push([[447],{620:function(t,s,a){"use strict";a.r(s);var n=a(1),e=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[a("h1",{attrs:{id:"mac-os-设置定时任务"}},[t._v("Mac OS 设置定时任务")]),t._v(" "),a("h2",{attrs:{id:"使用-launchctl-设置定时任务"}},[t._v("使用 launchctl 设置定时任务")]),t._v(" "),t._m(0),t._v(" "),a("p",[t._v("当然 mac 也可以像 linux 系统一样，使用 crontab 命令来添加定时任务，这里就不赘述，具体可参见："),a("a",{attrs:{href:"http://codingpub.github.io/2016/10/27/OS-X-%E6%B7%BB%E5%8A%A0%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1/",target:"_blank",rel:"noopener noreferrer"}},[t._v("OS X 添加定时任务"),a("OutboundLink")],1)]),t._v(" "),t._m(1),t._v(" "),a("h3",{attrs:{id:"创建-run-sh-脚本"}},[t._v("创建 run.sh 脚本")]),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),a("p",[t._v("创建run.sh脚本")]),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._m(7),t._v(" "),t._m(8),t._v(" "),a("h3",{attrs:{id:"编写-plist-文件"}},[t._v("编写 plist 文件")]),t._v(" "),a("p",[t._v("launchctl 将根据plist文件的信息来启动任务。")]),t._v(" "),a("p",[t._v("plist脚本一般存放在以下目录：")]),t._v(" "),t._m(9),t._m(10),t._v(" "),t._m(11),a("h3",{attrs:{id:"加载命令"}},[t._v("加载命令")]),t._v(" "),t._m(12),t._v(" "),a("p",[t._v("更多的命令：")]),t._v(" "),t._m(13),t._m(14),t._v(" "),a("h3",{attrs:{id:"plist部分参数说明："}},[t._v("plist部分参数说明：")]),t._v(" "),t._m(15),t._v(" "),t._m(16),t._v(" "),t._m(17),t._v(" "),a("h2",{attrs:{id:"使用-crontab-设置定时任务"}},[t._v("使用 crontab 设置定时任务")]),t._v(" "),a("p",[t._v("通过crontab 命令，我们可以在固定的间隔时间执行指定的系统指令或 shell script 脚本。时间间隔的单位可以是分钟、小时、日、月、周及以上的任意组合。这个命令非常适合周期性的日志分析或数据备份等工作。")]),t._v(" "),a("h3",{attrs:{id:"命令格式"}},[t._v("命令格式")]),t._v(" "),t._m(18),t._m(19),t._v(" "),a("h3",{attrs:{id:"crontab-文件格式"}},[t._v("crontab 文件格式")]),t._v(" "),t._m(20),t._m(21),t._v(" "),a("h3",{attrs:{id:"备份-恢复-crontab"}},[t._v("备份/恢复 crontab")]),t._v(" "),a("p",[t._v("可以定时备份 crontab 以防误删操作")]),t._v(" "),t._m(22),a("h3",{attrs:{id:"定时实例"}},[t._v("定时实例")]),t._v(" "),t._m(23),a("h3",{attrs:{id:"注意清理系统用户的邮件日志"}},[t._v("注意清理系统用户的邮件日志")]),t._v(" "),a("p",[t._v("每条任务调度执行完毕，系统都会将任务输出信息通过电子邮件的形式发送给当前系统用户，这样日积月累，日志信息会非常大，可能会影响系统的正常运行，因此，将每条任务进行重定向处理非常重要。 例如，可以在crontab文件中设置如下形式，忽略日志输出:")]),t._v(" "),t._m(24),a("h2",{attrs:{id:"参考资料"}},[t._v("参考资料")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://www.jianshu.com/p/4addd9b455f2",target:"_blank",rel:"noopener noreferrer"}},[t._v("Mac中的定时任务利器：launchctl"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"http://codingpub.github.io/2016/10/27/OS-X-%E6%B7%BB%E5%8A%A0%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1/",target:"_blank",rel:"noopener noreferrer"}},[t._v("OS X 添加定时任务"),a("OutboundLink")],1)])])},[function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("launchctl 是一个统一的服务管理框架，可以启动、停止和管理守护进程、应用程序、进程和脚本等。")]),this._v(" "),s("li",[this._v("launchctl 是通过配置文件来指定执行周期和任务的。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("下面将手把手教你在mac上创建定时任务。（任务目标：每天晚上十点定时执行 "),s("code",[this._v("/Users/demo/helloworld.py")]),this._v(" 的 python 程序）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("进入 "),s("code",[this._v("helloworld.py")]),this._v(" 程序所在目录")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("cd /User/demo")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("vi run.sh")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("添加执行 "),s("code",[this._v("helloworld.py")]),this._v(" 的命令")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("#!/bin/sh\n\n# 记录一下开始时间\necho `date` >> /Users/demo/log &&\n# 进入helloworld.py程序所在目录\ncd /Users/demo &&\n# 执行python脚本（注意前面要指定python运行环境/usr/bin/python，根据自己的情况改变）\n/usr/bin/python helloworld.py\n# 运行完成\necho 'finish' >> /Users/demo/log\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("：wq")]),this._v(" 保存退出")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("注意，脚本要改成可执行的权限 "),s("code",[this._v("chmod 777 run.sh")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("/Library/LaunchDaemons "),a("span",{attrs:{class:"token comment"}},[t._v("# 由管理员定义的守护进程任务项，只要系统启动了，哪怕用户不登陆系统也会被执行")]),t._v("\n/Library/LaunchAgents "),a("span",{attrs:{class:"token comment"}},[t._v("# 由管理员为用户定义的任务项，当用户登陆系统后才会被执行")]),t._v("\n~/Library/LaunchDaemons "),a("span",{attrs:{class:"token comment"}},[t._v("# 由用户自己定义的守护进程任务项")]),t._v("\n~/Library/LaunchAgents "),a("span",{attrs:{class:"token comment"}},[t._v("# 由用户自己定义的任务项")]),t._v("\n/System/Library/LaunchAgents "),a("span",{attrs:{class:"token comment"}},[t._v("# 由Mac OS X为用户定义的任务项")]),t._v("\n/System/Library/LaunchDaemons "),a("span",{attrs:{class:"token comment"}},[t._v("# 由Mac OS X定义的守护进程任务项")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("进入 "),s("code",[this._v("~/Library/LaunchAgents")]),this._v("，创建一个plist文件 "),s("code",[this._v("com.demo.plist")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{attrs:{class:"token prolog"}},[t._v('<?xml version="1.0" encoding="UTF-8"?>')]),t._v("\n"),a("span",{attrs:{class:"token doctype"}},[t._v('<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">')]),t._v("\n"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("plist")]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("version")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("1.0"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dict")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{attrs:{class:"token comment"}},[t._v("\x3c!-- Label唯一的标识 --\x3e")]),t._v("\n    "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("key")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("Label"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("key")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("string")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("com.demo.plist"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("string")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{attrs:{class:"token comment"}},[t._v("\x3c!-- 指定要运行的脚本 --\x3e")]),t._v("\n    "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("key")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("ProgramArguments"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("key")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("array")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("string")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("/Users/demo/run.sh"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("string")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("array")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{attrs:{class:"token comment"}},[t._v("\x3c!-- 指定要运行的时间 --\x3e")]),t._v("\n    "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("key")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("StartCalendarInterval"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("key")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dict")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("key")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("Minute"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("key")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("integer")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("00"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("integer")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("key")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("Hour"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("key")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("integer")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("22"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("integer")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dict")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{attrs:{class:"token comment"}},[t._v("\x3c!-- 标准输出文件 --\x3e")]),t._v("\n    "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("key")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("StandardOutPath"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("key")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("string")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("/Users/demo/run.log"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("string")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{attrs:{class:"token comment"}},[t._v("\x3c!-- 标准错误输出文件，错误日志 --\x3e")]),t._v("\n    "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("key")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("StandardErrorPath"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("key")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("string")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("/Users/demo/run.err"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("string")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dict")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("plist")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("launchctl load -w com.demo.plist")]),this._v(" 这样任务就加载成功了。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("# 加载任务, -w 选项会将 plist 文件中无效的 key 覆盖掉，建议加上")]),t._v("\n$ launchctl load -w com.demo.plist\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("# 删除任务")]),t._v("\n$ launchctl unload -w com.demo.plist\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("# 查看任务列表, 使用 grep '任务部分名字' 过滤")]),t._v("\n$ launchctl list "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("grep")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'com.demo'")]),t._v("\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("# 开始任务")]),t._v("\n$ launchctl start  com.demo.plist\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("# 结束任务")]),t._v("\n$ launchctl stop   com.demo.plist\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("如果任务被修改了，那么必须先 unload，然后重新 load")]),this._v(" "),s("li",[this._v("start 可以测试任务，这个是立即执行，不管时间到了没有")]),this._v(" "),s("li",[this._v("执行 start 和 unload 前，任务必须先 load 过，否则报错")]),this._v(" "),s("li",[this._v("stop 可以停止任务")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",[s("li",[this._v("Label：对应的需要保证全局唯一性；")]),this._v(" "),s("li",[this._v("Program：要运行的程序；")]),this._v(" "),s("li",[this._v("ProgramArguments：命令语句")]),this._v(" "),s("li",[this._v("StartCalendarInterval：可以指定脚本在多少分钟、小时、天、星期几、月时间上执行，类似如crontab的中的设置，单个时间点使用dict，多个时间点使用 array、dict，包含下面的 key:")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[t._v("Minute "),a("code",[t._v("<integer>")])]),t._v(" "),a("li",[t._v("Hour "),a("code",[t._v("<integer>")])]),t._v(" "),a("li",[t._v("Day "),a("code",[t._v("<integer>")])]),t._v(" "),a("li",[t._v("Weekday "),a("code",[t._v("<integer>")]),t._v(" (0 and 7 are Sunday)")]),t._v(" "),a("li",[t._v("Month "),a("code",[t._v("<integer>")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",{attrs:{start:"5"}},[s("li",[this._v("StartInterval：时间间隔，指定脚本每间隔多长时间（单位：秒）执行一次，与 StartCalendarInterval 使用其一，单位为秒")]),this._v(" "),s("li",[this._v("StandardInPath、StandardOutPath、StandardErrorPath：标准的输入输出错误文件，这里建议不要使用 .log 作为后缀，会打不开里面的信息。")]),this._v(" "),s("li",[this._v("定时启动任务时，如果涉及到网络，但是电脑处于睡眠状态，是执行不了的，这个时候，可以定时的启动屏幕就好了。")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token function"}},[t._v("crontab")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("-u user"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("file")]),t._v("\n"),a("span",{attrs:{class:"token function"}},[t._v("crontab")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("-u user"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" -e "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v(" -l "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v(" -r "),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[t._v("-u user：用来设定某个用户的crontab服务；")]),t._v(" "),a("li",[t._v("file：file是命令文件的名字,表示将file做为crontab的任务列表文件并载入crontab。如果在命令行中没有指定这个文件，crontab命令将接受标准输入（键盘）上键入的命令，并将它们载入crontab。")]),t._v(" "),a("li",[t._v("-e：编辑某个用户的crontab文件内容。如果不指定用户，则表示编辑当前用户的crontab文件。")]),t._v(" "),a("li",[t._v("-l：显示某个用户的crontab文件内容，如果不指定用户，则表示显示当前用户的crontab文件内容。")]),t._v(" "),a("li",[t._v("-r：从/var/spool/cron目录中删除某个用户的crontab文件，如果不指定用户，则默认删除当前用户的crontab文件。")]),t._v(" "),a("li",[t._v("-i：在删除用户的crontab文件时给确认提示。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("分 时 日 月 星期 要运行的命令\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[t._v("第1列分钟1～59")]),t._v(" "),a("li",[t._v("第2列小时1～23（0表示子夜）")]),t._v(" "),a("li",[t._v("第3列日1～31")]),t._v(" "),a("li",[t._v("第4列月1～12")]),t._v(" "),a("li",[t._v("第5列星期0～7（0和7表示星期天）")]),t._v(" "),a("li",[t._v("第6列要运行的命令")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("# 备份")]),t._v("\n"),a("span",{attrs:{class:"token function"}},[t._v("crontab")]),t._v(" -l "),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{attrs:{class:"token variable"}},[t._v("$HOME")]),t._v("/.mycron\n"),a("span",{attrs:{class:"token comment"}},[t._v("# 恢复")]),t._v("\n"),a("span",{attrs:{class:"token function"}},[t._v("crontab")]),t._v(" "),a("span",{attrs:{class:"token variable"}},[t._v("$HOME")]),t._v("/.mycron\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("# 每1分钟执行一次myCommand")]),t._v("\n* * * * * myCommand\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("# 每小时的第3和第15分钟执行")]),t._v("\n3,15 * * * * myCommand\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("# 在上午8点到11点的第3和第15分钟执行")]),t._v("\n3,15 8-11 * * * myCommand\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("# 每隔两天的上午8点到11点的第3和第15分钟执行")]),t._v("\n3,15 8-11 */2  *  * myCommand\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("# 每周一上午8点到11点的第3和第15分钟执行")]),t._v("\n3,15 8-11 * * 1 myCommand\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("# 晚上11点到早上7点之间，每隔一小时重启smb")]),t._v("\n* 23-7/1 * * * /etc/init.d/smb restart\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("0 */3 * * * /usr/local/apache2/apachectl restart "),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("/dev/null 2"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),a("span",{attrs:{class:"token operator"}},[t._v("&")]),t._v("1\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])])}],!1,null,null,null);e.options.__file="MacOS_Launchctl.md";s.default=e.exports}}]);