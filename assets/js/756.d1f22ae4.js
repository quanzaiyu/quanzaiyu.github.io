(window.webpackJsonp=window.webpackJsonp||[]).push([[756],{625:function(s,t,a){"use strict";a.r(t);var e=a(1),r=Object(e.a)({},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"使用-gogs-搭建-自己的-git-环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用-gogs-搭建-自己的-git-环境","aria-hidden":"true"}},[s._v("#")]),s._v(" 使用 gogs 搭建 自己的 git 环境")]),s._v(" "),a("p",[s._v("Gogs 是一款极易搭建的自助 Git 服务。")]),s._v(" "),a("p",[s._v("Gogs 的目标是打造一个最简单、最快速和最轻松的方式搭建自助 Git 服务。使用 Go 语言开发使得 Gogs 能够通过独立的二进制分发，并且支持 Go 语言支持的 所有平台，包括 Linux、Mac OS X、Windows 以及 ARM 平台。")]),s._v(" "),a("p",[s._v("本文讲述的是通过 docker 安装 gogs 环境。")]),s._v(" "),a("h2",{attrs:{id:"安装-mysql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装-mysql","aria-hidden":"true"}},[s._v("#")]),s._v(" 安装 mysql")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ docker pull mysql\n$ docker run -d -p 13306:3306  --name"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("mysql -v /opt/mydata/:/var/lib/mysql -e MYSQL_ROOT_PASSWORD"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("123456 mysql:latest\n$ firewall-cmd --add-port"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("13306/tcp\n")])])]),a("p",[s._v("上面的命令, 通过 docker 拉取了 mysql 镜像, 并开启了宿主机的 13306, 将容器的的 3306 端口映射到宿主机的 13306, 然后将 13306 端口放行, 以便管理。")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ docker "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("exec")]),s._v(" -it mysql /bin/bash\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 此时进入容器")]),s._v("\nroot@c2e0d973b6ad:/"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# mysql --version")]),s._v("\nmysql  Ver 8.0.13 "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" Linux on x86_64 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("MySQL Community Server - GPL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nroot@c2e0d973b6ad:/"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# mysql -uroot -p123456")]),s._v("\nmysql: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Warning"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" Using a password on the "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("command")]),s._v(" line interface can be insecure.\nWelcome to the MySQL monitor.  Commands end with "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" or \\g.\nYour MySQL connection "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v(" is 3768\nServer version: 8.0.13 MySQL Community Server - GPL\n\nCopyright "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("c"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 2000, 2018, Oracle and/or its affiliates. All rights reserved.\n\nOracle is a registered trademark of Oracle Corporation and/or its\naffiliates. Other names may be trademarks of their respective\nowners.\n\nType "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'help;'")]),s._v(" or "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'\\h'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" help. Type "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'\\c'")]),s._v(" to "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("clear")]),s._v(" the current input statement.\n\nmysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])])]),a("p",[s._v("以上命令, 进入容器进行操作, 再进入 mysql 的命令行执行环境。")]),s._v(" "),a("p",[s._v("创建一个叫 gogs 的数据库, 用于存放相关数据。")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> create database gogs;\nQuery OK, 1 row affected (0.03 sec)\nmysql> show databases;\n+--------------------+\n| Database           |\n+--------------------+\n| gogs               |\n| information_schema |\n| mysql              |\n| performance_schema |\n| sys                |\n+--------------------+\n6 rows in set (0.00 sec)\n")])])]),a("p",[s._v("ok, 准备工作完毕, 准备安装 gogs 环境。")]),s._v(" "),a("h2",{attrs:{id:"安装-gogs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装-gogs","aria-hidden":"true"}},[s._v("#")]),s._v(" 安装 gogs")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ docker pull gogs/gogs\n$ docker run --name"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("gogs -p 10022:22 -p 10080:3000 -v /var/gogs:/data gogs/gogs\n$ firewall-cmd --add-port"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("10080/tcp\n")])])]),a("p",[s._v("同样地, 拉取 gogs 镜像, 运行容器, 并开启防火墙指定端口。")]),s._v(" "),a("p",[s._v("此时, 就可愉快地用浏览器打开页面了:")]),s._v(" "),a("imgLink",{attrs:{src:"date/20181128/010_gogs.png"}}),s._v(" "),a("p",[s._v("这里注意几处, mysql 地址填写 mysql 容器开启的端口, 用户名为 root, 密码为填写的 MYSQL_ROOT_PASSWORD, IP 填写宿主机的 IP, SSH 可以置空, 毕竟自己用嘛, 如果要填就填 10022, 这样得从防火墙里面将此端口放行。")]),s._v(" "),a("h2",{attrs:{id:"参考资料"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考资料","aria-hidden":"true"}},[s._v("#")]),s._v(" 参考资料")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://blog.csdn.net/meibo69631310/article/details/79767810",target:"_blank",rel:"noopener noreferrer"}},[s._v("docker安装gogs - CSDN"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://www.cnblogs.com/chcong/p/6197238.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("mysql命令行修改字符编码"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://www.cnblogs.com/liuhouhou/p/5400540.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("Linux kill -9 和 kill -15 的区别"),a("OutboundLink")],1)])])],1)},[],!1,null,null,null);t.default=r.exports}}]);