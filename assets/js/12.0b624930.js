(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{333:function(t,e,s){"use strict";s.r(e);var r=s(1),a=Object(r.a)({},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),s("p",[t._v("Docker 提供了一个可以运行你的运行程序的封套（envelope），或者说容器。它最初是用Go语言编写的，它就相当于是加在LXC（Linux Containers）上的管道，允许开发者在更高层次的概念上工作。")]),t._v(" "),s("p",[t._v("Docker 也是一个云计算平台，它利用 Linux 的 LXC、AUFU、Go语言、cgroup实现了资源的独立，可以很轻松地实现文件、资源、网络等隔离，其最终的目标是实现类似 PaaS 平台的应用隔离。")]),t._v(" "),s("p",[t._v("Docker 会像一个可移植引擎那样工作。它把应用程序以及所有应用程序的依赖环境打包到一个虚拟容器中，这个虚拟容器可以运行在任何一种Linux服务器上。这大大地提高了程序运行的灵活性和可移植性，无论需不需要许可、是在公共云还是私密云、是不是裸机环境等等。")]),t._v(" "),t._m(4),t._v(" "),s("p",[t._v("Docker 是 Docker.Inc（前身dotCloud）公司开源的一个基于 LXC 技术之上构建的 Container 容器引擎，它原本是dotCloud启动的一个业余项目，源代码托管在 GitHub 上，基于 Go 语言并遵从 Apache2.0 协议，于2013年3月27日作为 public 项目发布。它吸引了大量的关注和讨论，导致 dotCloud 把它重命名到 Docker Inc。")]),t._v(" "),s("p",[t._v("Docker 是通过内核虚拟化技术（namespaces 及 cgroup等）来提供容器的资源隔离与安全保障等，由于 Docker 通过操作系统层的虚拟化实现隔离，所以 Docker 所以 Docker 容器在运行时，不需要类似虚拟机（VM）额外的操作系统开销，提高资源利用率。")]),t._v(" "),t._m(5),t._v(" "),s("p",[t._v("Docker 可以让开发者打包他们的应用以及依赖包到一个轻量级、可移植的容器中，然后发布到任何流行的 Linux 机器上，也可以实现虚拟化。")]),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),t._m(11),t._v(" "),s("p",[t._v("Docker 使用客户端-服务器（C/S）架构模式。Docker客户端会与Docker守护进程进行通讯。Docker守护进程会处理复杂繁重的任务，例如建立、运行、发布你的Docker容器。Docker客户端和守护进程可以运行在同一个系统上，当然你也可以使用Docker客户端去连接一个远程的Docker守护进程。Docker客户端和守护进程之间通过socket或者RESTful API进行通信。")]),t._v(" "),t._m(12),t._v(" "),t._m(13),t._v(" "),t._m(14),t._v(" "),t._m(15),t._v(" "),s("p",[t._v("Docker 镜像是Docker容器运行时的只读模板，每一个镜像有一些列的层（layers）组成。Docker使用UnionFS来将这些层联合到单独的镜像中。UnionFS允许独立于文件系统中的文件和文件夹（称之为分支）被透明覆盖，形成一个单独连贯的文件系统。正因为有了这些层的存在，Docker是如此的轻量。")]),t._v(" "),s("p",[t._v("当你改变了一个Docker镜像，比如升级到某个程序到新的版本，一个新的层就会被创建。因此，不用替换整个原先的镜像或者重新建立（在使用虚拟机的时候你可能会这么做），只是一个新的层被添加或者升级了。现在你不用重新发布整个镜像，只需要升级，层使得分发Docker镜像变得简单和快速。")]),t._v(" "),t._m(16),t._v(" "),s("p",[t._v("Docker 仓库用来保存镜像，可以理解为代码控制中的代码仓库。同样的，Docker仓库也有公有和私有的概念。共有的Docker仓库名字是Docker Hub。Docker Hub提供了庞大的镜像集合供使用。这些镜像可以是自己创建，或者在别人的镜像基础上创建。Docker仓库是Docker的分发部分。")]),t._v(" "),t._m(17),t._v(" "),s("p",[t._v("Docker容器和文件夹很类似，一个Docker容器包含了所有的某个应用运行所需要的环境。每一个Docker容器都是从Docker镜像创建的。Docker容器可以运行、开始、停止、移动和删除。每一个Docker容器都是单独和安全的应用平台，Docker容器是Docker的运行部分。")]),t._v(" "),t._m(18),t._v(" "),s("p",[t._v("在 CentOS7 中安装 Dokcer：")]),t._v(" "),t._m(19),s("p",[t._v("或者使用 curl 拉取 shell 脚本安装")]),t._v(" "),s("p",[t._v("shell 脚本地址：https://get.docker.com")]),t._v(" "),t._m(20),s("p",[t._v("启动和设置开机自启：")]),t._v(" "),t._m(21),s("p",[t._v("查看docker是否启动")]),t._v(" "),t._m(22),t._m(23),t._v(" "),t._m(24),t._v(" "),t._m(25),t._v(" "),t._m(26),s("p",[t._v("比如：")]),t._v(" "),t._m(27),t._m(28),t._v(" "),t._m(29),s("p",[t._v("tag可以不指定，默认使用 latest，代表最新版")]),t._v(" "),s("p",[t._v("比如：")]),t._v(" "),t._m(30),t._m(31),t._v(" "),t._m(32),t._m(33),t._v(" "),t._m(34),t._m(35),t._v(" "),t._m(36),t._v(" "),t._m(37),t._v(" "),t._m(38),s("p",[t._v("比如：")]),t._v(" "),t._m(39),t._m(40),t._v(" "),t._m(41),t._v(" "),t._m(42),t._v(" "),s("p",[t._v("比如：")]),t._v(" "),t._m(43),t._m(44),t._v(" "),t._m(45),t._v(" "),t._m(46),t._v(" "),s("p",[t._v("可以将一个容器简单理解为一个虚拟机，要进入这个容器，也就是连接容器，需要使用以下命令：")]),t._v(" "),t._m(47),t._m(48),t._v(" "),s("p",[t._v("使用以下命令在容器外执行容器内部命令：")]),t._v(" "),t._m(49),s("p",[t._v("比如")]),t._v(" "),t._m(50),s("p",[t._v("其中 server1 就是我们使用 centos 镜像创建的容器。")]),t._v(" "),t._m(51),t._v(" "),t._m(52),t._v(" "),t._m(53),t._v(" "),t._m(54),s("p",[t._v("比如：")]),t._v(" "),t._m(55),s("p",[t._v("其中 server1 容器是通过 centos 镜像创建的，本命令的作用是将 server1 中的 /etc/hosts 文件复制到宿主机当前路径。")]),t._v(" "),t._m(56),t._v(" "),t._m(57),s("p",[t._v("比如以下命令：")]),t._v(" "),t._m(58),s("imgLink",{attrs:{src:"date/20181012/002.png"}}),t._v(" "),t._m(59),t._v(" "),t._m(60),s("p",[t._v("可以看到文件的变更情况，其中：")]),t._v(" "),t._m(61),t._v(" "),t._m(62),t._v(" "),t._m(63),t._v(" "),t._m(64),t._m(65),t._v(" "),t._m(66),t._m(67),t._v(" "),t._m(68),t._m(69),t._v(" "),t._m(70),t._v(" "),t._m(71),t._m(72),t._v(" "),t._m(73),t._m(74),t._v(" "),s("p",[t._v("首先，得对需要上传的对象打标签，并指定Docker注册服务器的地址")]),t._v(" "),t._m(75),s("p",[t._v("然后，将打了标签的镜像上传到Docker注册服务器：")]),t._v(" "),t._m(76),s("p",[t._v("注意，这里由于是在一台机子上演示的，所以意义不大，通常我们会在另一台机器上开一个Docker注册服务器。将镜像上传到另一个机器上。")]),t._v(" "),t._m(77),t._v(" "),t._m(78),t._m(79),t._v(" "),t._m(80),t._v(" "),t._m(81),t._v(" "),s("p",[t._v("首先，得在 win10 中安装 Linux 子系统，步骤如下：")]),t._v(" "),t._m(82),t._v(" "),t._m(83),t._v(" "),s("p",[t._v("如果开启虚拟机的时候提示：")]),t._v(" "),t._m(84),s("p",[t._v("这说明本机中同时开启了 Hyper-v 服务，解决步骤如下：")]),t._v(" "),t._m(85),t._v(" "),t._m(86),t._v(" "),t._m(87),t._v(" "),s("imgLink",{attrs:{src:"date/20181012/001.png"}}),t._v(" "),t._m(88),t._v(" "),s("p",[t._v("以管理员身份运行Windows Powershell (管理员)（Windows键+X），运行下面命令并重启电脑：")]),t._v(" "),t._m(89),t._m(90),t._v(" "),s("p",[t._v("参考："),s("a",{attrs:{href:"https://blog.csdn.net/qq_36761831/article/details/81175736",target:"_blank",rel:"noopener noreferrer"}},[t._v("解决VM 与 Device/Credential Guard 不兼容。在禁用 Device/Credential Guard 后，可以运行 VM 的方法"),s("OutboundLink")],1)]),t._v(" "),t._m(91),t._v(" "),s("p",[t._v("一些国内镜像源：")]),t._v(" "),t._m(92),t._v(" "),t._m(93),t._v(" "),t._m(94),s("p",[t._v("参考："),s("a",{attrs:{href:"https://blog.csdn.net/yhjay88/article/details/73790487",target:"_blank",rel:"noopener noreferrer"}},[t._v("Docker 修改镜像源地址"),s("OutboundLink")],1)])],1)},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"docker"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docker","aria-hidden":"true"}},[this._v("#")]),this._v(" Docker")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[t._v("官网："),s("a",{attrs:{href:"www.docker.com"}},[t._v("www.docker.com")])]),t._v(" "),s("li",[t._v("中文社区："),s("a",{attrs:{href:"www.docker.org.cn"}},[t._v("www.docker.org.cn")])]),t._v(" "),s("li",[t._v("Docker Hub："),s("a",{attrs:{href:"hub.docker.com"}},[t._v("hub.docker.com")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"docker-简介"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docker-简介","aria-hidden":"true"}},[this._v("#")]),this._v(" Docker 简介")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"docker-是什么"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docker-是什么","aria-hidden":"true"}},[this._v("#")]),this._v(" Docker 是什么")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"docker-的诞生"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docker-的诞生","aria-hidden":"true"}},[this._v("#")]),this._v(" Docker 的诞生")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"docker-可以做什么"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docker-可以做什么","aria-hidden":"true"}},[this._v("#")]),this._v(" Docker 可以做什么")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("Docker 是一个开源的软件部署解决方案")]),this._v(" "),e("li",[this._v("Docker 是一个轻量级的应用容器框架")]),this._v(" "),e("li",[this._v("Docker 可以打包、发布、运行任何应用")]),this._v(" "),e("li",[this._v("build once，run anywhere")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"docker-与虚拟机的区别"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docker-与虚拟机的区别","aria-hidden":"true"}},[this._v("#")]),this._v(" Docker 与虚拟机的区别")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",[s("thead",[s("tr",[s("th",[t._v("传统虚拟机")]),t._v(" "),s("th",[t._v("Docker")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("依赖物理CPU和内存，是硬件级别的。")]),t._v(" "),s("td",[t._v("在操作系统上，利用操作系统的containerization（集装箱化）技术，可以在虚拟机上运行。")])]),t._v(" "),s("tr",[s("td",[t._v("一般都是指操作系统镜像，比较复杂。")]),t._v(" "),s("td",[t._v("docker开源而且轻量，成为“容器”，单个容器适合部署少量应用。")])]),t._v(" "),s("tr",[s("td",[t._v("使用快照来保存状态。")]),t._v(" "),s("td",[t._v("引入了类似源代码管理机制，将容器的快照历史版本一一记录。")])]),t._v(" "),s("tr",[s("td",[t._v("在构建系统的时候较为复杂，需要大量的人力。")]),t._v(" "),s("td",[t._v("docker可以通过Dockfile来构建整个容器，重启和构建速度很快，更重要的是Dockfile可以手动编写，这样应用程序开发人员可以通过发布Dockfile来指导系统环境和依赖，这样对于持续交付十分有利。")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"docker-特性"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docker-特性","aria-hidden":"true"}},[this._v("#")]),this._v(" Docker 特性")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ol",[s("li",[s("strong",[t._v("文件系统隔离")]),t._v(" 每个进程容器运行在完全独立的根文件系统里")]),t._v(" "),s("li",[s("strong",[t._v("资源隔离")]),t._v(" 可以使用 cgroup 为每个进程容器分配不同的系统资源，例如 CPU 和内存")]),t._v(" "),s("li",[s("strong",[t._v("网络隔离")]),t._v(" 每个进程容器运行在自己的网络命名空间里，拥有自己的虚拟接口和IP地址")]),t._v(" "),s("li",[s("strong",[t._v("写时复制")]),t._v(" 采用写时复制创建根文件系统，这让部署变得极其快捷，并且节省内存和硬盘空间")]),t._v(" "),s("li",[s("strong",[t._v("日志记录")]),t._v(" Docker 将会搜集和记录没跟进程容器的标准流（stdout、stderr、stdin），用于实时检索或批量检索")]),t._v(" "),s("li",[s("strong",[t._v("变更管理")]),t._v(" 容器文件系统的变更可以提交到新的映像中，并可重复使用以创建更多的容器，无需使用模板或手动配置")]),t._v(" "),s("li",[s("strong",[t._v("交互式shell")]),t._v(" Docker 可以分配一个虚拟终端并关联到任何容器的标准输入上，例如运行一个一次性交互shell")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"docker-工作原理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docker-工作原理","aria-hidden":"true"}},[this._v("#")]),this._v(" Docker 工作原理")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("strong",[this._v("Docker守护进程")]),this._v(" Docker守护进程运行在一台主机上。用户并不直接和守护进程进行交互，而是通过Docker客户端简介和其通信。")]),this._v(" "),e("li",[e("strong",[this._v("Docker客户端")]),this._v(" Docker客户端实际上是Docker的二进制程序，是主要的用户与Docker交互方式。它接收用户指令并且与背后的Docker守护进程通讯，如此来回往复。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"docker-内部组件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docker-内部组件","aria-hidden":"true"}},[this._v("#")]),this._v(" Docker 内部组件")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("Docker 镜像 - Docker Image")]),this._v(" "),e("li",[this._v("Dokcer 仓库 - Docker Registeries")]),this._v(" "),e("li",[this._v("Docker 容器 - Docker Containers")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"docker-镜像"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docker-镜像","aria-hidden":"true"}},[this._v("#")]),this._v(" Docker 镜像")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"docker-仓库"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docker-仓库","aria-hidden":"true"}},[this._v("#")]),this._v(" Docker 仓库")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"docker-容器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docker-容器","aria-hidden":"true"}},[this._v("#")]),this._v(" Docker 容器")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"docker-安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docker-安装","aria-hidden":"true"}},[this._v("#")]),this._v(" Docker 安装")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("[root@node1 ~]# yum install docker\n")])]),this._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[this._v("1")]),e("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("[root@node1 ~]# curl https://get.docker.com | sh\n")])]),this._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[this._v("1")]),e("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("[root@node1 ~]# systemctl start docker\n[root@node1 ~]# systemctl enable docker\nCreated symlink from /etc/systemd/system/multi-user.target.wants/docker.service to /usr/lib/systemd/system/docker.service.\n")])]),this._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[this._v("1")]),e("br"),e("span",{staticClass:"line-number"},[this._v("2")]),e("br"),e("span",{staticClass:"line-number"},[this._v("3")]),e("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("[root@node1 ~]# ps aux | grep docker\n[root@node1 ~]# systemctl status docker\n")])]),this._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[this._v("1")]),e("br"),e("span",{staticClass:"line-number"},[this._v("2")]),e("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"docker-基本命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docker-基本命令","aria-hidden":"true"}},[this._v("#")]),this._v(" Docker 基本命令")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"镜像操作"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#镜像操作","aria-hidden":"true"}},[this._v("#")]),this._v(" 镜像操作")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[this._v("搜索镜像")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("docker search [关键词]\n")])]),this._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[this._v("1")]),e("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("docker search centos\n")])]),this._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[this._v("1")]),e("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"2"}},[e("li",[this._v("下载镜像")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("docker pull [image:tag]\n")])]),this._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[this._v("1")]),e("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("[root@node1 ~]# docker pull centos\n# or\n[root@node1 ~]# docker pull centos:latest\n")])]),this._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[this._v("1")]),e("br"),e("span",{staticClass:"line-number"},[this._v("2")]),e("br"),e("span",{staticClass:"line-number"},[this._v("3")]),e("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"3"}},[e("li",[this._v("列出所有镜像")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("docker images\n")])]),this._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[this._v("1")]),e("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"4"}},[e("li",[this._v("删除镜像")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("docker rmi [image]\n")])]),this._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[this._v("1")]),e("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("要查看某个命令的帮助文档，跟上 "),e("code",[this._v("--help")]),this._v(" 即可。比如 "),e("code",[this._v("docker search --help")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"容器操作"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#容器操作","aria-hidden":"true"}},[this._v("#")]),this._v(" 容器操作")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[this._v("创建容器")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("docker run -i -t --name [容器名] [镜像名] [命令]\n")])]),this._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[this._v("1")]),e("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("[root@node1 ~]# docker run -i -t --name server1 centos /bin/bash\n")])]),this._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[this._v("1")]),e("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("使用 -i 参数创建容器后会进入容器，使用 "),e("code",[this._v("exit")]),this._v(" 命令退出容器。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"2"}},[e("li",[this._v("容器的启停")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("strong",[t._v("启动容器")]),t._v(" docker start [容器名]")]),t._v(" "),s("li",[s("strong",[t._v("重启容器")]),t._v(" docker restart [容器名]")]),t._v(" "),s("li",[s("strong",[t._v("停止容器")]),t._v(" docker stop [容器名]")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("[root@node1 ~]# docker start server1\n[root@node1 ~]# docker restart server1\n[root@node1 ~]# docker stop server1\n")])]),this._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[this._v("1")]),e("br"),e("span",{staticClass:"line-number"},[this._v("2")]),e("br"),e("span",{staticClass:"line-number"},[this._v("3")]),e("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"3"}},[e("li",[this._v("列出容器")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("strong",[this._v("列出所有容器")]),this._v("：docker ps -a")]),this._v(" "),e("li",[e("strong",[this._v("列出正在运行的容器")]),this._v("：docker ps")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"4"}},[e("li",[this._v("连接容器")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("docker attach [容器名 or 容器id]\n")])]),this._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[this._v("1")]),e("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"5"}},[e("li",[this._v("容器外执行容器内部命令")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("docker exec [容器名] [容器内部命令]\n")])]),this._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[this._v("1")]),e("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('[root@node1 ~]# docker exec server1 echo "Hello world"\n')])]),this._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[this._v("1")]),e("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"6"}},[e("li",[this._v("删除容器")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("strong",[this._v("删除一个容器")]),this._v("：docker rm [容器名]")]),this._v(" "),e("li",[e("strong",[this._v("强制删除一个正在运行的容器")]),this._v("：docker rm -f [容器名]")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"7"}},[e("li",[this._v("复制容器内文件到本地")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("docker cp [container:path] [loaclPath]\n")])]),this._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[this._v("1")]),e("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("[root@node1 ~]# docker cp server1:/etc/hosts ./\n\n# 当然，也可从宿主机拷贝文件到容器\n\n[root@node1 ~]# docker cp ./hosts server1:/opt\n")])]),this._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[this._v("1")]),e("br"),e("span",{staticClass:"line-number"},[this._v("2")]),e("br"),e("span",{staticClass:"line-number"},[this._v("3")]),e("br"),e("span",{staticClass:"line-number"},[this._v("4")]),e("br"),e("span",{staticClass:"line-number"},[this._v("5")]),e("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"8"}},[e("li",[this._v("提交对容器的修改")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("docker commit [options] [container] [image:tag]\n")])]),this._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[this._v("1")]),e("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("docker commit -a 'docker_manager' -m 'add files' server1 centos:latest\ndocker commit -a 'docker_manager' -m 'add files' server1 centos:1.2\n")])]),this._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[this._v("1")]),e("br"),e("span",{staticClass:"line-number"},[this._v("2")]),e("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"9"}},[e("li",[this._v("查看容器文件的变动")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("docker diff [container]\n")])]),this._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[this._v("1")]),e("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("A 添加的文件")]),this._v(" "),e("li",[this._v("C 修改的文件")]),this._v(" "),e("li",[this._v("D 删除的文件")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"docker-的其他操作"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docker-的其他操作","aria-hidden":"true"}},[this._v("#")]),this._v(" Docker 的其他操作")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("查看历史镜像")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("docker history [image:tag]\n")])]),this._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[this._v("1")]),e("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("查看镜像或容器详细信息")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("docker inspect [image:tag or container]\n")])]),this._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[this._v("1")]),e("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("为镜像打标记")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("docker tag [image:tag] [仓库地址]/[image:tag]\n")])]),this._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[this._v("1")]),e("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"docker-私有仓库"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docker-私有仓库","aria-hidden":"true"}},[this._v("#")]),this._v(" Docker 私有仓库")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[this._v("下载Docker注册服务器镜像")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("[root@node1 ~]# docker pull registry\nUsing default tag: latest\nTrying to pull repository docker.io/library/registry ... \nlatest: Pulling from docker.io/library/registry\nd6a5679aa3cf: Pull complete \nad0eac849f8f: Pull complete \n2261ba058a15: Pull complete \nf296fda86f10: Pull complete \nbcd4a541795b: Pull complete \nDigest: sha256:5a156ff125e5a12ac7fdec2b90b7e2ae5120fa249cf62248337b6d04abc574c8\nStatus: Downloaded newer image for docker.io/registry:latest\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"2"}},[e("li",[this._v("运行Docker注册服务器")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("[root@node1 ~]# docker run -d -p 5000:5000 --name server-registry -v /tmp/registry:/tmp/registry registry\ncd70bf031442426c7d22dcc866b0ef6a7e728bfe3185a65f4f9a58c85c4ab905\n")])]),this._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[this._v("1")]),e("br"),e("span",{staticClass:"line-number"},[this._v("2")]),e("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"3"}},[e("li",[this._v("将私有仓库上传到Docker注册服务器")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("[root@node1 ~]# docker tag centos:latest localhost:5000/centos:1.0\n")])]),this._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[this._v("1")]),e("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("[root@node1 ~]# docker push localhost:5000/centos:1.0\nThe push refers to a repository [localhost:5000/centos]\nf972d139738d: Pushed \n1.0: digest: sha256:dc29e2bcceac52af0f01300402f5e756cc8c44a310867f6b94f5f7271d4f3fec size: 529\n")])]),this._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[this._v("1")]),e("br"),e("span",{staticClass:"line-number"},[this._v("2")]),e("br"),e("span",{staticClass:"line-number"},[this._v("3")]),e("br"),e("span",{staticClass:"line-number"},[this._v("4")]),e("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"4"}},[e("li",[this._v("拉取私有仓库镜像")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("[root@node1 ~]# docker pull localhost:5000/centos:1.0\nTrying to pull repository localhost:5000/centos ... \n1.0: Pulling from localhost:5000/centos\nDigest: sha256:dc29e2bcceac52af0f01300402f5e756cc8c44a310867f6b94f5f7271d4f3fec\nStatus: Image is up to date for localhost:5000/centos:1.0\n\n# 如果没有指定标签，而指定镜像又没有latest标签，则报错\n\n[root@node1 ~]# docker pull localhost:5000/centos\nUsing default tag: latest\nTrying to pull repository localhost:5000/centos ... \nPulling repository localhost:5000/centos\nError: image centos:latest not found\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"在-windows-中安装-docker"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#在-windows-中安装-docker","aria-hidden":"true"}},[this._v("#")]),this._v(" 在 Windows 中安装 Docker")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"使用-hyper-v-开启-docker"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用-hyper-v-开启-docker","aria-hidden":"true"}},[this._v("#")]),this._v(" 使用 Hyper-v 开启 Docker")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"使用-wsl"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用-wsl","aria-hidden":"true"}},[this._v("#")]),this._v(" 使用 WSL")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"解决方案"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#解决方案","aria-hidden":"true"}},[this._v("#")]),this._v(" 解决方案")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"在-vmware-中提示-vm-与-device-credential-guard-不兼容"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#在-vmware-中提示-vm-与-device-credential-guard-不兼容","aria-hidden":"true"}},[this._v("#")]),this._v(" 在 VMWare 中提示 VM 与 Device/Credential Guard 不兼容")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("VM 与 Device/Credential Guard 不兼容。在禁用 Device/Credential Guard 后，可以运行 VM。\n")])]),this._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[this._v("1")]),e("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[this._v("禁用Device Guard或Credential Guard")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("运行 "),e("code",[this._v("gpedit.msc")]),this._v(" 本地组策略编辑器。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("转至 "),e("code",[this._v("本地计算机策略 > 计算机配置 > 管理模板 > 系统 > Device Guard（或者是： 设备防护） > 打开基于虚拟化的安全性")]),this._v("。 选择已禁用。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"2"}},[e("li",[this._v("通过命令关闭Hyper-V（控制面板关闭Hyper-V起不到决定性作用，要彻底关闭Hyper-V）")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("bcdedit /set hypervisorlaunchtype off\n")])]),this._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[this._v("1")]),e("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"3"}},[e("li",[this._v("重启电脑即可")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"docker-换源"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docker-换源","aria-hidden":"true"}},[this._v("#")]),this._v(" docker 换源")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("https://registry.docker-cn.com # Docker 官方中国区")]),this._v(" "),e("li",[this._v("http://hub-mirror.c.163.com # 网易")]),this._v(" "),e("li",[this._v("https://docker.mirrors.ustc.edu.cn # ustc")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("修改docker 配置文件："),e("code",[this._v("/etc/docker/daemon.json")]),this._v(" 即可：")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-json line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{attrs:{class:"token property"}},[t._v('"registry-mirrors"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{attrs:{class:"token string"}},[t._v('"http://hub-mirror.c.163.com"')]),s("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" \n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])])}],!1,null,null,null);a.options.__file="docker.md";e.default=a.exports}}]);