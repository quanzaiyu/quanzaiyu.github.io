(window.webpackJsonp=window.webpackJsonp||[]).push([[211],{612:function(e,t,a){"use strict";a.r(t);var r=a(1),s=Object(r.a)({},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"docker-私有仓库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-私有仓库","aria-hidden":"true"}},[e._v("#")]),e._v(" Docker 私有仓库")]),e._v(" "),a("h2",{attrs:{id:"下载docker注册服务器镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#下载docker注册服务器镜像","aria-hidden":"true"}},[e._v("#")]),e._v(" 下载Docker注册服务器镜像")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("[root@node1 ~]# docker pull registry\nUsing default tag: latest\nTrying to pull repository docker.io/library/registry ... \nlatest: Pulling from docker.io/library/registry\nd6a5679aa3cf: Pull complete \nad0eac849f8f: Pull complete \n2261ba058a15: Pull complete \nf296fda86f10: Pull complete \nbcd4a541795b: Pull complete \nDigest: sha256:5a156ff125e5a12ac7fdec2b90b7e2ae5120fa249cf62248337b6d04abc574c8\nStatus: Downloaded newer image for docker.io/registry:latest\n")])])]),a("h2",{attrs:{id:"运行docker注册服务器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#运行docker注册服务器","aria-hidden":"true"}},[e._v("#")]),e._v(" 运行Docker注册服务器")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("[root@node1 ~]# docker run -d -p 5000:5000 --name server-registry -v /tmp/registry:/tmp/registry registry\ncd70bf031442426c7d22dcc866b0ef6a7e728bfe3185a65f4f9a58c85c4ab905\n")])])]),a("h2",{attrs:{id:"将私有仓库上传到docker注册服务器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#将私有仓库上传到docker注册服务器","aria-hidden":"true"}},[e._v("#")]),e._v(" 将私有仓库上传到Docker注册服务器")]),e._v(" "),a("p",[e._v("首先，得对需要上传的镜像打标签，并指定Docker注册服务器的地址")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("[root@node1 ~]# docker tag centos:latest localhost:5000/centos:1.0\n")])])]),a("p",[e._v("然后，将打了标签的镜像上传到Docker注册服务器：")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("[root@node1 ~]# docker push localhost:5000/centos:1.0\nThe push refers to a repository [localhost:5000/centos]\nf972d139738d: Pushed \n1.0: digest: sha256:dc29e2bcceac52af0f01300402f5e756cc8c44a310867f6b94f5f7271d4f3fec size: 529\n")])])]),a("p",[e._v("注意，这里由于是在一台机子上演示的，所以意义不大，通常我们会在另一台机器上开一个Docker注册服务器。将镜像上传到另一个机器上。")]),e._v(" "),a("h2",{attrs:{id:"拉取私有仓库镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#拉取私有仓库镜像","aria-hidden":"true"}},[e._v("#")]),e._v(" 拉取私有仓库镜像")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("[root@node1 ~]# docker pull localhost:5000/centos:1.0\nTrying to pull repository localhost:5000/centos ... \n1.0: Pulling from localhost:5000/centos\nDigest: sha256:dc29e2bcceac52af0f01300402f5e756cc8c44a310867f6b94f5f7271d4f3fec\nStatus: Image is up to date for localhost:5000/centos:1.0\n\n# 如果没有指定标签，而指定镜像又没有latest标签，则报错\n\n[root@node1 ~]# docker pull localhost:5000/centos\nUsing default tag: latest\nTrying to pull repository localhost:5000/centos ... \nPulling repository localhost:5000/centos\nError: image centos:latest not found\n")])])])])},[],!1,null,null,null);t.default=s.exports}}]);