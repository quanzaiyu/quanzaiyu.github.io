(window.webpackJsonp=window.webpackJsonp||[]).push([[482],{693:function(t,a,s){"use strict";s.r(a);var n={props:["slot-key"],mounted(){this.$nextTick(function(){this.$vuepress.$emit("AsyncMarkdownContentMounted",this.slotKey)})}},e=s(0),c=Object(e.a)(n,function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.slotKey}},[s("h1",{attrs:{id:"模板分离"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#模板分离","aria-hidden":"true"}},[t._v("#")]),t._v(" 模板分离")]),t._v(" "),s("p",[t._v("通常，一个网站会包含公共的头部、脚部、侧边栏等公共布局模块，我们可以通过模板分离的方式将他们分离出去。")]),t._v(" "),s("h2",{attrs:{id:"父模板-模板布局"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#父模板-模板布局","aria-hidden":"true"}},[t._v("#")]),t._v(" 父模板 (模板布局)")]),t._v(" "),s("p",[t._v("在父模板中只允许出现 "),s("code",[t._v("include")]),t._v(" 和 "),s("code",[t._v("block")]),t._v(" 标签。")]),t._v(" "),s("p",[t._v("使用 "),s("code",[t._v("include")]),t._v(" 标签包含公共部分")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("{include file='文件路径' /}\n")])])]),s("p",[t._v("以下几种写法均为合法")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("{include file='public/header' /}\n{include file='public:header' /}\n{include file='public::header' /}\n")])])]),s("p",[t._v("使用 "),s("code",[t._v("block")]),t._v(" 标签进行标识可替换的区块")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("{block name='区块名称'}\n代码部分\n{/block}\n")])])]),s("p",[t._v("其中，如果子模板中申明了对应名称的 block 标记，则 代码部分 会被子模板中的内容所替换。")]),t._v(" "),s("h2",{attrs:{id:"子模板-模板继承"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#子模板-模板继承","aria-hidden":"true"}},[t._v("#")]),t._v(" 子模板 (模板继承)")]),t._v(" "),s("p",[t._v("在子模板中只允许出现 "),s("code",[t._v("extend")]),t._v(" 和 "),s("code",[t._v("block")]),t._v(" 标签。")]),t._v(" "),s("p",[t._v("使用 "),s("code",[t._v("extend")]),t._v(" 标签继承父模板")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("{extend name='文件路径' /}\n")])])]),s("p",[t._v("使用 "),s("code",[t._v("block")]),t._v(" 标签重写父模板中对应 block 的内容。")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("{block name='区块名称'}\n代码部分\n{/block}\n")])])]),s("h2",{attrs:{id:"举例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#举例","aria-hidden":"true"}},[t._v("#")]),t._v(" 举例")]),t._v(" "),s("p",[t._v("目录结构")]),t._v(" "),s("imgLink",{attrs:{src:"shortcut/017.jpg/small"}}),t._v(" "),s("p",[t._v("注意，模板布局和继承的定位位置是在当前模块下的 "),s("code",[t._v("view")]),t._v(" 目录下。")]),t._v(" "),s("p",[t._v("其中，"),s("code",[t._v("view/public")]),t._v(" 目录下为公共模块，"),s("code",[t._v("view/template")]),t._v(" 目录下为模板目录。")]),t._v(" "),s("p",[t._v("在模板文件 "),s("code",[t._v("view/template/base.html")]),t._v(" 中，定义一个基础模板 :")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[t._v("{include file='public/meta' /}\n\n{block name='seo'}\n网站标题、关键字与描述\n{/block}\n\n{include file='public/header' /}\n\n{include file='public/menu' /}\n\n{block name='content'}\n页面主体内容\n{/block}\n\n{include file='public/footer' /}\n\n{block name='js'}\n用户自定义js脚本\n{/block}\n")])])]),s("p",[t._v("在 "),s("code",[t._v("view/index/index.html")]),t._v(" 视图文件中引入 :")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[t._v("{extend name='template/base' /}\n\n{block name='seo'}\n"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("title")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("{$title|default='页面标题'}"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("title")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("meta")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("name")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("keywords"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("content")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{$keywords|default="),s("span",{attrs:{class:"token punctuation"}},[t._v("'")]),t._v("关键字"),s("span",{attrs:{class:"token punctuation"}},[t._v("'")]),t._v("}"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("meta")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("name")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("description"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("content")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{$desc|default="),s("span",{attrs:{class:"token punctuation"}},[t._v("'")]),t._v("描述"),s("span",{attrs:{class:"token punctuation"}},[t._v("'")]),t._v("}"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n{/block}\n\n{block name='content'}\n "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n   主体内容\n "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n{/block}\n\n{block name='js'}{/block}\n")])])]),s("p",[t._v("子模板中使用变量，使用 "),s("code",[t._v("{$variableName}")]),t._v("，可以定义其 "),s("code",[t._v("default")]),t._v(" 属性，设置默认值。")]),t._v(" "),s("p",[t._v("注意，如果在父模板中定义的区块在子模板中未实现，则渲染父模板中的内容。")]),t._v(" "),s("p",[t._v("如果想要引入父模板中对应区块的内容，可以使用 "),s("code",[t._v("{__block__}")]),t._v(" 引入，如")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[t._v("{block name='content'}\n "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n   主体内容\n "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n {__block__}\n{/block}\n")])])])],1)},[],!1,null,null,null);c.options.__file="Separation.md";a.default=c.exports}}]);