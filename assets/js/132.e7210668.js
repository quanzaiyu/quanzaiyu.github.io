(window.webpackJsonp=window.webpackJsonp||[]).push([[132],{855:function(t,s,n){"use strict";n.r(s);var a=n(1),e=Object(a.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"content"},[n("h1",{attrs:{id:"环境变量配置"}},[t._v("环境变量配置")]),t._v(" "),n("p",[t._v("在项目根目录下用 "),n("code",[t._v(".env")]),t._v(" 文件做配置，文件使用 "),n("code",[t._v(".ini")]),t._v(" 配置风格，也就是 "),n("code",[t._v("配置项名称=配置值")]),t._v("。")]),t._v(" "),n("p",[t._v("比如在 "),n("code",[t._v(".env")]),t._v(" 文件中输入:")]),t._v(" "),n("div",{staticClass:"language-ini line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-ini"}},[n("code",[n("span",{attrs:{class:"token constant"}},[t._v("my_env")]),n("span",{attrs:{class:"token attr-value"}},[n("span",{attrs:{class:"token punctuation"}},[t._v("=")]),t._v("dev")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br")])]),n("p",[t._v("在控制器中获取:")]),t._v(" "),n("div",{staticClass:"language-php line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-php"}},[n("code",[t._v("\\"),n("span",{attrs:{class:"token package"}},[t._v("think"),n("span",{attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Env")]),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),n("span",{attrs:{class:"token function"}},[t._v("get")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'my_env'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br")])]),n("p",[t._v("也可使用 use 引入命名空间")]),t._v(" "),n("div",{staticClass:"language-php line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-php"}},[n("code",[n("span",{attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),n("span",{attrs:{class:"token package"}},[n("span",{attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("think"),n("span",{attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Env")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n\nEnv"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),n("span",{attrs:{class:"token function"}},[t._v("get")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'my_env'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br")])]),n("h2",{attrs:{id:"系统环境变量"}},[t._v("系统环境变量")]),t._v(" "),n("p",[t._v("可以通过 Env 获取系统环境变量，在 ThinkPHP5.1 中， Env 已经包装在 facade 中。")]),t._v(" "),n("div",{staticClass:"language-php line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-php"}},[n("code",[n("span",{attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),n("span",{attrs:{class:"token package"}},[t._v("think"),n("span",{attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("facade"),n("span",{attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("ENV")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{attrs:{class:"token comment"}},[t._v("// 获取应用目录（不区分大小写）")]),t._v("\n"),n("span",{attrs:{class:"token keyword"}},[t._v("echo")]),t._v(" Env"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),n("span",{attrs:{class:"token function"}},[t._v("get")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'app_path'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{attrs:{class:"token comment"}},[t._v("// 或者")]),t._v("\n"),n("span",{attrs:{class:"token keyword"}},[t._v("echo")]),t._v(" Env"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),n("span",{attrs:{class:"token function"}},[t._v("get")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'APP_PATH'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br")])]),n("p",[t._v("支持的系统环境变量包括 :")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("系统路径")]),t._v(" "),n("th",[t._v("Env参数名称")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("应用根目录")]),t._v(" "),n("td",[t._v("root_path")])]),t._v(" "),n("tr",[n("td",[t._v("应用目录")]),t._v(" "),n("td",[t._v("app_path")])]),t._v(" "),n("tr",[n("td",[t._v("框架目录")]),t._v(" "),n("td",[t._v("think_path")])]),t._v(" "),n("tr",[n("td",[t._v("配置目录")]),t._v(" "),n("td",[t._v("config_path")])]),t._v(" "),n("tr",[n("td",[t._v("扩展目录")]),t._v(" "),n("td",[t._v("extend_path")])]),t._v(" "),n("tr",[n("td",[t._v("composer目录")]),t._v(" "),n("td",[t._v("vendor_path")])]),t._v(" "),n("tr",[n("td",[t._v("运行缓存目录")]),t._v(" "),n("td",[t._v("runtime_path")])]),t._v(" "),n("tr",[n("td",[t._v("路由目录")]),t._v(" "),n("td",[t._v("route_path")])]),t._v(" "),n("tr",[n("td",[t._v("当前模块目录")]),t._v(" "),n("td",[t._v("module_path")])])])])])}],!1,null,null,null);s.default=e.exports}}]);