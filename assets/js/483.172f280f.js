(window.webpackJsonp=window.webpackJsonp||[]).push([[483],{983:function(t,s,a){"use strict";a.r(s);var o=a(0),n=Object(o.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"scrapy-xpath提取"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#scrapy-xpath提取","aria-hidden":"true"}},[t._v("#")]),t._v(" Scrapy: XPath提取")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[t._v("response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("xpath"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"表达式"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nresponse"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("xpath"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"//@href"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nresponse"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("xpath"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"//ol//@href"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nresponse"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("xpath"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("\"//ol[@class='page-navigator']//@href\"")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nresponse"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("xpath"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("\"//ol[@class='page-navigator']//@href\"")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("extract"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nresponse"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("xpath"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"//title//text()"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("extract"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nresponse"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("xpath"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("\"//div[@class='post-content']//text()\"")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("extract"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nresponse"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("xpath"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("\"string(//div[@class='post-content'])\"")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("extract"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("table",[a("thead",[a("tr",[a("th",[t._v("表达式")]),t._v(" "),a("th",[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("nodename")]),t._v(" "),a("td",[t._v("选取此节点的所有子节点。")])]),t._v(" "),a("tr",[a("td",[t._v("/")]),t._v(" "),a("td",[t._v("从根节点选取。")])]),t._v(" "),a("tr",[a("td",[t._v("//")]),t._v(" "),a("td",[t._v("从匹配选择的当前节点选择文档中的节点，而不考虑它们的位置。")])]),t._v(" "),a("tr",[a("td",[t._v(".")]),t._v(" "),a("td",[t._v("选取当前节点。")])]),t._v(" "),a("tr",[a("td",[t._v("..")]),t._v(" "),a("td",[t._v("选取当前节点的父节点。")])]),t._v(" "),a("tr",[a("td",[t._v("@")]),t._v(" "),a("td",[t._v("选取属性。")])])])]),t._v(" "),a("p",[t._v("xpath实例")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("路径表达式")]),t._v(" "),a("th",[t._v("结果")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("/bookstore/book[1]")]),t._v(" "),a("td",[t._v("选取属于 bookstore 子元素的第一个 book 元素。")])]),t._v(" "),a("tr",[a("td",[t._v("/bookstore/book[last()]")]),t._v(" "),a("td",[t._v("选取属于 bookstore 子元素的最后一个 book 元素。")])]),t._v(" "),a("tr",[a("td",[t._v("/bookstore/book[last()-1]")]),t._v(" "),a("td",[t._v("选取属于 bookstore 子元素的倒数第二个 book 元素。")])]),t._v(" "),a("tr",[a("td",[t._v("/bookstore/book[position()❤️]")]),t._v(" "),a("td",[t._v("选取最前面的两个属于 bookstore 元素的子元素的 book 元素。")])]),t._v(" "),a("tr",[a("td",[t._v("//title[@lang]")]),t._v(" "),a("td",[t._v("选取所有拥有名为 lang 的属性的 title 元素。")])]),t._v(" "),a("tr",[a("td",[t._v("//title[@lang='eng']")]),t._v(" "),a("td",[t._v("选取所有 title 元素，且这些元素拥有值为 eng 的 lang 属性。")])]),t._v(" "),a("tr",[a("td",[t._v("/bookstore/book[price>35.00]")]),t._v(" "),a("td",[t._v("选取 bookstore 元素的所有 book 元素，且其中的 price 元素的值须大于 35.00。")])]),t._v(" "),a("tr",[a("td",[t._v("/bookstore/book[price>35.00]/title")]),t._v(" "),a("td",[t._v("选取 bookstore 元素中的 book 元素的所有 title 元素，且其中的 price 元素的值须大于 35.00。")])])])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("路径表达式")]),t._v(" "),a("th",[t._v("结果")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("bookstore")]),t._v(" "),a("td",[t._v("选取 bookstore 元素的所有子节点。")])]),t._v(" "),a("tr",[a("td",[t._v("/bookstore")]),t._v(" "),a("td",[t._v("选取根元素 bookstore。注释：假如路径起始于正斜杠( / )，则此路径始终代表到某元素的绝对路径！")])]),t._v(" "),a("tr",[a("td",[t._v("bookstore/book")]),t._v(" "),a("td",[t._v("选取属于 bookstore 的子元素的所有 book 元素。")])]),t._v(" "),a("tr",[a("td",[t._v("//book")]),t._v(" "),a("td",[t._v("选取所有 book 子元素，而不管它们在文档中的位置。")])]),t._v(" "),a("tr",[a("td",[t._v("bookstore//book")]),t._v(" "),a("td",[t._v("选择属于 bookstore 元素的后代的所有 book 元素，而不管它们位于 bookstore 之下的什么位置。")])]),t._v(" "),a("tr",[a("td",[t._v("//@lang")]),t._v(" "),a("td",[t._v("选取名为 lang 的所有属性。")])])])]),t._v(" "),a("p",[t._v("XPath 通配符可用来选取未知的 HTML元素。")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("通配符")]),t._v(" "),a("th",[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("*")]),t._v(" "),a("td",[t._v("匹配任何元素节点。")])]),t._v(" "),a("tr",[a("td",[t._v("@*")]),t._v(" "),a("td",[t._v("匹配任何属性节点。")])]),t._v(" "),a("tr",[a("td",[t._v("node()")]),t._v(" "),a("td",[t._v("匹配任何类型的节点。")])])])]),t._v(" "),a("p",[t._v("在下面的表格中，我们列出了一些路径表达式，以及这些表达式的结果：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("路径表达式")]),t._v(" "),a("th",[t._v("结果")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("/bookstore/*")]),t._v(" "),a("td",[t._v("选取 bookstore 元素的所有子元素。")])]),t._v(" "),a("tr",[a("td",[t._v("//*")]),t._v(" "),a("td",[t._v("选取文档中的所有元素。")])]),t._v(" "),a("tr",[a("td",[t._v("//title[@*]")]),t._v(" "),a("td",[t._v("选取所有带有属性的 title 元素。")])])])])])},[],!1,null,null,null);n.options.__file="scrapy_xpath.md";s.default=n.exports}}]);