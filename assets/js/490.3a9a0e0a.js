(window.webpackJsonp=window.webpackJsonp||[]).push([[490],{710:function(s,t,n){"use strict";n.r(t);var e=n(1),a=Object(e.a)({},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("div",{staticClass:"content"},[s._m(0),s._v(" "),s._m(1),s._v(" "),s._m(2),s._m(3),s._v(" "),s._m(4),n("p",[s._v("查看是否启动成功")]),s._v(" "),s._m(5),n("p",[s._v("php-fpm 默认监听 9000")]),s._v(" "),s._m(6),s._v(" "),s._m(7),s._m(8),s._v(" "),n("p",[s._v("首先最好备份 nginx.conf，以防出错")]),s._v(" "),s._m(9),s._m(10),s._v(" "),s._m(11),s._m(12),s._v(" "),s._m(13),n("p",[s._v("重启 nginx，php-fpm")]),s._v(" "),s._m(14),n("p",[s._v("建立info.php文件")]),s._v(" "),s._m(15),n("p",[s._v("此时，就可以在浏览器中访问 php 文件了。")]),s._v(" "),n("imgLink",{attrs:{src:"articles/014.jpg/small"}})],1)},[function(){var s=this.$createElement,t=this._self._c||s;return t("h1",{attrs:{id:"安装-php-并使-nginx-支持"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装-php-并使-nginx-支持","aria-hidden":"true"}},[this._v("#")]),this._v(" 安装 PHP 并使 nginx 支持")])},function(){var s=this.$createElement,t=this._self._c||s;return t("h2",{attrs:{id:"安装-php-及相关组件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装-php-及相关组件","aria-hidden":"true"}},[this._v("#")]),this._v(" 安装 php 及相关组件")])},function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("# yum -y install php php-cli php-fpm php-pear php-mysql php-mssql php-odbc php-imap php-common php-devel lighttpd-fastcgi php-gd php-ldapphp-xml php-xmlrpc php-mbstring php-mcrypt php-snmp php-soap php-tidy \n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("h2",{attrs:{id:"开启服务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#开启服务","aria-hidden":"true"}},[this._v("#")]),this._v(" 开启服务")])},function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("# service php-fpm start\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("[root@localhost html]# ps -ef | grep php-fpm\nroot      20153      1  0 21:26 ?        00:00:00 php-fpm: master process (/etc/php-fpm.conf)\napache    20154  20153  0 21:26 ?        00:00:00 php-fpm: pool www\napache    20155  20153  0 21:26 ?        00:00:00 php-fpm: pool www\napache    20156  20153  0 21:26 ?        00:00:00 php-fpm: pool www\napache    20157  20153  0 21:26 ?        00:00:00 php-fpm: pool www\napache    20158  20153  0 21:26 ?        00:00:00 php-fpm: pool www\nroot      20924  20650  0 21:38 pts/1    00:00:00 grep --color=auto php-fpm\n\n[root@localhost html]# netstat -ntlp | grep 9000\ntcp        0      0 127.0.0.1:9000          0.0.0.0:*               LISTEN  \n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("h2",{attrs:{id:"开机启动"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#开机启动","aria-hidden":"true"}},[this._v("#")]),this._v(" 开机启动")])},function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("# chkconfig --levels 235 php-fpm on\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("h2",{attrs:{id:"配置nginx支持php"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置nginx支持php","aria-hidden":"true"}},[this._v("#")]),this._v(" 配置nginx支持php")])},function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("# cp /etc/nginx/conf.d/default.conf /etc/nginx/conf.d/default.conf.bak\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("p",[this._v("编辑 "),t("code",[this._v("/etc/nginx/conf.d/default.conf")])])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("server {\n    listen       80;\n    server_name  localhost;\n\n    location / {\n        root   /usr/share/nginx/html;\n        index  index.php index.html index.htm; #增加index.php\n    }\n\n    #error_page  404              /404.html;\n\n    error_page   500 502 503 504  /50x.html;\n    location = /50x.html {\n        root   /usr/share/nginx/html;\n    }\n\n    location ~ \\.php$ {\n        root           /usr/share/nginx/html; #修改为nginx默认路径\n        fastcgi_pass   127.0.0.1:9000;\n        fastcgi_index  index.php;\n        fastcgi_param  SCRIPT_FILENAME  /usr/share/nginx/html$fastcgi_script_name;\n        include        fastcgi_params;\n    }\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("p",[this._v("配置php，编辑 "),t("code",[this._v("/etc/php.ini")]),this._v(" 文件，找到以下语句放开注释")])},function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("cgi.fix_pathinfo = 1\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("systemctl restart nginx\nsystemctl restart php-fpm\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br"),t("span",{staticClass:"line-number"},[this._v("2")]),t("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("# vim /usr/share/nginx/html/info.php \n<?php\n  phpinfo();\n?>\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br"),t("span",{staticClass:"line-number"},[this._v("2")]),t("br"),t("span",{staticClass:"line-number"},[this._v("3")]),t("br"),t("span",{staticClass:"line-number"},[this._v("4")]),t("br")])])}],!1,null,null,null);a.options.__file="php.md";t.default=a.exports}}]);