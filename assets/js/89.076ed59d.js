(window.webpackJsonp=window.webpackJsonp||[]).push([[89],{414:function(a,t,s){"use strict";s.r(t);var r=s(0),e=Object(r.a)({},function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"yum-插件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#yum-插件","aria-hidden":"true"}},[a._v("#")]),a._v(" yum 插件")]),a._v(" "),s("h2",{attrs:{id:"yum-fastestmirror"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#yum-fastestmirror","aria-hidden":"true"}},[a._v("#")]),a._v(" yum-fastestmirror")]),a._v(" "),s("p",[a._v("自动搜索最快镜像插件")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ yum "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" yum-fastestmirror\n")])])]),s("h2",{attrs:{id:"yum-plugin-priorities"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#yum-plugin-priorities","aria-hidden":"true"}},[a._v("#")]),a._v(" yum-plugin-priorities")]),a._v(" "),s("p",[a._v("用于设置 yum 源的优先级")]),a._v(" "),s("p",[a._v("当既有本地 yum 源又有阿里源的时候，我们在装软件包的时候当然希望先用本地的yum源去安装，本地找不到可用的包时再使用阿里源去安装软件,这里就涉及到了优先级的问题，yum提供的插件 "),s("code",[a._v("yum-plugin-priorities.noarch")]),a._v(" 可以解决这个问题。")]),a._v(" "),s("h3",{attrs:{id:"_1-查看系统是否安装了优先级的插件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-查看系统是否安装了优先级的插件","aria-hidden":"true"}},[a._v("#")]),a._v(" 1. 查看系统是否安装了优先级的插件")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ rpm -qa "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("grep")]),a._v(" yum-plugin-\n$ yum search yum-plugin-priorities\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 用search查看是否有此插件可用")]),a._v("\n")])])]),s("h3",{attrs:{id:"_2-安装yum-plugin-priorities-noarch插件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-安装yum-plugin-priorities-noarch插件","aria-hidden":"true"}},[a._v("#")]),a._v(" 2. 安装yum-plugin-priorities.noarch插件")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ yum -y "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" yum-plugin-priorities.noarch\n")])])]),s("h3",{attrs:{id:"_3-查看插件是否启用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-查看插件是否启用","aria-hidden":"true"}},[a._v("#")]),a._v(" 3. 查看插件是否启用")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("cat")]),a._v(" /etc/yum/pluginconf.d/priorities.conf\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\nenabled "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" 1\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 1为启用；0为禁用")]),a._v("\n")])])]),s("h3",{attrs:{id:"_4-修改本地yum源优先使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-修改本地yum源优先使用","aria-hidden":"true"}},[a._v("#")]),a._v(" 4. 修改本地yum源优先使用")]),a._v(" "),s("p",[a._v("比如本地有两个 yum 源配置文件，需要将 local.repo 设置为优先，需要在对应的文件中加入 "),s("code",[a._v("priority=1")]),a._v("，数字越小优先级越高 :")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ ll /etc/yum.repos.d/\ntotal 8\n-rw-r--r--. 1 root root 2573 May 15  2015 CentOS-Base.repo\n-rw-r--r--. 1 root root   67 Jun 20 06:04 local.repo\n")])])]),s("p",[a._v("改写对应文件 :")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("vi")]),a._v(" /etc/yum.repos.d/local.repo\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("local"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\nname"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("local\nbaseurl"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("file:///opt/centos\nenabled"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("1\ngpgcheck"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("0\npriority"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("1\n")])])]),s("p",[a._v("在原基础上加入 priority=1 ；数字越小优先级越高\n可以继续修改其他源的 priority 值，经测试仅配置本地源的优先级为 priority=1 就会优先使用本地源了")]),a._v(" "),s("h3",{attrs:{id:"_5-重置yum"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-重置yum","aria-hidden":"true"}},[a._v("#")]),a._v(" 5. 重置yum")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ yum clean all   "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#清理yum缓存")]),a._v("\n$ yum list    "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#显示yum列表")]),a._v("\n$ yum makecache\n")])])])])},[],!1,null,null,null);e.options.__file="yum_plugins.md";t.default=e.exports}}]);