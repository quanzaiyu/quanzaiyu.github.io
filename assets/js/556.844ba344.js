(window.webpackJsonp=window.webpackJsonp||[]).push([[556],{770:function(e,a,t){"use strict";t.r(a);var s=t(1),r=Object(s.a)({},function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"minikube-的安装及使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#minikube-的安装及使用","aria-hidden":"true"}},[e._v("#")]),e._v(" Minikube 的安装及使用")]),e._v(" "),t("p",[e._v("准备工作:")]),e._v(" "),t("ul",[t("li",[e._v("BIOS中开启VT-X")]),e._v(" "),t("li",[e._v("科学上网")])]),e._v(" "),t("h2",{attrs:{id:"安装-virtualbox"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装-virtualbox","aria-hidden":"true"}},[e._v("#")]),e._v(" 安装 virtualbox")]),e._v(" "),t("p",[e._v("Minikube可以方便的在本地运行Kubernetes集群，方便日常开发，需要先安装virtualBox虚拟机。")]),e._v(" "),t("p",[e._v("安装编译工具")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("$ yum "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" -y gcc "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("make")]),e._v(" perl kernel-devel-"),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$(")]),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("uname")]),e._v(" -r"),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v(")")])]),e._v("\n$ rpm -qa kernel\\*\nkernel-3.10.0-957.el7.x86_64\nkernel-tools-3.10.0-957.el7.x86_64\nkernel-tools-libs-3.10.0-957.el7.x86_64\nkernel-headers-3.10.0-957.10.1.el7.x86_64\nkernel-devel-3.10.0-957.10.1.el7.x86_64\nkernel-devel-3.10.0-957.el7.x86_64\n")])])]),t("p",[e._v("使用yum安装virtualbox")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("cat")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<<")]),e._v("EOF "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" /etc/yum.repos.d/virtualbox.repo\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("virtualbox"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\nname"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("Oracle Linux / RHEL / CentOS-\\"),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$releasever")]),e._v(" / \\"),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$basearch")]),e._v(" - VirtualBox\nbaseurl"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("http://download.virtualbox.org/virtualbox/rpm/el/\\"),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$releasever")]),e._v("/\\"),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$basearch")]),e._v("\nenabled"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("1\ngpgcheck"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("1\nrepo_gpgcheck"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("1\ngpgkey"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("https://www.virtualbox.org/download/oracle_vbox.asc\nEOF\n$ yum "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" -y VirtualBox-5.2\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 设置virtualbox")]),e._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" /sbin/vboxconfig\n")])])]),t("h2",{attrs:{id:"安装-kubectl"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装-kubectl","aria-hidden":"true"}},[e._v("#")]),e._v(" 安装 kubectl")]),e._v(" "),t("p",[e._v("官方镜像")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("cat")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<<")]),e._v("EOF "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" /etc/yum.repos.d/kubernetes.repo\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("kubernetes"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\nname"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("Kubernetes\nbaseurl"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("https://packages.cloud.google.com/yum/repos/kubernetes-el7-x86_64\nenabled"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("1\ngpgcheck"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("1\nrepo_gpgcheck"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("1\ngpgkey"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("https://packages.cloud.google.com/yum/doc/yum-key.gpg https://packages.cloud.google.com/yum/doc/rpm-package-key.gpg\nEOF\n$ yum "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" -y kubectl\n")])])]),t("p",[e._v("阿里云镜像")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("cat")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<<")]),e._v("EOF "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" /etc/yum.repos.d/kubernetes.repo\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("kubernetes"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\nname"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("Kubernetes\nbaseurl"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("http://mirrors.aliyun.com/kubernetes/yum/repos/kubernetes-el7-x86_64\nenabled"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("1\ngpgcheck"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("1\nrepo_gpgcheck"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("1\ngpgkey"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("http://mirrors.aliyun.com/kubernetes/yum/doc/yum-key.gpg http://mirrors.aliyun.com/kubernetes/yum/doc/rpm-package-key.gpg\nEOF\n$ yum "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" -y kubectl\n")])])]),t("h2",{attrs:{id:"使用-kubectl"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用-kubectl","aria-hidden":"true"}},[e._v("#")]),e._v(" 使用 kubectl")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("$ kubectl cluster-info\nKubernetes master is running at https://172.17.0.21:8443\nTo further debug and diagnose cluster problems, use "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'kubectl cluster-info dump'")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v(".")]),e._v("\n\n$ kubectl get nodes\nNAME       STATUS   ROLES    AGE     VERSION\nminikube   Ready    "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("none"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("   7m24s   v1.13.3\n")])])]),t("h2",{attrs:{id:"安装-minikube"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装-minikube","aria-hidden":"true"}},[e._v("#")]),e._v(" 安装 minikube")]),e._v(" "),t("p",[e._v("方法一: 直接使用curl安装")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("curl")]),e._v(" -Lo minikube https://storage.googleapis.com/minikube/releases/latest/minikube-darwin-amd64 "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&&")]),e._v(" \\\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("chmod")]),e._v(" +x minikube "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&&")]),e._v(" \\\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("mv")]),e._v(" minikube /usr/local/bin/\n")])])]),t("p",[e._v("方法二: 使用wget先下载再安装")]),e._v(" "),t("p",[t("a",{attrs:{href:"https://github.com/kubernetes/minikube/releases",target:"_blank",rel:"noopener noreferrer"}},[e._v("GitHub binary"),t("OutboundLink")],1)]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("wget")]),e._v(" https://storage.googleapis.com/minikube/releases/v0.35.0/minikube-linux-amd64\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("mv")]),e._v(" minikube-linux-amd64 minikube "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&&")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("chmod")]),e._v(" +x minikube "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&&")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("mv")]),e._v(" minikube /usr/local/bin/\n")])])]),t("h2",{attrs:{id:"使用-minikube"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用-minikube","aria-hidden":"true"}},[e._v("#")]),e._v(" 使用 minikube")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("$ minikube version\n$ minikube start\n")])])]),t("h2",{attrs:{id:"参考资料"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参考资料","aria-hidden":"true"}},[e._v("#")]),e._v(" 参考资料")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"http://docs.kubernetes.org.cn/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Kubernetes中文社区 | 中文文档"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://kubernetes.io/zh/",target:"_blank",rel:"noopener noreferrer"}},[e._v("生产级别的容器编排系统 自动化的容器部署、扩展和管理"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://kubernetes.io/zh/docs/tutorials/kubernetes-basics/cluster-interactive/",target:"_blank",rel:"noopener noreferrer"}},[e._v("互动教程 - 创建集群"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://www.jianshu.com/p/64ed63594485",target:"_blank",rel:"noopener noreferrer"}},[e._v("简单Kubernetes的Minikube安装"),t("OutboundLink")],1)])])])},[],!1,null,null,null);a.default=r.exports}}]);