(window.webpackJsonp=window.webpackJsonp||[]).push([[77],{365:function(s,a,t){"use strict";t.r(a);var n={props:["slot-key"],mounted(){this.$nextTick(function(){this.$vuepress.$emit("AsyncMarkdownContentMounted",this.slotKey)})}},e=t(0),v=Object(e.a)(n,function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.slotKey}},[t("h1",{attrs:{id:"搜索与排序"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#搜索与排序","aria-hidden":"true"}},[s._v("#")]),s._v(" 搜索与排序")]),s._v(" "),t("h2",{attrs:{id:"find"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#find","aria-hidden":"true"}},[s._v("#")]),s._v(" find")]),s._v(" "),t("p",[t("strong",[s._v("find")]),s._v(" 命令用来在指定目录下查找文件。任何位于参数之前的字符串都将被视为欲查找的目录名。如果使用该命令时，不设置任何参数，则find命令将在当前目录下查找子目录与文件。并且将查找到的子目录和文件全部进行显示。")]),s._v(" "),t("p",[t("strong",[s._v("常用选项")])]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("-name")]),s._v("：指定字符串作为寻找文件或目录的范本样式；")]),s._v(" "),t("li",[t("strong",[s._v("-path")]),s._v("：指定字符串作为寻找目录的范本样式；")]),s._v(" "),t("li",[t("strong",[s._v("-type")]),s._v("：只寻找符合指定的文件类型的文件；")]),s._v(" "),t("li",[t("strong",[s._v("-size")]),s._v("：查找符合指定的文件大小的文件；")]),s._v(" "),t("li",[t("strong",[s._v("-regex")]),s._v("：指定字符串作为寻找文件或目录的范本样式；")]),s._v(" "),t("li",[t("strong",[s._v("-iregex")]),s._v("：此参数的效果和指定“-regex”参数类似，但忽略字符大小写的差别；")])]),s._v(" "),t("hr"),s._v(" "),t("ul",[t("li",[t("strong",[s._v("-atime<24小时数>")]),s._v("：查找在指定时间曾被存取过的文件或目录，单位以24小时计算；")]),s._v(" "),t("li",[t("strong",[s._v("-mtime<24小时数>")]),s._v("：查找在指定时间曾被更改过的文件或目录，单位以24小时计算；")]),s._v(" "),t("li",[t("strong",[s._v("-ctime<24小时数>")]),s._v("：查找在指定时间之时被更改的文件或目录，单位以24小时计算；")])]),s._v(" "),t("hr"),s._v(" "),t("ul",[t("li",[t("strong",[s._v("-amin<分钟>")]),s._v("：查找在指定时间曾被存取过的文件或目录，单位以分钟计算；")]),s._v(" "),t("li",[t("strong",[s._v("-mmin<分钟>")]),s._v("：查找在指定时间曾被更改过的文件或目录，单位以分钟计算；")]),s._v(" "),t("li",[t("strong",[s._v("-cmin<分钟>")]),s._v("：查找在指定时间之时被更改过的文件或目录；")])]),s._v(" "),t("hr"),s._v(" "),t("ul",[t("li",[t("strong",[s._v("-perm<权限数值>")]),s._v("：查找符合指定的权限数值的文件或目录；")]),s._v(" "),t("li",[t("strong",[s._v("-user<拥有者名称>")]),s._v("：查找符和指定的拥有者名称的文件或目录；")]),s._v(" "),t("li",[t("strong",[s._v("-group<群组名称>")]),s._v("：查找符合指定之群组名称的文件或目录；")])]),s._v(" "),t("p",[t("strong",[s._v("实例")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{attrs:{class:"token function"}},[s._v("find")]),s._v(" / -name file1 "),t("span",{attrs:{class:"token comment"}},[s._v("# 从 '/' 开始进入根文件系统搜索文件和目录")]),s._v("\n$ "),t("span",{attrs:{class:"token function"}},[s._v("find")]),s._v(" / -user user1 "),t("span",{attrs:{class:"token comment"}},[s._v("# 搜索属于用户 'user1' 的文件和目录")]),s._v("\n$ "),t("span",{attrs:{class:"token function"}},[s._v("find")]),s._v(" /home/user1 -name *.bin "),t("span",{attrs:{class:"token comment"}},[s._v("# 在目录 '/home/user1' 中搜索带有'.bin' 结尾的文件")]),s._v("\n$ "),t("span",{attrs:{class:"token function"}},[s._v("find")]),s._v(" /usr/bin -type f -atime +100 "),t("span",{attrs:{class:"token comment"}},[s._v("# 搜索在过去100天内未被使用过的执行文件")]),s._v("\n$ "),t("span",{attrs:{class:"token function"}},[s._v("find")]),s._v(" /usr/bin -type f -mtime -10 "),t("span",{attrs:{class:"token comment"}},[s._v("# 搜索在10天内被创建或者修改过的文件")]),s._v("\n$ "),t("span",{attrs:{class:"token function"}},[s._v("find")]),s._v(" / -xdev -name *.rpm "),t("span",{attrs:{class:"token comment"}},[s._v("# 搜索以 '.rpm' 结尾的文件，忽略光驱、捷盘等可移动设备")]),s._v("\n")])])]),t("h2",{attrs:{id:"which"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#which","aria-hidden":"true"}},[s._v("#")]),s._v(" which")]),s._v(" "),t("p",[t("strong",[s._v("which")]),s._v(" 命令用于查找并显示给定命令的绝对路径，环境变量PATH中保存了查找命令时需要遍历的目录。which指令会在环境变量$PATH设置的目录里查找符合条件的文件。也就是说，使用which命令，就可以看到某个系统命令是否存在，以及执行的到底是哪一个位置的命令。")]),s._v(" "),t("p",[t("strong",[s._v("实例")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{attrs:{class:"token function"}},[s._v("which")]),s._v(" "),t("span",{attrs:{class:"token function"}},[s._v("pwd")]),s._v("\n/bin/pwd\n$ "),t("span",{attrs:{class:"token function"}},[s._v("which")]),s._v(" adduser\n/usr/sbin/adduser\n")])])]),t("div",{staticClass:"tip custom-block"},[t("p",{staticClass:"custom-block-title"},[s._v("说明")]),s._v(" "),t("p",[s._v("which是根据使用者所配置的 PATH 变量内的目录去搜寻可运行档的！所以，不同的 PATH 配置内容所找到的命令不一样的！")])]),s._v(" "),t("h2",{attrs:{id:"whereis"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#whereis","aria-hidden":"true"}},[s._v("#")]),s._v(" whereis")]),s._v(" "),t("p",[t("strong",[s._v("whereis")]),s._v(" 命令用来定位指令的二进制程序、源代码文件和man手册页等相关文件的路径。")]),s._v(" "),t("p",[s._v("whereis命令只能用于程序名的搜索，而且只搜索二进制文件（参数-b）、man说明文件（参数-m）和源代码文件（参数-s）。如果省略参数，则返回所有信息。")]),s._v(" "),t("p",[s._v("和"),t("a",{attrs:{href:"http://man.linuxde.net/find",target:"_blank",rel:"noopener noreferrer"}},[s._v("find"),t("OutboundLink")],1),s._v("相比，whereis 查找的速度非常快，这是因为linux系统会将 系统内的所有文件都记录在一个数据库文件中，当使用 whereis 时，会从数据库中查找数据，而不是像find命令那样，通 过遍历硬盘来查找，效率自然会很高。 但是该数据库文件并不是实时更新，默认情况下时一星期更新一次，因此，我们在用whereis和locate 查找文件时，有时会找到已经被删除的数据，或者刚刚建立文件，却无法查找到，原因就是因为数据库文件没有被更新。")]),s._v(" "),t("p",[t("strong",[s._v("选项")])]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("-b")]),s._v("：只查找二进制文件；")]),s._v(" "),t("li",[t("strong",[s._v("-m")]),s._v("：只查找说明文件；")]),s._v(" "),t("li",[t("strong",[s._v("-s")]),s._v("：只查找原始代码文件；")]),s._v(" "),t("li",[t("strong",[s._v("-f")]),s._v("：不显示文件名前的路径名称；")]),s._v(" "),t("li",[t("strong",[s._v("-u")]),s._v("：查找不包含指定类型的文件。")])]),s._v(" "),t("p",[t("strong",[s._v("实例")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{attrs:{class:"token function"}},[s._v("whereis")]),s._v(" tomcat\ntomcat:\n$ "),t("span",{attrs:{class:"token function"}},[s._v("whereis")]),s._v(" svn\nsvn: /usr/bin/svn /usr/local/svn /usr/share/man/man1/svn.1.gz\n$ "),t("span",{attrs:{class:"token function"}},[s._v("whereis")]),s._v(" -b svn\nsvn: /usr/bin/svn /usr/local/svn\n$ "),t("span",{attrs:{class:"token function"}},[s._v("whereis")]),s._v(" -m svn\nsvn: /usr/share/man/man1/svn.1.gz\n$ "),t("span",{attrs:{class:"token function"}},[s._v("whereis")]),s._v(" -s svn\nsvn:\n")])])]),t("p",[s._v("说明："),t("code",[s._v("whereis -m svn")]),s._v("查出说明文档路径，"),t("code",[s._v("whereis -s svn")]),s._v("找source源文件。")]),s._v(" "),t("h2",{attrs:{id:"排序"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#排序","aria-hidden":"true"}},[s._v("#")]),s._v(" 排序")]),s._v(" "),t("p",[t("code",[s._v("sort")]),s._v(" 命令用于排序输出当前目录下文件")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{attrs:{class:"token function"}},[s._v("ls")]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{attrs:{class:"token function"}},[s._v("sort")]),s._v(" -r\nHello world\na.txt\n\n$ "),t("span",{attrs:{class:"token function"}},[s._v("ls")]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{attrs:{class:"token function"}},[s._v("sort")]),s._v("\na.txt\nHello world\n")])])]),t("p",[s._v("sort将文件/文本的每一行作为一个单位，相互比较，比较原则是从首字符向后，依次按ASCII码值进行比较，最后将他们按升序输出。")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("-r")]),s._v("：逆向输出排序结果")]),s._v(" "),t("li",[t("strong",[s._v("-u")]),s._v("：忽略相同行，或者使用 uniq")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{attrs:{class:"token function"}},[s._v("cat")]),s._v(" sort.txt\naaa:10:1.1\nccc:30:3.3\nddd:40:4.4\nbbb:20:2.2\neee:50:5.5\neee:50:5.5\n\n$ "),t("span",{attrs:{class:"token function"}},[s._v("sort")]),s._v(" sort.txt\naaa:10:1.1\nbbb:20:2.2\nccc:30:3.3\nddd:40:4.4\neee:50:5.5\neee:50:5.5\n\n$ "),t("span",{attrs:{class:"token function"}},[s._v("sort")]),s._v(" -u sort.txt\naaa:10:1.1\nbbb:20:2.2\nccc:30:3.3\nddd:40:4.4\neee:50:5.5\n\n"),t("span",{attrs:{class:"token comment"}},[s._v("# 或者")]),s._v("\n\n$ "),t("span",{attrs:{class:"token function"}},[s._v("uniq")]),s._v(" sort.txt\naaa:10:1.1\nccc:30:3.3\nddd:40:4.4\nbbb:20:2.2\neee:50:5.5\n")])])]),t("h2",{attrs:{id:"搜索实例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#搜索实例","aria-hidden":"true"}},[s._v("#")]),s._v(" 搜索实例")]),s._v(" "),t("h3",{attrs:{id:"根据文件或者正则表达式进行匹配"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#根据文件或者正则表达式进行匹配","aria-hidden":"true"}},[s._v("#")]),s._v(" 根据文件或者正则表达式进行匹配")]),s._v(" "),t("p",[t("strong",[s._v("列出当前目录及子目录下所有文件和文件夹")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{attrs:{class:"token function"}},[s._v("find")]),s._v("\n"),t("span",{attrs:{class:"token comment"}},[s._v("# or")]),s._v("\n$ "),t("span",{attrs:{class:"token function"}},[s._v("find")]),s._v(" "),t("span",{attrs:{class:"token keyword"}},[s._v(".")]),s._v("\n")])])]),t("p",[t("strong",[s._v("查找指定目录下所有文件和文件夹")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{attrs:{class:"token function"}},[s._v("find")]),s._v(" /home\n")])])]),t("p",[t("strong",[s._v("在 "),t("code",[s._v("/home")]),s._v(" 目录下查找以 .txt 结尾的文件名")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{attrs:{class:"token function"}},[s._v("find")]),s._v(" /home -name "),t("span",{attrs:{class:"token string"}},[s._v('"*.txt"')]),s._v("\n")])])]),t("p",[s._v("同上，但忽略大小写")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{attrs:{class:"token function"}},[s._v("find")]),s._v(" /home -iname "),t("span",{attrs:{class:"token string"}},[s._v('"*.txt"')]),s._v("\n")])])]),t("p",[t("strong",[s._v("当前目录及子目录下查找所有以 .txt 和 .pdf 结尾的文件")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{attrs:{class:"token function"}},[s._v("find")]),s._v(" "),t("span",{attrs:{class:"token keyword"}},[s._v(".")]),s._v(" \\"),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v(" -name "),t("span",{attrs:{class:"token string"}},[s._v('"*.txt"')]),s._v(" -o -name "),t("span",{attrs:{class:"token string"}},[s._v('"*.pdf"')]),s._v(" \\"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{attrs:{class:"token comment"}},[s._v("# or")]),s._v("\n$ "),t("span",{attrs:{class:"token function"}},[s._v("find")]),s._v(" "),t("span",{attrs:{class:"token keyword"}},[s._v(".")]),s._v(" -name "),t("span",{attrs:{class:"token string"}},[s._v('"*.txt"')]),s._v(" -o -name "),t("span",{attrs:{class:"token string"}},[s._v('"*.pdf"')]),s._v(" \n")])])]),t("p",[t("strong",[s._v("匹配所有指定路径的文件")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{attrs:{class:"token function"}},[s._v("find")]),s._v(" -path "),t("span",{attrs:{class:"token string"}},[s._v("'*.repo'")]),s._v("\n"),t("span",{attrs:{class:"token comment"}},[s._v("# or")]),s._v("\n$ "),t("span",{attrs:{class:"token function"}},[s._v("find")]),s._v(" -name "),t("span",{attrs:{class:"token string"}},[s._v("'*.repo'")]),s._v("\n")])])]),t("p",[t("strong",[s._v("匹配文件路径或者文件")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{attrs:{class:"token function"}},[s._v("find")]),s._v(" /usr/ -path "),t("span",{attrs:{class:"token string"}},[s._v('"*local*"')]),s._v("\n")])])]),t("p",[t("strong",[s._v("基于正则表达式匹配文件路径")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{attrs:{class:"token function"}},[s._v("find")]),s._v(" "),t("span",{attrs:{class:"token keyword"}},[s._v(".")]),s._v(" -regex "),t("span",{attrs:{class:"token string"}},[s._v('".*\\(\\.txt\\|\\.pdf\\)$"')]),s._v("\n")])])]),t("p",[s._v("同上，但忽略大小写")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{attrs:{class:"token function"}},[s._v("find")]),s._v(" "),t("span",{attrs:{class:"token keyword"}},[s._v(".")]),s._v(" -iregex "),t("span",{attrs:{class:"token string"}},[s._v('".*\\(\\.txt\\|\\.pdf\\)$"')]),s._v("\n")])])]),t("h3",{attrs:{id:"根据文件类型进行搜索"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#根据文件类型进行搜索","aria-hidden":"true"}},[s._v("#")]),s._v(" 根据文件类型进行搜索")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{attrs:{class:"token function"}},[s._v("find")]),s._v(" "),t("span",{attrs:{class:"token keyword"}},[s._v(".")]),s._v(" -type 类型参数\n")])])]),t("p",[s._v("类型参数列表：")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("f")]),s._v(" 普通文件")]),s._v(" "),t("li",[t("strong",[s._v("l")]),s._v(" 符号连接")]),s._v(" "),t("li",[t("strong",[s._v("d")]),s._v(" 目录")]),s._v(" "),t("li",[t("strong",[s._v("c")]),s._v(" 字符设备")]),s._v(" "),t("li",[t("strong",[s._v("b")]),s._v(" 块设备")]),s._v(" "),t("li",[t("strong",[s._v("s")]),s._v(" 套接字")]),s._v(" "),t("li",[t("strong",[s._v("p")]),s._v(" Fifo")])]),s._v(" "),t("h3",{attrs:{id:"基于目录深度搜索"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#基于目录深度搜索","aria-hidden":"true"}},[s._v("#")]),s._v(" 基于目录深度搜索")]),s._v(" "),t("p",[t("strong",[s._v("向下最大深度限制为3")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{attrs:{class:"token function"}},[s._v("find")]),s._v(" "),t("span",{attrs:{class:"token keyword"}},[s._v(".")]),s._v(" -maxdepth 3 -type f\n")])])]),t("p",[t("strong",[s._v("搜索出深度距离当前目录至少2个子目录的所有文件")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{attrs:{class:"token function"}},[s._v("find")]),s._v(" "),t("span",{attrs:{class:"token keyword"}},[s._v(".")]),s._v(" -mindepth 2 -type f\n")])])]),t("h3",{attrs:{id:"根据文件时间戳进行搜索"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#根据文件时间戳进行搜索","aria-hidden":"true"}},[s._v("#")]),s._v(" 根据文件时间戳进行搜索")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{attrs:{class:"token function"}},[s._v("find")]),s._v(" "),t("span",{attrs:{class:"token keyword"}},[s._v(".")]),s._v(" -type f 时间戳\n")])])]),t("p",[s._v("UNIX/Linux文件系统每个文件都有三种时间戳：")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("访问时间")]),s._v("（-atime/天，-amin/分钟）：用户最近一次访问时间。")]),s._v(" "),t("li",[t("strong",[s._v("修改时间")]),s._v("（-mtime/天，-mmin/分钟）：文件最后一次修改时间。")]),s._v(" "),t("li",[t("strong",[s._v("变化时间")]),s._v("（-ctime/天，-cmin/分钟）：文件数据元（例如权限等）最后一次修改时间。")])]),s._v(" "),t("p",[t("strong",[s._v("搜索最近七天内被访问过的所有文件")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{attrs:{class:"token function"}},[s._v("find")]),s._v(" "),t("span",{attrs:{class:"token keyword"}},[s._v(".")]),s._v(" -type f -atime -7\n")])])]),t("p",[t("strong",[s._v("搜索恰好在七天前被访问过的所有文件")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{attrs:{class:"token function"}},[s._v("find")]),s._v(" "),t("span",{attrs:{class:"token keyword"}},[s._v(".")]),s._v(" -type f -atime 7\n")])])]),t("p",[t("strong",[s._v("搜索超过七天内被访问过的所有文件")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{attrs:{class:"token function"}},[s._v("find")]),s._v(" "),t("span",{attrs:{class:"token keyword"}},[s._v(".")]),s._v(" -type f -atime +7\n")])])]),t("p",[t("strong",[s._v("搜索访问时间超过10分钟的所有文件")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{attrs:{class:"token function"}},[s._v("find")]),s._v(" "),t("span",{attrs:{class:"token keyword"}},[s._v(".")]),s._v(" -type f -amin +10\n")])])]),t("p",[s._v("找出比"),t("a",{attrs:{href:"http://man.linuxde.net/file",target:"_blank",rel:"noopener noreferrer"}},[s._v("file"),t("OutboundLink")],1),s._v(".log修改时间更长的所有文件")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{attrs:{class:"token function"}},[s._v("find")]),s._v(" "),t("span",{attrs:{class:"token keyword"}},[s._v(".")]),s._v(" -type f -newer file.log\n")])])]),t("h3",{attrs:{id:"根据文件大小进行匹配"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#根据文件大小进行匹配","aria-hidden":"true"}},[s._v("#")]),s._v(" 根据文件大小进行匹配")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{attrs:{class:"token function"}},[s._v("find")]),s._v(" "),t("span",{attrs:{class:"token keyword"}},[s._v(".")]),s._v(" -type f -size 文件大小单元\n")])])]),t("p",[s._v("文件大小单元：")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("b")]),s._v(" —— 块（512字节）")]),s._v(" "),t("li",[t("strong",[s._v("c")]),s._v(" —— 字节")]),s._v(" "),t("li",[t("strong",[s._v("w")]),s._v(" —— 字（2字节）")]),s._v(" "),t("li",[t("strong",[s._v("k")]),s._v(" —— 千字节")]),s._v(" "),t("li",[t("strong",[s._v("M")]),s._v(" —— 兆字节")]),s._v(" "),t("li",[t("strong",[s._v("G")]),s._v(" —— 吉字节")])]),s._v(" "),t("p",[t("strong",[s._v("搜索大于10KB的文件")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{attrs:{class:"token function"}},[s._v("find")]),s._v(" "),t("span",{attrs:{class:"token keyword"}},[s._v(".")]),s._v(" -type f -size +10k\n")])])]),t("p",[t("strong",[s._v("搜索小于10KB的文件")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{attrs:{class:"token function"}},[s._v("find")]),s._v(" "),t("span",{attrs:{class:"token keyword"}},[s._v(".")]),s._v(" -type f -size -10k\n")])])]),t("p",[t("strong",[s._v("搜索等于10KB的文件")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{attrs:{class:"token function"}},[s._v("find")]),s._v(" "),t("span",{attrs:{class:"token keyword"}},[s._v(".")]),s._v(" -type f -size 10k\n")])])]),t("h3",{attrs:{id:"根据文件权限-所有权进行匹配"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#根据文件权限-所有权进行匹配","aria-hidden":"true"}},[s._v("#")]),s._v(" 根据文件权限/所有权进行匹配")]),s._v(" "),t("p",[t("strong",[s._v("当前目录下搜索出权限为777的文件")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{attrs:{class:"token function"}},[s._v("find")]),s._v(" "),t("span",{attrs:{class:"token keyword"}},[s._v(".")]),s._v(" -type f -perm 777\n")])])]),t("p",[t("strong",[s._v("找出当前目录下权限不是644的 php 文件")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{attrs:{class:"token function"}},[s._v("find")]),s._v(" "),t("span",{attrs:{class:"token keyword"}},[s._v(".")]),s._v(" -type f -name "),t("span",{attrs:{class:"token string"}},[s._v('"*.php"')]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("!")]),s._v(" -perm 644\n")])])]),t("p",[t("strong",[s._v("找出当前目录用户tom拥有的所有文件")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{attrs:{class:"token function"}},[s._v("find")]),s._v(" "),t("span",{attrs:{class:"token keyword"}},[s._v(".")]),s._v(" -type f -user tom\n")])])]),t("p",[t("strong",[s._v("找出当前目录用户组sunk拥有的所有文件")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{attrs:{class:"token function"}},[s._v("find")]),s._v(" "),t("span",{attrs:{class:"token keyword"}},[s._v(".")]),s._v(" -type f -group sunk\n")])])]),t("h3",{attrs:{id:"借助-exec-选项与其他命令结合使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#借助-exec-选项与其他命令结合使用","aria-hidden":"true"}},[s._v("#")]),s._v(" 借助 "),t("code",[s._v("-exec")]),s._v(" 选项与其他命令结合使用")]),s._v(" "),t("p",[s._v("找出当前目录下所有root的文件，并把所有权更改为用户tom")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{attrs:{class:"token function"}},[s._v("find")]),s._v(" .-type f -user root -exec "),t("span",{attrs:{class:"token function"}},[s._v("chown")]),s._v(" tom "),t("span",{attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" \\"),t("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("p",[s._v("上例中，"),t("strong",[s._v("{}")]),s._v(" 用于与 "),t("strong",[s._v("-exec")]),s._v(" 选项结合使用来匹配所有文件，然后会被替换为相应的文件名。")]),s._v(" "),t("p",[s._v("找出自己家目录下所有的 .txt 文件并删除")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{attrs:{class:"token function"}},[s._v("find")]),s._v(" "),t("span",{attrs:{class:"token variable"}},[s._v("$HOME")]),s._v("/. -name "),t("span",{attrs:{class:"token string"}},[s._v('"*.txt"')]),s._v(" -ok "),t("span",{attrs:{class:"token function"}},[s._v("rm")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" \\"),t("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("p",[s._v("上例中，"),t("strong",[s._v("-ok")]),s._v("和**-exec**行为一样，不过它会给出提示，是否执行相应的操作。")]),s._v(" "),t("p",[s._v("查找当前目录下所有.txt文件并把他们拼接起来写入到 all.txt 文件中")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{attrs:{class:"token function"}},[s._v("find")]),s._v(" "),t("span",{attrs:{class:"token keyword"}},[s._v(".")]),s._v(" -type f -name "),t("span",{attrs:{class:"token string"}},[s._v('"*.txt"')]),s._v(" -exec "),t("span",{attrs:{class:"token function"}},[s._v("cat")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" \\"),t("span",{attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v(" all.txt\n")])])]),t("p",[s._v("将30天前的.log文件移动到old目录中")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{attrs:{class:"token function"}},[s._v("find")]),s._v(" "),t("span",{attrs:{class:"token keyword"}},[s._v(".")]),s._v(" -type f -mtime +30 -name "),t("span",{attrs:{class:"token string"}},[s._v('"*.log"')]),s._v(" -exec "),t("span",{attrs:{class:"token function"}},[s._v("cp")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" old \\"),t("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("p",[s._v("找出当前目录下所有.txt文件并以“File:文件名”的形式打印出来")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{attrs:{class:"token function"}},[s._v("find")]),s._v(" "),t("span",{attrs:{class:"token keyword"}},[s._v(".")]),s._v(" -type f -name "),t("span",{attrs:{class:"token string"}},[s._v('"*.txt"')]),s._v(" -exec "),t("span",{attrs:{class:"token function"}},[s._v("printf")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v('"File: %s\\n"')]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" \\"),t("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("p",[s._v("因为单行命令中-exec参数中无法使用多个命令，以下方法，将多条命令写在 .sh 文件中，可以实现在-exec之后接受多条命令")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{attrs:{class:"token function"}},[s._v("find")]),s._v(" "),t("span",{attrs:{class:"token keyword"}},[s._v(".")]),s._v(" -type f -name "),t("span",{attrs:{class:"token string"}},[s._v('"*.txt"')]),s._v(" -exec ./text.sh "),t("span",{attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" \\"),t("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("h2",{attrs:{id:"否定参数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#否定参数","aria-hidden":"true"}},[s._v("#")]),s._v(" 否定参数")]),s._v(" "),t("p",[s._v("找出/home下不是以.txt结尾的文件")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{attrs:{class:"token function"}},[s._v("find")]),s._v(" /home "),t("span",{attrs:{class:"token operator"}},[s._v("!")]),s._v(" -name "),t("span",{attrs:{class:"token string"}},[s._v('"*.txt"')]),s._v("\n")])])]),t("h2",{attrs:{id:"删除匹配文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#删除匹配文件","aria-hidden":"true"}},[s._v("#")]),s._v(" 删除匹配文件")]),s._v(" "),t("p",[s._v("删除当前目录下所有.txt文件")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{attrs:{class:"token function"}},[s._v("find")]),s._v(" "),t("span",{attrs:{class:"token keyword"}},[s._v(".")]),s._v(" -type f -name "),t("span",{attrs:{class:"token string"}},[s._v('"*.txt"')]),s._v(" -delete\n")])])]),t("h2",{attrs:{id:"要列出所有长度为零的文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#要列出所有长度为零的文件","aria-hidden":"true"}},[s._v("#")]),s._v(" 要列出所有长度为零的文件")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{attrs:{class:"token function"}},[s._v("find")]),s._v(" "),t("span",{attrs:{class:"token keyword"}},[s._v(".")]),s._v(" -empty\n")])])])])},[],!1,null,null,null);v.options.__file="Search.md";a.default=v.exports}}]);