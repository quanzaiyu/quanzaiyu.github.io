(window.webpackJsonp=window.webpackJsonp||[]).push([[348],{551:function(a,t,s){a.exports=s.p+"assets/img/011.3b27fc34.jpg"},644:function(a,t,s){"use strict";s.r(t);var e=[function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"content"},[e("h1",{attrs:{id:"挂载与卸载"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#挂载与卸载","aria-hidden":"true"}},[a._v("$")]),a._v(" 挂载与卸载")]),e("p",[a._v("挂载概念简述：")]),e("p",[a._v("根文件系统之外的其他文件要想能够被访问，都必须通过“关联”至根文件系统上的某个目录来实现，此关联操作即为“挂载”，此目录即为“挂载点”,解除此关联关系的过程称之为“卸载”")]),e("ol",[e("li",[a._v("挂载：根文件系统外通过关联至根文件系统上的某个目录来实现访问")]),e("li",[a._v("挂载点：mount_point，用于作为另一个文件系统的访问入口；")])]),e("h2",{attrs:{id:"挂载-mount"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#挂载-mount","aria-hidden":"true"}},[a._v("$")]),a._v(" 挂载 mount")]),e("p",[a._v("命令使用格式：mount [-o options] device mount_point")]),e("h3",{attrs:{id:"device"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#device","aria-hidden":"true"}},[a._v("$")]),a._v(" device")]),e("p",[a._v("device：指明要挂载的设备；")]),e("ol",[e("li",[a._v("设备文件：例如/dev/sda5")]),e("li",[a._v("卷标：-L 'LABEL', 例如 -L 'MYDATA'")]),e("li",[a._v("UUID, -U 'UUID'：例如 -U '0c50523c-43f1-45e7-85c0-a126711d406e'")]),e("li",[a._v("伪文件系统名称：proc, sysfs, devtmpfs, configfs")])]),e("h3",{attrs:{id:"mount-point"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mount-point","aria-hidden":"true"}},[a._v("$")]),a._v(" mount_point")]),e("p",[a._v("挂载需注意以下几点")]),e("ol",[e("li",[a._v("挂载点目录事先存在；")]),e("li",[a._v("应该使用未被或不会被其它进程使用到的目录；")]),e("li",[a._v("挂载点下原有的文件将会被隐藏；")])]),e("h3",{attrs:{id:"常用命令选项"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#常用命令选项","aria-hidden":"true"}},[a._v("$")]),a._v(" 常用命令选项")]),e("ul",[e("li",[e("code",[a._v("-t vsftype")]),a._v("：指定要挂载的设备上的文件系统类型；")]),e("li",[e("code",[a._v("-r")]),a._v(": readonly，只读挂载；")]),e("li",[e("code",[a._v("-w")]),a._v(": read and write, 读写挂载；")]),e("li",[e("code",[a._v("-n")]),a._v(": 不更新/etc/mtab；")]),e("li",[e("code",[a._v("-a")]),a._v("：自动挂载所有支持自动挂载的设备；(定义在了/etc/fstab文件中，且挂载选项中有“自动挂载”功能)")]),e("li",[e("code",[a._v("-L 'LABEL'")]),a._v(": 以卷标指定挂载设备；")]),e("li",[e("code",[a._v("-U 'UUID'")]),a._v(": 以UUID指定要挂载的设备；")]),e("li",[e("code",[a._v("-B")]),a._v(", "),e("code",[a._v("--bind")]),a._v(": 绑定目录到另一个目录上；")])]),e("h3",{attrs:{id:"查看所有挂载的设备"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查看所有挂载的设备","aria-hidden":"true"}},[a._v("$")]),a._v(" 查看所有挂载的设备")]),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("$ cat /proc/mounts\n$ df -h  # 显示已经挂载的分区列表\n")])]),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br")])]),e("h3",{attrs:{id:"o-options：-挂载文件系统的选项"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#o-options：-挂载文件系统的选项","aria-hidden":"true"}},[a._v("$")]),a._v(" -o options：(挂载文件系统的选项)")]),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("async：异步模式；\n\nsync：同步模式；\n\natime/noatime：包含目录和文件；\n\ndiratime/nodiratime：目录的访问时间戳\n\nauto/noauto：是否支持自动挂载\n\nexec/noexec：是否支持将文件系统上应用程序运行为进程\n\ndev/nodev：是否支持在此文件系统上使用设备文件；\n\nsuid/nosuid：是否支持在此文件系统上使用特殊权限\n\nremount：重新挂载\n\nro：只读\n\nrw:读写\n\nuser/nouser：是否允许普通用户挂载此设备\n\nacl：启用此文件系统上的acl功能\n")])]),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br"),e("span",{staticClass:"line-number"},[a._v("7")]),e("br"),e("span",{staticClass:"line-number"},[a._v("8")]),e("br"),e("span",{staticClass:"line-number"},[a._v("9")]),e("br"),e("span",{staticClass:"line-number"},[a._v("10")]),e("br"),e("span",{staticClass:"line-number"},[a._v("11")]),e("br"),e("span",{staticClass:"line-number"},[a._v("12")]),e("br"),e("span",{staticClass:"line-number"},[a._v("13")]),e("br"),e("span",{staticClass:"line-number"},[a._v("14")]),e("br"),e("span",{staticClass:"line-number"},[a._v("15")]),e("br"),e("span",{staticClass:"line-number"},[a._v("16")]),e("br"),e("span",{staticClass:"line-number"},[a._v("17")]),e("br"),e("span",{staticClass:"line-number"},[a._v("18")]),e("br"),e("span",{staticClass:"line-number"},[a._v("19")]),e("br"),e("span",{staticClass:"line-number"},[a._v("20")]),e("br"),e("span",{staticClass:"line-number"},[a._v("21")]),e("br"),e("span",{staticClass:"line-number"},[a._v("22")]),e("br"),e("span",{staticClass:"line-number"},[a._v("23")]),e("br"),e("span",{staticClass:"line-number"},[a._v("24")]),e("br"),e("span",{staticClass:"line-number"},[a._v("25")]),e("br")])]),e("p",[a._v("注意：上述选项可多个同时使用，彼此使用逗号分隔；")]),e("p",[a._v("默认挂载选项：defaults：rw, suid, dev, exec, auto, nouser, and async")]),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("mount -o loop file.iso /mnt/cdrom # 挂载一个文件或ISO镜像文件\nmount -t vfat /dev/hda5 /mnt/hda5 # 挂载一个Windows FAT32文件系统\nmount -t smbfs -o username=user,password=pass //WinClient/share /mnt/share # 挂载一个windows网络共享磁盘空间\n")])]),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br")])]),e("h2",{attrs:{id:"卸载-umount"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#卸载-umount","aria-hidden":"true"}},[a._v("$")]),a._v(" 卸载 umount")]),e("p",[a._v("命令使用格式：")]),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("$ umount DEVICE\n\n$ umount MOUNT_POINT\n")])]),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br")])]),e("h2",{attrs:{id:"交互演示"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#交互演示","aria-hidden":"true"}},[a._v("$")]),a._v(" 交互演示")]),e("h3",{attrs:{id:"设备驱动"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#设备驱动","aria-hidden":"true"}},[a._v("$")]),a._v(" 设备驱动")]),e("p",[a._v("设备驱动位于 "),e("code",[a._v("/dev")]),a._v(" 下，通过 "),e("code",[a._v("ls")]),a._v(" 命令查看系统中所有设备。")]),e("h3",{attrs:{id:"挂载"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#挂载","aria-hidden":"true"}},[a._v("$")]),a._v(" 挂载")]),e("p",[a._v("比如，在 "),e("code",[a._v("/dev")]),a._v(" 下有一个设备叫 "),e("code",[a._v("cdrom")]),a._v("，通常为光驱设备，要将此设备挂载到系统当中，只需使用 "),e("code",[a._v("mount /dev/cdrom /mnt/cdrom")]),a._v(" 即可，此时，该设备已挂载至 "),e("code",[a._v("/mnt/cdrom")]),a._v(" 下。")]),e("figure",[e("img",{attrs:{src:s(551),alt:""}})]),e("h2",{attrs:{id:"etc-fstab和-etc-mtab的区别"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#etc-fstab和-etc-mtab的区别","aria-hidden":"true"}},[a._v("$")]),a._v(" /etc/fstab和/etc/mtab的区别")]),e("h3",{attrs:{id:"etc-fstab文件的作用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#etc-fstab文件的作用","aria-hidden":"true"}},[a._v("$")]),a._v(" /etc/fstab文件的作用:")]),e("p",[a._v("记录了计算机上硬盘分区的相关信息，启动 Linux 的时候，检查分区的 fsck 命令，和挂载分区的 mount 命令，都需要 fstab 中的信息，来正确的检查和挂载硬盘。")]),e("h3",{attrs:{id:"etc-mtab文件的作用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#etc-mtab文件的作用","aria-hidden":"true"}},[a._v("$")]),a._v(" /etc/mtab文件的作用:")]),e("p",[a._v("记载的是现在系统已经装载的文件系统，包括操作系统建立的虚拟文件等；而/etc/fstab是系统准备装载的。 每当 mount 挂载分区、umount 卸载分区，都会动态更新 mtab，mtab 总是保持着当前系统中已挂载的分区信息，fdisk、df 这类程序，必须要读取 mtab 文件，才能获得当前系统中的分区挂载情况。当然我们自己还可以通过读取/proc/mount也可以来获取当前挂载信息")]),e("h3",{attrs:{id:"开机自动挂载"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#开机自动挂载","aria-hidden":"true"}},[a._v("$")]),a._v(" 开机自动挂载")]),e("p",[a._v("如果我们想实现开机自动挂载某设备，只要修改 "),e("code",[a._v("/etc/fstab")]),a._v(" 文件即可。")]),e("p",[a._v("文件挂载的配置文件："),e("code",[a._v("/etc/fstab")])]),e("p",[a._v("每行定义一个要挂载的文件系统；")]),e("p",[a._v("格式例如")]),e("table",[e("thead",[e("tr",[e("th",[a._v("要挂载的设备或伪文件系统")]),e("th",[a._v("挂载点")]),e("th",[a._v("文件系统类型")]),e("th",[a._v("挂载选项")]),e("th",[a._v("转储频率")]),e("th",[a._v("自检次序")])])]),e("tbody",[e("tr",[e("td",[a._v("UUID=6efb8a23-bae1-427c-ab10-3caca95250b1")]),e("td",[a._v("/boot")]),e("td",[a._v("xfs")]),e("td",[a._v("defaults")]),e("td",[a._v("0")]),e("td",[a._v("0")])]),e("tr",[e("td",[a._v("/dev/mapper/cl-root")]),e("td",[a._v("/")]),e("td",[a._v("xfs")]),e("td",[a._v("defaults")]),e("td",[a._v("0")]),e("td",[a._v("0")])]),e("tr",[e("td",[a._v("UUID=01758f71-af40-4a56-8763-bd2272746772")]),e("td",[a._v("/boot")]),e("td",[a._v("xfs")]),e("td",[a._v("defaults")]),e("td",[a._v("0")]),e("td",[a._v("0")])]),e("tr",[e("td",[a._v("/dev/mapper/cl-swap")]),e("td",[a._v("swap")]),e("td",[a._v("swap")]),e("td",[a._v("defaults")]),e("td",[a._v("0")]),e("td",[a._v("0")])]),e("tr",[e("td",[a._v("/dev/cdrom")]),e("td",[a._v("/mnt/cdrom")]),e("td",[a._v("auto")]),e("td",[a._v("defaults")]),e("td",[a._v("0")]),e("td",[a._v("0")])])])]),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('要挂载的设备或伪文件系统：设备文件、LABEL(LABEL="")、UUID(UUID="")、伪文件系统名称(proc, sysfs)\n挂载点：指定的文件夹\n挂载选项: 可指定多项，用英文逗号分隔，如 auto, ro\n    auto 开机自动挂载 \n    default 按照大多数永久文件系统的缺省值设置挂载定义\n    noauto 开机不自动挂载\n    nouser 只有超级用户可以挂载\n    ro 按只读权限挂载\n    rw 按可读可写权限挂载\n    user 任何用户都可以挂载\n转储频率：\n    0：不做备份\n    1：每天转储\n    2：每隔一天转储\n自检次序：\n    0：不自检\n    1：首先自检；一般只有rootfs才用1；\n')])]),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br"),e("span",{staticClass:"line-number"},[a._v("7")]),e("br"),e("span",{staticClass:"line-number"},[a._v("8")]),e("br"),e("span",{staticClass:"line-number"},[a._v("9")]),e("br"),e("span",{staticClass:"line-number"},[a._v("10")]),e("br"),e("span",{staticClass:"line-number"},[a._v("11")]),e("br"),e("span",{staticClass:"line-number"},[a._v("12")]),e("br"),e("span",{staticClass:"line-number"},[a._v("13")]),e("br"),e("span",{staticClass:"line-number"},[a._v("14")]),e("br"),e("span",{staticClass:"line-number"},[a._v("15")]),e("br"),e("span",{staticClass:"line-number"},[a._v("16")]),e("br"),e("span",{staticClass:"line-number"},[a._v("17")]),e("br")])])])}],n=s(1),r=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},e,!1,null,null,null);t.default=r.exports}}]);