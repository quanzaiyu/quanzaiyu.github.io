(window.webpackJsonp=window.webpackJsonp||[]).push([[64],{323:function(s,t,a){"use strict";a.r(t);var n={props:["slot-key"],mounted(){this.$nextTick(function(){this.$vuepress.$emit("AsyncMarkdownContentMounted",this.slotKey)})}},e=a(0),r=Object(e.a)(n,function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.slotKey}},[a("h1",{attrs:{id:"正则搜索-grep"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#正则搜索-grep","aria-hidden":"true"}},[s._v("#")]),s._v(" 正则搜索 grep")]),s._v(" "),a("p",[a("strong",[s._v("grep")]),s._v(" （global search regular expression(RE) and print out the line，全面搜索正则表达式并把行打印出来）是一种强大的文本搜索工具，它能使用正则表达式搜索文本，并把匹配的行打印出来。")]),s._v(" "),a("h2",{attrs:{id:"选项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#选项","aria-hidden":"true"}},[s._v("#")]),s._v(" 选项")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("-i")]),s._v(" 忽略字符大小写的差别。")]),s._v(" "),a("li",[a("strong",[s._v("-n")]),s._v(" 在显示符合范本样式的那一列之前，标示出该列的编号。")]),s._v(" "),a("li",[a("strong",[s._v("-v")]),s._v(" 反转查找。")]),s._v(" "),a("li",[a("strong",[s._v("-o")]),s._v(" 只输出文件中匹配到的部分。")]),s._v(" "),a("li",[a("strong",[s._v("-b")]),s._v(" 在显示符合范本样式的那一行之外，并显示该行之前的内容。")])]),s._v(" "),a("hr"),s._v(" "),a("ul",[a("li",[a("strong",[s._v("-e<范本样式>")]),s._v(" 指定字符串作为查找文件内容的范本样式。")]),s._v(" "),a("li",[a("strong",[s._v("-E")]),s._v(" 将范本样式为延伸的普通表示法来使用，意味着使用能使用扩展正则表达式。")])]),s._v(" "),a("hr"),s._v(" "),a("ul",[a("li",[a("strong",[s._v("-c")]),s._v(" 计算符合范本样式的列数。")]),s._v(" "),a("li",[a("strong",[s._v("-C<显示列数>或-<显示列数>")]),s._v(" 除了显示符合范本样式的那一列之外，并显示该列之前后的内容。")])]),s._v(" "),a("hr"),s._v(" "),a("ul",[a("li",[a("strong",[s._v("-l")]),s._v(" 列出文件内容符合指定的范本样式的文件名称。")]),s._v(" "),a("li",[a("strong",[s._v("-L")]),s._v(" 列出文件内容不符合指定的范本样式的文件名称。")])]),s._v(" "),a("hr"),s._v(" "),a("ul",[a("li",[a("strong",[s._v("-R")]),s._v("/"),a("strong",[s._v("-r")]),s._v(" 此参数的效果和指定“-d recurse”参数相同。")])]),s._v(" "),a("hr"),s._v(" "),a("ul",[a("li",[a("strong",[s._v("-q")]),s._v(" 不显示任何信息。")]),s._v(" "),a("li",[a("strong",[s._v("-s")]),s._v(" 不显示错误信息。")])]),s._v(" "),a("hr"),s._v(" "),a("ul",[a("li",[a("strong",[s._v("-w")]),s._v(" 只显示全字符合的列。")]),s._v(" "),a("li",[a("strong",[s._v("-x")]),s._v(" 只显示全列符合的列。")])]),s._v(" "),a("hr"),s._v(" "),a("ul",[a("li",[a("strong",[s._v("-h")]),s._v(" 在显示符合范本样式的那一列之前，不标示该列所属的文件名称。")]),s._v(" "),a("li",[a("strong",[s._v("-H")]),s._v(" 在显示符合范本样式的那一列之前，标示该列的文件名称。")])]),s._v(" "),a("hr"),s._v(" "),a("ul",[a("li",[a("strong",[s._v("-a")]),s._v(" 不要忽略二进制数据。")]),s._v(" "),a("li",[a("strong",[s._v("-A<显示列数>")]),s._v(" 除了显示符合范本样式的那一行之外，并显示该行之后的内容。")]),s._v(" "),a("li",[a("strong",[s._v("-d<进行动作>")]),s._v(" 当指定要查找的是目录而非文件时，必须使用这项参数，否则grep命令将回报信息并停止动作。")]),s._v(" "),a("li",[a("strong",[s._v("-f<范本文件>")]),s._v(" 指定范本文件，其内容有一个或多个范本样式，让grep查找符合范本条件的文件内容，格式为每一列的范本样式。")]),s._v(" "),a("li",[a("strong",[s._v("-F")]),s._v(" 将范本样式视为固定字符串的列表。")]),s._v(" "),a("li",[a("strong",[s._v("-G")]),s._v(" 将范本样式视为普通的表示法来使用。")]),s._v(" "),a("li",[a("strong",[s._v("-y")]),s._v(" 此参数效果跟“-i”相同。")])]),s._v(" "),a("h2",{attrs:{id:"常见用法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常见用法","aria-hidden":"true"}},[s._v("#")]),s._v(" 常见用法")]),s._v(" "),a("p",[s._v("在文件中搜索一个单词，命令会返回一个包含 "),a("strong",[s._v("match_pattern")]),s._v(" 的文本行：")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token function"}},[s._v("grep")]),s._v(" match_pattern file_name\n"),a("span",{attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),a("span",{attrs:{class:"token string"}},[s._v('"match_pattern"')]),s._v(" file_name\n")])])]),a("p",[s._v("在多个文件中查找：")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),a("span",{attrs:{class:"token string"}},[s._v('"match_pattern"')]),s._v(" file_1 file_2 file_3 "),a("span",{attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n")])])]),a("p",[s._v("输出除匹配之外的所有行 "),a("strong",[s._v("-v")]),s._v(" 选项：")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token function"}},[s._v("grep")]),s._v(" -v "),a("span",{attrs:{class:"token string"}},[s._v('"match_pattern"')]),s._v(" file_name\n"),a("span",{attrs:{class:"token function"}},[s._v("ls")]),s._v(" "),a("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{attrs:{class:"token function"}},[s._v("egrep")]),s._v(" -v "),a("span",{attrs:{class:"token string"}},[s._v("'*\\.txt'")]),s._v("\n")])])]),a("p",[s._v("标记匹配颜色 "),a("strong",[s._v("--color=auto")]),s._v(" 选项：")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),a("span",{attrs:{class:"token string"}},[s._v('"match_pattern"')]),s._v(" file_name --color"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("auto\n")])])]),a("p",[s._v("使用正则表达式 "),a("strong",[s._v("-E")]),s._v(" 选项：")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token function"}},[s._v("grep")]),s._v(" -E "),a("span",{attrs:{class:"token string"}},[s._v('"[1-9]+"')]),s._v("\n"),a("span",{attrs:{class:"token comment"}},[s._v("# 或")]),s._v("\n"),a("span",{attrs:{class:"token function"}},[s._v("egrep")]),s._v(" "),a("span",{attrs:{class:"token string"}},[s._v('"[1-9]+"')]),s._v("\n")])])]),a("p",[s._v("只输出文件中匹配到的部分 "),a("strong",[s._v("-o")]),s._v(" 选项：")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[s._v("echo")]),s._v(" this is a "),a("span",{attrs:{class:"token function"}},[s._v("test")]),s._v(" line. "),a("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{attrs:{class:"token function"}},[s._v("grep")]),s._v(" -o -E "),a("span",{attrs:{class:"token string"}},[s._v('"[a-z]+\\."')]),s._v("\nline.\n\n"),a("span",{attrs:{class:"token keyword"}},[s._v("echo")]),s._v(" this is a "),a("span",{attrs:{class:"token function"}},[s._v("test")]),s._v(" line. "),a("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{attrs:{class:"token function"}},[s._v("egrep")]),s._v(" -o "),a("span",{attrs:{class:"token string"}},[s._v('"[a-z]+\\."')]),s._v("\nline.\n")])])]),a("p",[s._v("统计文件或者文本中包含匹配字符串的行数 "),a("strong",[s._v("-c")]),s._v(" 选项：")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token function"}},[s._v("grep")]),s._v(" -c "),a("span",{attrs:{class:"token string"}},[s._v('"text"')]),s._v(" file_name\n"),a("span",{attrs:{class:"token function"}},[s._v("ls")]),s._v(" "),a("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{attrs:{class:"token function"}},[s._v("egrep")]),s._v(" -c "),a("span",{attrs:{class:"token string"}},[s._v("'*\\.txt'")]),s._v("\n")])])]),a("p",[s._v("输出包含匹配字符串的行数 "),a("strong",[s._v("-n")]),s._v(" 选项：")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),a("span",{attrs:{class:"token string"}},[s._v('"text"')]),s._v(" -n file_name\n"),a("span",{attrs:{class:"token comment"}},[s._v("# 或")]),s._v("\n"),a("span",{attrs:{class:"token function"}},[s._v("cat")]),s._v(" file_name "),a("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),a("span",{attrs:{class:"token string"}},[s._v('"text"')]),s._v(" -n\n\n"),a("span",{attrs:{class:"token comment"}},[s._v("# 多个文件")]),s._v("\n"),a("span",{attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),a("span",{attrs:{class:"token string"}},[s._v('"text"')]),s._v(" -n file_1 file_2\n")])])]),a("p",[s._v("打印样式匹配所位于的字符或字节偏移：")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[s._v("echo")]),s._v(" gun is not unix "),a("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{attrs:{class:"token function"}},[s._v("grep")]),s._v(" -b -o "),a("span",{attrs:{class:"token string"}},[s._v('"not"')]),s._v("\n7:not\n\n"),a("span",{attrs:{class:"token comment"}},[s._v("#一行中字符串的字符便宜是从该行的第一个字符开始计算，起始值为0。选项 -b -o 一般总是配合使用。")]),s._v("\n")])])]),a("p",[s._v("搜索多个文件并查找匹配文本在哪些文件中：")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token function"}},[s._v("grep")]),s._v(" -l "),a("span",{attrs:{class:"token string"}},[s._v('"text"')]),s._v(" file1 file2 file3"),a("span",{attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n")])])]),a("h2",{attrs:{id:"递归搜索文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#递归搜索文件","aria-hidden":"true"}},[s._v("#")]),s._v(" 递归搜索文件")]),s._v(" "),a("p",[s._v("在多级目录中对文本进行递归搜索：")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),a("span",{attrs:{class:"token string"}},[s._v('"text"')]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v(".")]),s._v(" -r -n\n"),a("span",{attrs:{class:"token comment"}},[s._v("# .表示当前目录。")]),s._v("\n")])])]),a("p",[s._v("忽略匹配样式中的字符大小写：")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[s._v("echo")]),s._v(" "),a("span",{attrs:{class:"token string"}},[s._v('"hello world"')]),s._v(" "),a("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{attrs:{class:"token function"}},[s._v("grep")]),s._v(" -i "),a("span",{attrs:{class:"token string"}},[s._v('"HELLO"')]),s._v("\nhello\n")])])]),a("p",[s._v("选项 "),a("strong",[s._v("-e")]),s._v(" 制动多个匹配样式：")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[s._v("echo")]),s._v(" this is a text line "),a("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{attrs:{class:"token function"}},[s._v("grep")]),s._v(" -e "),a("span",{attrs:{class:"token string"}},[s._v('"is"')]),s._v(" -e "),a("span",{attrs:{class:"token string"}},[s._v('"line"')]),s._v(" -o\nis\nline\n\n"),a("span",{attrs:{class:"token comment"}},[s._v("#也可以使用-f选项来匹配多个样式，在样式文件中逐行写出需要匹配的字符。")]),s._v("\n"),a("span",{attrs:{class:"token function"}},[s._v("cat")]),s._v(" patfile\naaa\nbbb\n\n"),a("span",{attrs:{class:"token keyword"}},[s._v("echo")]),s._v(" aaa bbb ccc ddd eee "),a("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{attrs:{class:"token function"}},[s._v("grep")]),s._v(" -f patfile -o\n")])])]),a("p",[s._v("在 grep 搜索结果中包括或者排除指定文件：")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token comment"}},[s._v('#只在目录中所有的.php和.html文件中递归搜索字符"main()"')]),s._v("\n"),a("span",{attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),a("span",{attrs:{class:"token string"}},[s._v('"main()"')]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v(".")]),s._v(" -r --include *."),a("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("php,html"),a("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{attrs:{class:"token comment"}},[s._v("#在搜索结果中排除所有README文件")]),s._v("\n"),a("span",{attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),a("span",{attrs:{class:"token string"}},[s._v('"main()"')]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v(".")]),s._v(" -r --exclude "),a("span",{attrs:{class:"token string"}},[s._v('"README"')]),s._v("\n\n"),a("span",{attrs:{class:"token comment"}},[s._v("#在搜索结果中排除filelist文件列表里的文件")]),s._v("\n"),a("span",{attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),a("span",{attrs:{class:"token string"}},[s._v('"main()"')]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v(".")]),s._v(" -r --exclude-from filelist\n")])])]),a("p",[s._v("使用 0 值字节后缀的 grep 与 xargs ：")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token comment"}},[s._v("#测试文件：")]),s._v("\n"),a("span",{attrs:{class:"token keyword"}},[s._v("echo")]),s._v(" "),a("span",{attrs:{class:"token string"}},[s._v('"aaa"')]),s._v(" "),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v(" file1\n"),a("span",{attrs:{class:"token keyword"}},[s._v("echo")]),s._v(" "),a("span",{attrs:{class:"token string"}},[s._v('"bbb"')]),s._v(" "),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v(" file2\n"),a("span",{attrs:{class:"token keyword"}},[s._v("echo")]),s._v(" "),a("span",{attrs:{class:"token string"}},[s._v('"aaa"')]),s._v(" "),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v(" file3\n\n"),a("span",{attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),a("span",{attrs:{class:"token string"}},[s._v('"aaa"')]),s._v(" file* -lZ "),a("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{attrs:{class:"token function"}},[s._v("xargs")]),s._v(" -0 "),a("span",{attrs:{class:"token function"}},[s._v("rm")]),s._v("\n\n"),a("span",{attrs:{class:"token comment"}},[s._v("#执行后会删除file1和file3，grep输出用-Z选项来指定以0值字节作为终结符文件名（\\0），xargs -0 读取输入并用0值字节终结符分隔文件名，然后删除匹配文件，-Z通常和-l结合使用。")]),s._v("\n")])])]),a("p",[s._v("grep 静默输出：")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token function"}},[s._v("grep")]),s._v(" -q "),a("span",{attrs:{class:"token string"}},[s._v('"test"')]),s._v(" filename\n\n"),a("span",{attrs:{class:"token comment"}},[s._v("#不会输出任何信息，如果命令运行成功返回0，失败则返回非0值。一般用于条件测试。")]),s._v("\n")])])]),a("p",[s._v("打印出匹配文本之前或者之后的行：")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token comment"}},[s._v("#显示匹配某个结果之后的3行，使用 -A 选项：")]),s._v("\n"),a("span",{attrs:{class:"token function"}},[s._v("seq")]),s._v(" 10 "),a("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),a("span",{attrs:{class:"token string"}},[s._v('"5"')]),s._v(" -A 3\n5\n6\n7\n8\n\n"),a("span",{attrs:{class:"token comment"}},[s._v("#显示匹配某个结果之前的3行，使用 -B 选项：")]),s._v("\n"),a("span",{attrs:{class:"token function"}},[s._v("seq")]),s._v(" 10 "),a("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),a("span",{attrs:{class:"token string"}},[s._v('"5"')]),s._v(" -B 3\n2\n3\n4\n5\n\n"),a("span",{attrs:{class:"token comment"}},[s._v("#显示匹配某个结果的前三行和后三行，使用 -C 选项：")]),s._v("\n"),a("span",{attrs:{class:"token function"}},[s._v("seq")]),s._v(" 10 "),a("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),a("span",{attrs:{class:"token string"}},[s._v('"5"')]),s._v(" -C 3\n2\n3\n4\n5\n6\n7\n8\n\n"),a("span",{attrs:{class:"token comment"}},[s._v("#如果匹配结果有多个，会用“--”作为各匹配结果之间的分隔符：")]),s._v("\n"),a("span",{attrs:{class:"token keyword"}},[s._v("echo")]),s._v(" -e "),a("span",{attrs:{class:"token string"}},[s._v('"a\\nb\\nc\\na\\nb\\nc"')]),s._v(" "),a("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{attrs:{class:"token function"}},[s._v("grep")]),s._v(" a -A 1\na\nb\n--\na\nb\n")])])])])},[],!1,null,null,null);r.options.__file="Grep.md";t.default=r.exports}}]);