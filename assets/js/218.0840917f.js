(window.webpackJsonp=window.webpackJsonp||[]).push([[218],{525:function(e,t,a){"use strict";a.r(t);var r=a(1),s=Object(r.a)({},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"解决方案"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#解决方案","aria-hidden":"true"}},[e._v("#")]),e._v(" 解决方案")]),e._v(" "),a("h2",{attrs:{id:"在-vmware-中提示-vm-与-device-credential-guard-不兼容"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在-vmware-中提示-vm-与-device-credential-guard-不兼容","aria-hidden":"true"}},[e._v("#")]),e._v(" 在 VMWare 中提示 VM 与 Device/Credential Guard 不兼容")]),e._v(" "),a("p",[e._v("如果开启虚拟机的时候提示：")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("VM 与 Device/Credential Guard 不兼容。在禁用 Device/Credential Guard 后，可以运行 VM。\n")])])]),a("p",[e._v("这说明本机中同时开启了 Hyper-v 服务，解决步骤如下：")]),e._v(" "),a("ol",[a("li",[e._v("禁用Device Guard或Credential Guard")])]),e._v(" "),a("p",[e._v("运行 "),a("code",[e._v("gpedit.msc")]),e._v(" 本地组策略编辑器。")]),e._v(" "),a("p",[e._v("转至 "),a("code",[e._v("本地计算机策略 > 计算机配置 > 管理模板 > 系统 > Device Guard（或者是： 设备防护） > 打开基于虚拟化的安全性")]),e._v("。 选择已禁用。")]),e._v(" "),a("imgLink",{attrs:{src:"date/20181012/001.png"}}),e._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[e._v("通过命令关闭Hyper-V（控制面板关闭Hyper-V起不到决定性作用，要彻底关闭Hyper-V）")])]),e._v(" "),a("p",[e._v("以管理员身份运行Windows Powershell (管理员)（Windows键+X），运行下面命令并重启电脑：")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("bcdedit /set hypervisorlaunchtype off\n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[e._v("重启电脑即可")])]),e._v(" "),a("p",[e._v("参考："),a("a",{attrs:{href:"https://blog.csdn.net/qq_36761831/article/details/81175736",target:"_blank",rel:"noopener noreferrer"}},[e._v("解决VM 与 Device/Credential Guard 不兼容。在禁用 Device/Credential Guard 后，可以运行 VM 的方法"),a("OutboundLink")],1)]),e._v(" "),a("h2",{attrs:{id:"docker-warning-ipv4-forwarding-is-disabled"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-warning-ipv4-forwarding-is-disabled","aria-hidden":"true"}},[e._v("#")]),e._v(" docker WARNING: IPv4 forwarding is disabled.")]),e._v(" "),a("p",[e._v("连不上网，连不上网，连不上网，那叫一个郁闷，查了资料，发现解决方案其实很简单：")]),e._v(" "),a("p",[e._v("在宿主机上运行：")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$ echo net.ipv4.ip_forward=1 >> /usr/lib/sysctl.d/00-system.conf\n$ systemctl restart network && systemctl restart docker\n")])])]),a("p",[e._v("即可解决。")]),e._v(" "),a("p",[e._v("参考："),a("a",{attrs:{href:"http://blog.51cto.com/11804445/2055911",target:"_blank",rel:"noopener noreferrer"}},[e._v("docker WARNING: IPv4 forwarding is disabled. 解决方法"),a("OutboundLink")],1)]),e._v(" "),a("h2",{attrs:{id:"ubuntu-unable-to-locate-package"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ubuntu-unable-to-locate-package","aria-hidden":"true"}},[e._v("#")]),e._v(" ubuntu: Unable to locate package")]),e._v(" "),a("p",[e._v("在装了一个 Ubuntu 的 Docker 镜像后，attach 进入后使用 "),a("code",[e._v("apt-get install")]),e._v(" 提示："),a("code",[e._v("Unable to locate package")]),e._v("，解决方法很简单：")]),e._v(" "),a("p",[e._v("先执行 "),a("code",[e._v("apt-get install")]),e._v(" 即可。")]),e._v(" "),a("p",[e._v("参考："),a("a",{attrs:{href:"https://blog.csdn.net/xiaogugood/article/details/18400669",target:"_blank",rel:"noopener noreferrer"}},[e._v("Linux新手入门：Unable to locate package错误解决办法"),a("OutboundLink")],1)]),e._v(" "),a("h2",{attrs:{id:"在容器内-permission-denied"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在容器内-permission-denied","aria-hidden":"true"}},[e._v("#")]),e._v(" 在容器内 Permission denied")]),e._v(" "),a("p",[e._v("进入容器后, 查看当前目录提示 "),a("code",[e._v("Permission denied")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("root@30cecd834d78:/usr/share/nginx/html# ls\nls: cannot open directory '.': Permission denied\n")])])]),a("p",[e._v("解决方案有以下三种")]),e._v(" "),a("ol",[a("li",[e._v("在宿主机中执行 "),a("code",[e._v("setenforce 0")])]),e._v(" "),a("li",[e._v("运行时添加 "),a("code",[e._v("--privileged=true")])]),e._v(" "),a("li",[e._v("添加linux规则，把要挂载的目录添加到selinux白名单")])]),e._v(" "),a("p",[e._v("更改安全性文本的格式如下")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("$ chcon "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("-R"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("-t type"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("-u user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("-r role"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v(" 文件或者目录\n")])])]),a("p",[e._v("参数")]),e._v(" "),a("ul",[a("li",[e._v("-R  ：该目录下的所有目录也同时修改；")]),e._v(" "),a("li",[e._v("-t  ：后面接安全性本文的类型字段，例如 httpd_sys_content_t ；")]),e._v(" "),a("li",[e._v("-u  ：后面接身份识别，例如 system_u；")]),e._v(" "),a("li",[e._v("-r  ：后面街觇色，例如 system_r")])]),e._v(" "),a("p",[e._v("例如")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("$ chcon -Rt svirt_sandbox_file_t ~/nginx/html\n")])])]),a("p",[e._v("参考: "),a("a",{attrs:{href:"https://blog.csdn.net/u012326462/article/details/81038446",target:"_blank",rel:"noopener noreferrer"}},[e._v("\nDocker -v 对挂载的目录没有权限 Permission denied"),a("OutboundLink")],1)])],1)},[],!1,null,null,null);t.default=s.exports}}]);