(window.webpackJsonp=window.webpackJsonp||[]).push([[368],{815:function(n,a,t){"use strict";t.r(a);var s=t(0),e=Object(s.a)({},function(){var n=this,a=n.$createElement,t=n._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[t("h1",{attrs:{id:"nginx-服务器安装与使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nginx-服务器安装与使用","aria-hidden":"true"}},[n._v("#")]),n._v(" Nginx 服务器安装与使用")]),n._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"http://nginx.org/",target:"_blank",rel:"noopener noreferrer"}},[n._v("nginx 官网"),t("OutboundLink")],1)])]),n._v(" "),t("h2",{attrs:{id:"搭建-nginx-服务器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#搭建-nginx-服务器","aria-hidden":"true"}},[n._v("#")]),n._v(" 搭建 Nginx 服务器")]),n._v(" "),t("h3",{attrs:{id:"yum-安装-nginx"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#yum-安装-nginx","aria-hidden":"true"}},[n._v("#")]),n._v(" yum 安装 Nginx")]),n._v(" "),t("p",[n._v("在 Centos 默认的标准源里没有 nginx 软件包，所以需要先获取 nginx 源")]),n._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[n._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("wget")]),n._v(" http://www.atomicorp.com/installers/atomic\n$ sh ./atomic\n$ yum check-update\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# or")]),n._v("\n$ rpm -Uvh http://nginx.org/packages/centos/7/noarch/RPMS/nginx-release-centos-7-0.el7.ngx.noarch.rpm\n")])])]),t("p",[n._v("安装 nginx")]),n._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[n._v("$ yum -y "),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("install")]),n._v(" nginx\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("whereis")]),n._v(" nginx \nnginx: /usr/sbin/nginx /usr/lib64/nginx /etc/nginx /usr/share/nginx /usr/share/man/man8/nginx.8.gz\n")])])]),t("p",[n._v("相关目录")]),n._v(" "),t("ul",[t("li",[n._v("nginx 的配置文件目录位于 "),t("code",[n._v("/etc/nginx/")])]),n._v(" "),t("li",[n._v("nginx 默认站点目录位于 "),t("code",[n._v("/usr/share/nginx/html")])])]),n._v(" "),t("p",[n._v("经测试, 在阿里云的 centos 镜像中可直接使用 yum 进行安装")]),n._v(" "),t("h3",{attrs:{id:"源码安装-nginx"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#源码安装-nginx","aria-hidden":"true"}},[n._v("#")]),n._v(" 源码安装 Nginx")]),n._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[n._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("wget")]),n._v(" http://nginx.org/download/nginx-1.7.3.tar.gz\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("tar")]),n._v(" xzf nginx-1.7.3.tar.gz\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("cd")]),n._v(" nginx-1.7.3\n$ ./configure\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("make")]),n._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[n._v("&&")]),n._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("make")]),n._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("install")]),n._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("whereis")]),n._v(" nginx\nnginx: /usr/local/nginx\n")])])]),t("p",[n._v("相关位置")]),n._v(" "),t("ul",[t("li",[n._v("使用源码安装 nginx 的二进制文件 "),t("code",[n._v("/usr/local/nginx/nginx")])])]),n._v(" "),t("h2",{attrs:{id:"nginx-的基础操作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nginx-的基础操作","aria-hidden":"true"}},[n._v("#")]),n._v(" Nginx 的基础操作")]),n._v(" "),t("ul",[t("li",[n._v("启动 nginx 服务: "),t("code",[n._v("nginx")])]),n._v(" "),t("li",[n._v("重新载入配置文件: "),t("code",[n._v("nginx -s reload")])]),n._v(" "),t("li",[n._v("停止 nginx 服务: "),t("code",[n._v("nginx -s stop")])]),n._v(" "),t("li",[n._v("重启 nginx 服务: "),t("code",[n._v("nginx -s reopen")])]),n._v(" "),t("li",[n._v("查看 nginx 帮助: "),t("code",[n._v("nginx -h")])]),n._v(" "),t("li",[n._v("重新绑定配置文件: "),t("code",[n._v("nginx -c /etc/nginx/nginx.conf")])]),n._v(" "),t("li",[n._v("测试配置文件: "),t("code",[n._v("nginx -t")])])]),n._v(" "),t("p",[n._v("检测是否启动成功")]),n._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[n._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("netstat")]),n._v(" -ntlp "),t("span",{pre:!0,attrs:{class:"token operator"}},[n._v("|")]),n._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("grep")]),n._v(" 80\ntcp        0      0 0.0.0.0:80              0.0.0.0:*               LISTEN      5967/nginx: master  \ntcp6       0      0 :::80                   :::*                    LISTEN      5967/nginx: master  \n")])])]),t("h2",{attrs:{id:"将服务端口添加进防火墙"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#将服务端口添加进防火墙","aria-hidden":"true"}},[n._v("#")]),n._v(" 将服务端口添加进防火墙")]),n._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[n._v("$ firewall-cmd --add-service"),t("span",{pre:!0,attrs:{class:"token operator"}},[n._v("=")]),n._v("http "),t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# 临时开启 http 服务")]),n._v("\n$ firewall-cmd --add-service"),t("span",{pre:!0,attrs:{class:"token operator"}},[n._v("=")]),n._v("http --permanent "),t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# 永久开启 http 服务")]),n._v("\n\n$ firewall-cmd --add-port"),t("span",{pre:!0,attrs:{class:"token operator"}},[n._v("=")]),n._v("80/tcp "),t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# 临时开启 80 端口")]),n._v("\n$ firewall-cmd --add-port"),t("span",{pre:!0,attrs:{class:"token operator"}},[n._v("=")]),n._v("80/tcp --permanent "),t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# 永久开启 80 端口")]),n._v("\n")])])]),t("h2",{attrs:{id:"设置-nginx-开机启动"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#设置-nginx-开机启动","aria-hidden":"true"}},[n._v("#")]),n._v(" 设置 nginx 开机启动")]),n._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[n._v("$ systemctl "),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("enable")]),n._v(" nginx.service\nCreated symlink from /etc/systemd/system/multi-user.target.wants/nginx.service to /usr/lib/systemd/system/nginx.service.\n")])])]),t("p",[n._v("或 "),t("code",[n._v("chkconfig --levels 235 nginx on")])]),n._v(" "),t("p",[n._v("nginx 默认站点目录位于 "),t("code",[n._v("/usr/share/nginx/html")])]),n._v(" "),t("h2",{attrs:{id:"浏览器访问"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#浏览器访问","aria-hidden":"true"}},[n._v("#")]),n._v(" 浏览器访问")]),n._v(" "),t("p",[n._v("当浏览器中输出如下内容，说明 nginx 部署成功")]),n._v(" "),t("imgLink",{attrs:{src:"articles/013.jpg/small"}})],1)},[],!1,null,null,null);a.default=e.exports}}]);