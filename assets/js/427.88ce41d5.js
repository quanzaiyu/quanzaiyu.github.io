(window.webpackJsonp=window.webpackJsonp||[]).push([[427],{908:function(t,s,a){"use strict";a.r(s);var n={props:["slot-key"],mounted(){this.$nextTick(function(){this.$vuepress.$emit("AsyncMarkdownContentMounted",this.slotKey)})}},e=a(0),v=Object(e.a)(n,function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.slotKey}},[a("h1",{attrs:{id:"环境变量配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#环境变量配置","aria-hidden":"true"}},[t._v("#")]),t._v(" 环境变量配置")]),t._v(" "),a("p",[t._v("在项目根目录下用 "),a("code",[t._v(".env")]),t._v(" 文件做配置，文件使用 "),a("code",[t._v(".ini")]),t._v(" 配置风格，也就是 "),a("code",[t._v("配置项名称=配置值")]),t._v("。")]),t._v(" "),a("p",[t._v("比如在 "),a("code",[t._v(".env")]),t._v(" 文件中输入:")]),t._v(" "),a("div",{staticClass:"language-ini extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ini"}},[a("code",[a("span",{attrs:{class:"token constant"}},[t._v("my_env")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),t._v("dev")]),t._v("\n")])])]),a("p",[t._v("在控制器中获取:")]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[t._v("\\"),a("span",{attrs:{class:"token package"}},[t._v("think"),a("span",{attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Env")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token function"}},[t._v("get")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'my_env'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("也可使用 use 引入命名空间")]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),a("span",{attrs:{class:"token package"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("think"),a("span",{attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Env")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n\nEnv"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token function"}},[t._v("get")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'my_env'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h2",{attrs:{id:"系统环境变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#系统环境变量","aria-hidden":"true"}},[t._v("#")]),t._v(" 系统环境变量")]),t._v(" "),a("p",[t._v("可以通过 Env 获取系统环境变量，在 ThinkPHP5.1 中， Env 已经包装在 facade 中。")]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),a("span",{attrs:{class:"token package"}},[t._v("think"),a("span",{attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("facade"),a("span",{attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("ENV")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("// 获取应用目录（不区分大小写）")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("echo")]),t._v(" Env"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token function"}},[t._v("get")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'app_path'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// 或者")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("echo")]),t._v(" Env"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token function"}},[t._v("get")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'APP_PATH'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("支持的系统环境变量包括 :")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("系统路径")]),t._v(" "),a("th",[t._v("Env参数名称")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("应用根目录")]),t._v(" "),a("td",[t._v("root_path")])]),t._v(" "),a("tr",[a("td",[t._v("应用目录")]),t._v(" "),a("td",[t._v("app_path")])]),t._v(" "),a("tr",[a("td",[t._v("框架目录")]),t._v(" "),a("td",[t._v("think_path")])]),t._v(" "),a("tr",[a("td",[t._v("配置目录")]),t._v(" "),a("td",[t._v("config_path")])]),t._v(" "),a("tr",[a("td",[t._v("扩展目录")]),t._v(" "),a("td",[t._v("extend_path")])]),t._v(" "),a("tr",[a("td",[t._v("composer目录")]),t._v(" "),a("td",[t._v("vendor_path")])]),t._v(" "),a("tr",[a("td",[t._v("运行缓存目录")]),t._v(" "),a("td",[t._v("runtime_path")])]),t._v(" "),a("tr",[a("td",[t._v("路由目录")]),t._v(" "),a("td",[t._v("route_path")])]),t._v(" "),a("tr",[a("td",[t._v("当前模块目录")]),t._v(" "),a("td",[t._v("module_path")])])])])])},[],!1,null,null,null);v.options.__file="Env.md";s.default=v.exports}}]);