(window.webpackJsonp=window.webpackJsonp||[]).push([[616],{894:function(t,a,s){"use strict";s.r(a);var e=s(1),n=Object(e.a)({},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"版本控制工具-git-的使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#版本控制工具-git-的使用","aria-hidden":"true"}},[t._v("#")]),t._v(" 版本控制工具 Git 的使用")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://git-scm.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Git"),s("OutboundLink")],1),t._v("(读音为/gɪt/。)是一个开源的分布式版本控制系统，可以有效、高速的处理从很小到非常大的项目版本管理。 Git 是 Linus Torvalds 为了帮助管理 Linux 内核开发而开发的一个开放源码的版本控制软件。")]),t._v(" "),s("h2",{attrs:{id:"关于版本控制"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#关于版本控制","aria-hidden":"true"}},[t._v("#")]),t._v(" 关于版本控制")]),t._v(" "),s("p",[s("strong",[t._v("版本控制")]),t._v(" （Version Control System，简称 VCS）是一种记录一个或若干文件内容变化，以便将来查阅特定版本修订情况的系统。")]),t._v(" "),s("p",[s("strong",[t._v("集中化的版本控制系统")]),t._v("（Centralized Version Control Systems，简称 CVCS），比如 CVS、SVN，都有一个单一的集中管理的服务器，保存所有文件的修订版本，而协同工作的人们都通过客户端连到这台服务器，取出最新的文件或者提交更新。 多年以来，这已成为版本控制系统的标准做法。")]),t._v(" "),s("p",[s("strong",[t._v("分布式版本控制系统")]),t._v("（Distributed Version Control System，简称 DVCS），比如 Git，客户端并不只提取最新版本的文件快照，而是把代码仓库完整地镜像下来。 这么一来，任何一处协同工作用的服务器发生故障，事后都可以用任何一个镜像出来的本地仓库恢复。 因为每一次的克隆操作，实际上都是一次对代码仓库的完整备份。")]),t._v(" "),s("h2",{attrs:{id:"git-基本配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git-基本配置","aria-hidden":"true"}},[t._v("#")]),t._v(" Git 基本配置")]),t._v(" "),s("p",[t._v("git 配置文件路径")]),t._v(" "),s("ul",[s("li",[t._v("Windows: "),s("code",[t._v("~/.gitconfig")])]),t._v(" "),s("li",[t._v("Linux: "),s("code",[t._v("/etc/gitconfig")]),t._v(" (系统级别)、"),s("code",[t._v("~/.gitconfig")]),t._v(" 或 "),s("code",[t._v("~/.config/git/config")]),t._v(" (用户级别)")]),t._v(" "),s("li",[t._v("针对于项目的配置： "),s("code",[t._v("项目路径/.git/config")])])]),t._v(" "),s("p",[t._v("配置优先级： 项目级 > 用户级 > 系统级")]),t._v(" "),s("ul",[s("li",[t._v("使用参数 "),s("code",[t._v("--system")]),t._v(" 配置系统级配置")]),t._v(" "),s("li",[t._v("使用参数 "),s("code",[t._v("--global")]),t._v(" 配置用户级配置")]),t._v(" "),s("li",[t._v("直接使用 "),s("code",[t._v("git config")]),t._v(" 配置项目级配置")])]),t._v(" "),s("h3",{attrs:{id:"配置用户名和-email"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置用户名和-email","aria-hidden":"true"}},[t._v("#")]),t._v(" 配置用户名和 Email")]),t._v(" "),s("p",[t._v("第一次使用 git, 需要修改提交的用户名和 Email, 否则会报以下提示：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("Your name and email address were configured automatically based\non your username and hostname. Please check that they are accurate.\nYou can suppress this message by setting them explicitly. Run the\nfollowing command and follow the instructions in your editor to edit\nyour configuration file:\n\n    git config --global --edit\n\nAfter doing this, you may fix the identity used for this commit with:\n\n    git commit --amend --reset-author\n")])])]),s("p",[t._v("这时只需要绑定以下用户名和邮箱即可：")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config --global user.name "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Your Name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config --global user.email "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("example@example.com"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),s("p",[t._v("或者提交的时候指定用户名和邮箱")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" commit --amend --author"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Your Name <you@example.com>'")]),t._v("\n")])])]),s("p",[t._v("配置示例")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("[user]\n  email = 731734107@qq.com\n  name = quanzaiyu\n[http]\n  postBuffer = 1048576000\n")])])]),s("p",[t._v("要查看当前配置, 使用:")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config --list\n")])])]),s("p",[t._v("获取某个指定的配置, 比如查看用户名:")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config user.name\nquanzaiyu\n")])])]),s("h2",{attrs:{id:"基本使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#基本使用","aria-hidden":"true"}},[t._v("#")]),t._v(" 基本使用")]),t._v(" "),s("p",[s("strong",[t._v("获取帮助")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("help")]),t._v("\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("help")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("verb"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("verb"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" --help\n")])])]),s("p",[s("strong",[t._v("创建新仓库")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" init\n")])])]),s("p",[s("strong",[t._v("检出仓库")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone /path/to/repository "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 克隆本地仓库")]),t._v("\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone username@host:/path/to/repository "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 克隆远程仓库(SSH)")]),t._v("\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone https://github.com/path/to/repository.git "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 克隆远程仓库(HTTPS)")]),t._v("\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone --bare "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("repository"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 只检出 .git 目录")]),t._v("\n")])])]),s("h2",{attrs:{id:"远程仓库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#远程仓库","aria-hidden":"true"}},[t._v("#")]),t._v(" 远程仓库")]),t._v(" "),s("p",[s("strong",[t._v("添加一个远程仓库")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" remote "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("local-name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("server"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),s("p",[t._v("比如:")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" remote "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" origin /root/git-test/\n")])])]),s("p",[t._v("此时在本地仓库命名了一个叫 "),s("code",[t._v("origin")]),t._v(" 的远程仓库，之后只需要使用此名称就可将变更推送到指定远程仓库。")]),t._v(" "),s("p",[t._v("查看 git 配置文件可以看到添加成功了:")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cd")]),t._v(" .git "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cat")]),t._v(" config\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("core"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\trepositoryformatversion "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" 0\n\tfilemode "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n\tbare "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n\tlogallrefupdates "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("remote "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"origin"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\turl "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" /root/git-test/\n\tfetch "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" +refs/heads/*:refs/remotes/origin/*\n")])])]),s("p",[s("strong",[t._v("查看远程仓库信息")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" remote show origin\n* remote origin\n  Fetch URL: https://gitee.com/quanzaiyu/quanzaiyu.git\n  Push  URL: https://gitee.com/quanzaiyu/quanzaiyu.git\n  HEAD branch: master\n  Remote branch:\n    master tracked\n  Local branch configured "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'git pull'")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v(":")]),t._v("\n    master merges with remote master\n  Local ref configured "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'git push'")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v(":")]),t._v("\n    master pushes to master "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("up to date"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[s("strong",[t._v("重命名远程仓库的名字")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" remote "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("rename")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("originName"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("targetName"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),s("p",[s("strong",[t._v("删除远程仓库")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" remote "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" origin\n")])])]),s("h2",{attrs:{id:"暂存与提交"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#暂存与提交","aria-hidden":"true"}},[t._v("#")]),t._v(" 暂存与提交")]),t._v(" "),s("p",[t._v("把计划改动的文件添加到缓存区，使用如下命令：")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("filename"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 单独添加某个文件到暂存区")]),t._v("\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v(".")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 添加工作区的所有修改(modified)、新文件(untracked)、删除(deleted)文件到暂存区 (除 .gitignore 中忽略的文件)")]),t._v("\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" -f * "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 添加所有文件到暂存区(包括 .gitignore 中忽略的文件)")]),t._v("\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" -u "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v(".")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 仅仅添加已经被add的文件(added)到暂存区, 不会添加新文件(untracked) (git add --update 的缩写)")]),t._v("\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" -A "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v(".")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 暂存 untracked、added、modified、deleted 状态的文件 (git add --all 的缩写)")]),t._v("\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" -i "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 以交互的方式添加文件")]),t._v("\n")])])]),s("p",[t._v("提交更改:")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" commit -m "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("comment"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 提交所有暂存的更改")]),t._v("\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" commit -am "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("comment"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 自动添加暂存(包括 modified 和 deleted, 不包括 untracked)并提交更改")]),t._v("\n")])])]),s("p",[t._v("比如:")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" commit -m 0\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("master "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("root-commit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" f168f34"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" 0\n 1 "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" changed, 1 insertion"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("+"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n create mode 100644 a\n")])])]),s("h2",{attrs:{id:"更新与合并"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#更新与合并","aria-hidden":"true"}},[t._v("#")]),t._v(" 更新与合并")]),t._v(" "),s("p",[t._v("要更新本地仓库至最新改动，执行：")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" pull "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 更新本地所有分支")]),t._v("\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" pull "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("local-name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("branch"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 更新本地某个分支")]),t._v("\n")])])]),s("p",[t._v("比如:")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" pull origin master\nremote: Counting objects: 3, done.\nremote: Total 3 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("delta 0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", reused 0 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("delta 0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nUnpacking objects: 100% "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("3/3"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", done.\nFrom /root/git-test\n * branch            master     -"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" FETCH_HEAD\n * "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("new branch"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("      master     -"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" origin/master\nMerge made by the "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'recursive'")]),t._v(" strategy.\n a "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" 1 +\n 1 "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" changed, 1 insertion"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("+"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n create mode 100644 a\n")])])]),s("p",[s("code",[t._v("git pull")]),t._v(" 实际上是一个合并的命令，包括 获取（fetch）并 合并（merge） 远端的改动。")]),t._v(" "),s("p",[t._v("要合并其他分支到你的当前分支（例如 master），执行：")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" merge "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("branch"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),s("p",[t._v("两种情况下，git 都会尝试去自动合并改动。但自动合并并非次次都能成功，并可能导致 冲突（conflicts）。")]),t._v(" "),s("p",[t._v("这时候就需要你修改这些文件来人为合并这些 冲突（conflicts）。改完之后，你需要执行如下命令以将它们标记为合并成功：")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("filename"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),s("p",[t._v("在合并改动之前，也可以使用如下命令查看：")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" status\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("diff")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("source_branch"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("target_branch"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),s("h2",{attrs:{id:"推送改动"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#推送改动","aria-hidden":"true"}},[t._v("#")]),t._v(" 推送改动")]),t._v(" "),s("p",[t._v("改动已经在本地仓库的 HEAD 中了。执行如下命令以将这些改动提交到远端仓库：")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" push "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("local-name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("branch"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 推送到远程某个分支")]),t._v("\n")])])]),s("h2",{attrs:{id:"分支与标签"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#分支与标签","aria-hidden":"true"}},[t._v("#")]),t._v(" 分支与标签")]),t._v(" "),s("p",[t._v("分支是用来将特性开发绝缘开来的。在你创建仓库的时候，master 是“默认的”。在其他分支上进行开发，完成后再将它们合并到主分支上。")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" branch hot-fix "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 从当前分支 HEAD 切出 hot-fix 分支")]),t._v("\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" checkout hot-fix "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 切换到 hot-fix 分支")]),t._v("\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" checkout -b future "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 新建并切到 future 分支")]),t._v("\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" branch -d hot-fix "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 删除分支")]),t._v("\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" merge hot-fix "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 将指定分支合并到当前分支")]),t._v("\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" branch "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 列出所有分支")]),t._v("\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" branch -v "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 列出所有分支及最后一次提交")]),t._v("\n")])])]),s("p",[t._v("在软件发布时创建标签，是被推荐的。这是个旧有概念，在 SVN 中也有。可以执行如下命令以创建一个叫做 1.0.0 的标签：")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" tag 1.0.0 1b2e1d63ff "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 将指定commit Id打标签")]),t._v("\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" tag 2.0.0 HEAD "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 将HEAD打标签")]),t._v("\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" tag -a v1.4 -m "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'my version 1.4'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 创建标签并打注释")]),t._v("\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" show v1.4 "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看指定标签的信息")]),t._v("\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" tag -d v1.4 "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 删除标签")]),t._v("\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" checkout 2.0.0 "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 检出指定标签")]),t._v("\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" tag "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 列出所有标签")]),t._v("\n")])])]),s("p",[t._v("1b2e1d63ff 是你想要标记的 commit ID 的前 10 位字符。使用如下命令获取 commit ID：")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" log\ncommit 26c4dd47ce720972787d50c63a4b3a1d258f087c "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("HEAD -"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" future, master"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nAuthor: quanzaiyu "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("731734107@qq.com"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\nDate:   Sun Mar 10 20:28:46 2019 +0800\n\ncommit 1b2e1d63ff308f81e8eaeb098b652a71718988ad\nAuthor: quanzaiyu "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("731734107@qq.com"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\nDate:   Sun Mar 10 20:26:46 2019 +0800\n")])])]),s("p",[t._v("你也可以用该 "),s("code",[t._v("commit ID")]),t._v(" 的少一些的前几位，只要它是唯一的, 其中 HEAD 指向最新修改的 commit ID。")]),t._v(" "),s("h2",{attrs:{id:"替换本地改动"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#替换本地改动","aria-hidden":"true"}},[t._v("#")]),t._v(" 替换本地改动")]),t._v(" "),s("p",[t._v("假如你做错事，你可以使用如下命令替换掉本地改动：")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" checkout -- "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("filename"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" checkout -- test.txt\n")])])]),s("p",[t._v("此命令会使用 HEAD 中的最新内容替换掉你的工作目录中的文件。已添加到缓存区的改动，以及新文件，都不受影响。")]),t._v(" "),s("p",[t._v("假如你想要丢弃你所有的本地改动与提交，可以到服务器上获取最新的版本并将你本地主分支指向到它：")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" fetch origin\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" reset --hard origin/master\n")])])]),s("h2",{attrs:{id:"储藏与清理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#储藏与清理","aria-hidden":"true"}},[t._v("#")]),t._v(" 储藏与清理")]),t._v(" "),s("p",[t._v("有时，当你在项目的一部分上已经工作一段时间后，所有东西都进入了混乱的状态，而这时你想要切换到另一个分支做一点别的事情。 问题是，你不想仅仅因为过会儿回到这一点而为做了一半的工作创建一次提交。 针对这个问题的答案是 git stash 命令。")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" stash\nSaved working directory and index state WIP on future: 26c4dd4 0\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" stash list\nstash@"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(": WIP on future: 26c4dd4 "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'add file a.txt'")]),t._v("\nstash@"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(": WIP on future: 26c4dd4 "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'add file b.txt'")]),t._v("\n")])])]),s("p",[t._v("取出暂存")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" stash pop "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 取出最近的一个暂存, 即stash@{0}")]),t._v("\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" stash apply "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 如果不指定暂存, Git 认为指定的是最近的暂存, 即stash@{0}")]),t._v("\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" stash apply stash@"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 取出一个更新的的暂存 stash@{1}")]),t._v("\n")])])]),s("p",[t._v("清理工作目录")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clean -n -d "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 检查将要移除的文件")]),t._v("\nWould remove 0.txt\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clean -f -d "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 清理工作目录")]),t._v("\nRemoving 0.txt\n")])])]),s("p",[t._v("默认情况下，git clean 命令只会移除没有忽略的未跟踪文件。 任何与 .gitiignore 或其他忽略文件中的模式匹配的文件都不会被移除。 如果你也想要移除那些文件，例如为了做一次完全干净的构建而移除所有由构建生成的 .o 文件，可以给 clean 命令增加一个 -x 选项。")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clean -n -d -x\nWould remove .vscode/\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clean -f -d -x\nRemoving .vscode/\n")])])]),s("h2",{attrs:{id:"版本回退"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#版本回退","aria-hidden":"true"}},[t._v("#")]),t._v(" 版本回退")]),t._v(" "),s("ol",[s("li",[t._v("HEAD指向的版本就是当前版本，因此，Git允许我们在版本的历史之间穿梭，使用命令 "),s("code",[t._v("git reset --hard <COMMIT ID>")]),t._v("。")]),t._v(" "),s("li",[t._v("穿梭前，用 "),s("code",[t._v("git log")]),t._v(" 可以查看提交历史，以便确定要回退到哪个版本。")]),t._v(" "),s("li",[t._v("要重返未来，用 "),s("code",[t._v("git reflog")]),t._v(" 查看命令历史，以便确定要回到未来的哪个版本。")])]),t._v(" "),s("h3",{attrs:{id:"git-log"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git-log","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("code",[t._v("git log")])]),t._v(" "),s("p",[t._v("假设我们有一个 "),s("code",[t._v("readme.txt")]),t._v(" 文件, 一共有三个版本被提交到 Git 仓库里了, 用 "),s("code",[t._v("git log -n")]),t._v(" 命令查看提交记录.")]),t._v(" "),s("p",[t._v("其中 "),s("code",[t._v("n")]),t._v(" 代表显示最近提交的几次更改:")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" log -3\ncommit 3628164fb26d48395383f8f31179f24e0882e1e0\nAuthor: Michael Liao "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("askxuefeng@gmail.com"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\nDate:   Tue Aug 20 15:11:49 2013 +0800\n\n    append GPL\n\ncommit ea34578d5496d7dd233c827ed32a8cd576c5ee85\nAuthor: Michael Liao "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("askxuefeng@gmail.com"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\nDate:   Tue Aug 20 14:53:12 2013 +0800\n\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" distributed\n\ncommit cb926e7ea50ad11b8f9e909c05226233bf755030\nAuthor: Michael Liao "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("askxuefeng@gmail.com"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\nDate:   Mon Aug 19 17:51:55 2013 +0800\n\n    wrote a readme "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v("\n")])])]),s("p",[t._v("如果嫌输出信息太多，看得眼花缭乱的，可以加上 "),s("code",[t._v("--pretty=oneline")]),t._v(" 参数：")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" log --pretty"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("oneline\n3628164fb26d48395383f8f31179f24e0882e1e0 append GPL\nea34578d5496d7dd233c827ed32a8cd576c5ee85 "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" distributed\ncb926e7ea50ad11b8f9e909c05226233bf755030 wrote a readme "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v("\n")])])]),s("p",[t._v("可以看到的一大串类似 3628164...882e1e0 的是 commit id（版本号），和SVN不一样，Git 的 commit id 不是 1，2，3…… 递增的数字，而是一个 SHA1 计算出来的一个非常大的数字，用十六进制表示，而且你看到的 commit id 和我的肯定不一样，以你自己的为准。为什么 commit id 需要用这么一大串数字表示呢？因为Git是分布式的版本控制系统，后面我们还要研究多人在同一个版本库里工作，如果大家都用 1，2，3…… 作为版本号，那肯定就冲突了。")]),t._v(" "),s("h3",{attrs:{id:"git-reset-hard"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git-reset-hard","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("code",[t._v("git reset --hard")])]),t._v(" "),s("p",[t._v("现在如果想把 readme.txt 回退到上一个版本，也就是 'add distributed' 的那个版本，怎么做呢？")]),t._v(" "),s("p",[t._v("首先，Git 必须知道当前版本是哪个版本，在 Git 中，用 "),s("code",[t._v("HEAD")]),t._v(" 表示当前版本，也就是最新的提交 3628164...882e1e0，上一个版本就是 "),s("code",[t._v("HEAD^")]),t._v("，上上一个版本就是 "),s("code",[t._v("HEAD^^")]),t._v("，当然往上 100 个版本写 "),s("code",[t._v("100个^")]),t._v(" 比较容易数不过来，所以写成 "),s("code",[t._v("HEAD~100")]),t._v("。")]),t._v(" "),s("p",[t._v("现在，我们要把当前版本 'append GPL' 回退到上一个版本 'add distributed'，就可以使用 "),s("code",[t._v("git reset")]),t._v(" 命令：")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" reset --hard HEAD^\nHEAD is now at ea34578 "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" distributed\n")])])]),s("p",[t._v("也可以通过 "),s("code",[t._v("commit id")]),t._v(" 指定回到过去或未来的某个版本：")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" reset --hard 3628164\nHEAD is now at 3628164 append GPL\n")])])]),s("p",[t._v("版本号没必要写全，前几位就可以了，Git会自动去找。当然也不能只写前一两位，因为Git可能会找到多个版本号，就无法确定是哪一个了。")]),t._v(" "),s("p",[t._v("Git 的版本回退速度非常快，因为 Git 在内部有个指向当前版本的 HEAD 指针，当你回退版本的时候，Git仅仅是把HEAD从指向append GPL：")]),t._v(" "),s("imgLink",{attrs:{src:"articles/015.jpg"}}),t._v(" "),s("p",[t._v("改为指向add distributed：")]),t._v(" "),s("imgLink",{attrs:{src:"articles/016.jpg"}}),t._v(" "),s("p",[t._v("然后顺便把工作区的文件更新了。所以你让HEAD指向哪个版本号，你就把当前版本定位在哪。")]),t._v(" "),s("h3",{attrs:{id:"git-reflog"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git-reflog","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("code",[t._v("git reflog")])]),t._v(" "),s("p",[t._v("现在，你回退到了某个版本，关掉了电脑，第二天早上就后悔了，想恢复到新版本怎么办？找不到新版本的 commit id 怎么办？")]),t._v(" "),s("p",[t._v("在 Git 中，总是有后悔药可以吃的。当你用 "),s("code",[t._v("git reset --hard HEAD^")]),t._v(" 回退到 add distributed 版本时，再想恢复到 append GPL ，就必须找到 append GPL 的 commit id。Git 提供了一个命令 "),s("code",[t._v("git reflog")]),t._v(" 用来记录你的每一次命令：")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" reflog\nea34578 HEAD@"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(": reset: moving to HEAD^\n3628164 HEAD@"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(": commit: append GPL\nea34578 HEAD@"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(": commit: "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" distributed\ncb926e7 HEAD@"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("3"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(": commit "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("initial"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(": wrote a readme "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v("\n")])])]),s("p",[t._v("终于舒了口气，第二行显示 append GPL 的 commit id 是 3628164，现在，你又可以乘坐时光机回到未来了。")]),t._v(" "),s("h2",{attrs:{id:"git-状态查看"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git-状态查看","aria-hidden":"true"}},[t._v("#")]),t._v(" git 状态查看")]),t._v(" "),s("h3",{attrs:{id:"git-status"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git-status","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("code",[t._v("git status")])]),t._v(" "),s("p",[s("code",[t._v("git status")]),t._v(" 命令可以让我们时刻掌握仓库当前的状态，比如我们修改了一个名叫 "),s("code",[t._v("readme.txt")]),t._v(" 的文件，使用 "),s("code",[t._v("git status")]),t._v(" 可以看到已修改状态:")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" status\nOn branch future\nChanges not staged "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" commit:\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("use "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"git add <file>..."')]),t._v(" to update what will be committed"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("use "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"git checkout -- <file>..."')]),t._v(" to discard changes "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" working directory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n        modified:   readme.txt\n\nno changes added to commit "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("use "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"git add"')]),t._v(" and/or "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"git commit -a"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" readme.txt\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" status\nOn branch future\nChanges to be committed:\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("use "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"git reset HEAD <file>..."')]),t._v(" to unstage"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n        modified:   readme.txt\n\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" commit -m readme.txt\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" status\nOn branch future\nnothing to commit, working tree clean\n")])])]),s("ul",[s("li",[s("code",[t._v("Untracked files")]),t._v(" 未跟踪的文件")]),t._v(" "),s("li",[s("code",[t._v("Changes not staged for commit")]),t._v(" 已跟踪文件内容的变化，未暂存")]),t._v(" "),s("li",[s("code",[t._v("Changes to be committed")]),t._v(" 已暂存, 未提交")])]),t._v(" "),s("hr"),t._v(" "),s("ul",[s("li",[s("code",[t._v("no changes added to commit")]),t._v(" 修改未暂存")]),t._v(" "),s("li",[s("code",[t._v("Changes to be committed")]),t._v(" 修改已暂存未提交")]),t._v(" "),s("li",[s("code",[t._v("nothing to commit, working tree clean")]),t._v(' 没有任何修改, 工作空间很"干净"')])]),t._v(" "),s("h3",{attrs:{id:"状态简览"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#状态简览","aria-hidden":"true"}},[t._v("#")]),t._v(" 状态简览")]),t._v(" "),s("p",[t._v("使用 "),s("code",[t._v("git status -s")]),t._v(" 或 "),s("code",[t._v("git status --short")]),t._v(" 以简短的形式输出文件状态")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" status -s\n M README\nMM Rakefile\nA  lib/git.rb\nM  lib/simplegit.rb\n?? LICENSE.txt\n")])])]),s("ul",[s("li",[s("code",[t._v("??")]),t._v(" 新添加的未跟踪文件")]),t._v(" "),s("li",[s("code",[t._v("A")]),t._v(" 新添加到暂存区中的文件")]),t._v(" "),s("li",[s("code",[t._v("右边的M")]),t._v(" 修改了但是还没放入暂存区")]),t._v(" "),s("li",[s("code",[t._v("左边的M")]),t._v(" 修改了并放入了暂存区")]),t._v(" "),s("li",[s("code",[t._v("MM")]),t._v(" 在工作区被修改并提交到暂存区后又在工作区中被修改了，所以在暂存区和工作区都有该文件被修改了的记录")])]),t._v(" "),s("h3",{attrs:{id:"git-diff"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git-diff","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("code",[t._v("git diff")])]),t._v(" "),s("p",[s("code",[t._v("git diff")]),t._v(" 顾名思义就是查看 difference，显示的格式正是 Unix 通用的 diff 格式，可以从上面的命令输出看到，我们在第一行添加了一个“distributed”单词。")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("diff")]),t._v(" readme.txt\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("diff")]),t._v(" --git a/readme.txt b/readme.txt\nindex 46d49bf"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("9247db6 100644\n--- a/readme.txt\n+++ b/readme.txt\n@@ -1,2 +1,2 @@\n-Git is a version control system.\n+Git is a distributed version control system.\n Git is "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("free")]),t._v(" software.\n")])])]),s("h2",{attrs:{id:"gitignore"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gitignore","aria-hidden":"true"}},[t._v("#")]),t._v(" gitignore")]),t._v(" "),s("p",[t._v("如果不希望 git 系统追踪某些文件, 可以配置 .gitignore 文件")]),t._v(" "),s("p",[t._v("文件 "),s("code",[t._v(".gitignore")]),t._v(" 的格式规范如下：")]),t._v(" "),s("ul",[s("li",[t._v("所有空行或者以 ＃ 开头的行都会被 Git 忽略。")]),t._v(" "),s("li",[t._v("可以使用标准的 glob 模式 (shell 所使用的简化了的正则表达式) 匹配。")]),t._v(" "),s("li",[t._v("匹配模式可以以（/）开头防止递归。")]),t._v(" "),s("li",[t._v("匹配模式可以以（/）结尾指定目录。")]),t._v(" "),s("li",[t._v("要忽略指定模式以外的文件或目录，可以在模式前加上惊叹号（!）取反。")])]),t._v(" "),s("h2",{attrs:{id:"取消文件跟踪"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#取消文件跟踪","aria-hidden":"true"}},[t._v("#")]),t._v(" 取消文件跟踪")]),t._v(" "),s("p",[t._v("如果不小心 add 了不需要跟踪的文件, 之后配置 .gitignore 是不生效的, 可以使用 "),s("code",[t._v("git rm")]),t._v(" 移除文件跟踪, 注意, 如果不加 "),s("code",[t._v("--cache")]),t._v(" 的话则")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("FileName"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 此操作将从本地版本和磁盘中删除")]),t._v("\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" --cached -r dist "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 移除dist目录下的所有文件跟踪(不从磁盘删除)")]),t._v("\n")])])]),s("h2",{attrs:{id:"git-工作原理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git-工作原理","aria-hidden":"true"}},[t._v("#")]),t._v(" Git 工作原理")]),t._v(" "),s("h3",{attrs:{id:"工作流"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#工作流","aria-hidden":"true"}},[t._v("#")]),t._v(" 工作流")]),t._v(" "),s("p",[t._v("你的本地仓库由 git 维护的三棵“树”组成。第一个是你的 工作目录，它持有实际文件；第二个是 缓存区（Index），它像个缓存区域，临时保存你的改动；最后是 HEAD，指向你最近一次提交后的结果。")]),t._v(" "),s("imgLink",{attrs:{src:"chart/git-flow.png"}}),t._v(" "),s("h3",{attrs:{id:"文件的三种状态"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#文件的三种状态","aria-hidden":"true"}},[t._v("#")]),t._v(" 文件的三种状态")]),t._v(" "),s("p",[t._v("对于任何一个文件，在 Git 内都只有三种状态：已提交（committed），已修改（modified）和已暂存（staged）。已提交表示该文件已经被安全地保存在本地数据库中了；已修改表示修改了某个文件，但还没有提交保存；已暂存表示把已修改的文件放在下次提交时要保存的清单中。")]),t._v(" "),s("p",[t._v("由此我们看到 Git 管理项目时，文件流转的三个工作区域：Git 的工作目录，暂存区域，以及本地仓库。")]),t._v(" "),s("imgLink",{attrs:{src:"date/20181119/001.png"}}),t._v(" "),s("h3",{attrs:{id:"文件的生命周期"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#文件的生命周期","aria-hidden":"true"}},[t._v("#")]),t._v(" 文件的生命周期")]),t._v(" "),s("imgLink",{attrs:{src:"date/20190311/001.png"}}),t._v(" "),s("h2",{attrs:{id:"git-命令图谱"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git-命令图谱","aria-hidden":"true"}},[t._v("#")]),t._v(" git 命令图谱")]),t._v(" "),s("imgLink",{attrs:{src:"chart/git.png"}}),t._v(" "),s("h2",{attrs:{id:"git-问题汇总及解决方案"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git-问题汇总及解决方案","aria-hidden":"true"}},[t._v("#")]),t._v(" Git 问题汇总及解决方案")]),t._v(" "),s("h3",{attrs:{id:"推送和拉取时总需要输入用户名密码的解决方案"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#推送和拉取时总需要输入用户名密码的解决方案","aria-hidden":"true"}},[t._v("#")]),t._v(" 推送和拉取时总需要输入用户名密码的解决方案")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config --global credential.helper store\n")])])]),s("h3",{attrs:{id:"src-refspec-xxx-does-not-match-any"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#src-refspec-xxx-does-not-match-any","aria-hidden":"true"}},[t._v("#")]),t._v(" src refspec xxx does not match any.")]),t._v(" "),s("p",[t._v("出现以下报错：")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("error: src refspec xxx does not match any.\n")])])]),s("p",[t._v("可使用以下命令解决：")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" branch -mv master "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),t._v("\n")])])]),s("p",[t._v("这句话的意思是将 master 分支移动到 test 分支")]),t._v(" "),s("p",[t._v("参考：")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://stackoverflow.com/questions/21264738/error-src-refspec-master-does-not-match-any",target:"_blank",rel:"noopener noreferrer"}},[t._v("error: src refspec master does not match any - stackoverflow"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://www.cnblogs.com/jeremylee/p/5715289.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("error: src refspec master does not match any. 错误处理办法"),s("OutboundLink")],1)])]),t._v(" "),s("h3",{attrs:{id:"git-取消文件跟踪"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git-取消文件跟踪","aria-hidden":"true"}},[t._v("#")]),t._v(" Git 取消文件跟踪")]),t._v(" "),s("p",[t._v("遇到那么一个问题，在项目还未同步到远程服务器的时候，初次创建 .gitignore 文件，列表中包含的文件都会被忽略。但是，在项目开发中，在 .gitignore 中新增加的文件（夹）却不会生效，文件依然处于跟踪状态，提交到服务器时此文件依然会一起提交。")]),t._v(" "),s("p",[t._v("看了一些文章，几乎都是以下做法：")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" -r --cached "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v(".")]),t._v("\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v(".")]),t._v("\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" commit -m "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('".gitignore is now working"')]),t._v("\n")])])]),s("p",[t._v("但是，这样的话，移除的文件仍然是处于被跟踪的状态，同步到服务器，服务器同名文件仍然会被删除。")]),t._v(" "),s("p",[t._v("我希望的是，第一次提交，将一些服务器配置传上去，之后的提交，本地文件改为本地配置，不影响服务器端的同名文件。")]),t._v(" "),s("p",[t._v("最后百度搜索“git取消文件跟踪”，终于找到了解决方案：")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" update-index --assume-unchanged filePath "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# git 不再追踪文件改动")]),t._v("\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" update-index —-no-assume-unchanged filePath "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# git 恢复追踪文件改动")]),t._v("\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" —cached filePath "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# git 删除被管理的文件")]),t._v("\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" -r -f —cached filePath "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# git 删除被管理的文件夹")]),t._v("\n")])])]),s("p",[t._v("使用 "),s("code",[t._v("git update-index --assume-unchanged")]),t._v(" 即可取消对文件的跟踪，再次提交，未跟踪的文件不会被提交，服务器端的文件不受影响。记得在 .gitignore 加入相关忽略配置，以免其他开发者down下来的代码中包含此文件并错误提交。")]),t._v(" "),s("p",[t._v("参考：")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://blog.csdn.net/birthmarkqiqi/article/details/49124927",target:"_blank",rel:"noopener noreferrer"}},[t._v("Git 取消跟踪已版本控制的文件"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://shiyousan.com/post/636470505667009340",target:"_blank",rel:"noopener noreferrer"}},[t._v("解决.gitignore文件忽略规则无效git依然跟踪修改的问题"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://my.oschina.net/u/2603728/blog/788131",target:"_blank",rel:"noopener noreferrer"}},[t._v(".gitignore更新后如何生效"),s("OutboundLink")],1)])]),t._v(" "),s("h3",{attrs:{id:"git-默认对文件名大小写不敏感"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git-默认对文件名大小写不敏感","aria-hidden":"true"}},[t._v("#")]),t._v(" Git 默认对文件名大小写不敏感")]),t._v(" "),s("p",[t._v("git 默认不区分文件名大小写。")]),t._v(" "),s("p",[t._v("比如，当你创建一个文件后，叫 readme.md 写入内容后提交到线上代码仓库。")]),t._v(" "),s("p",[t._v("然后你在本地修改文件名为 Readme.md 接着你去提交，发现代码没有变化。")]),t._v(" "),s("p",[t._v("其实 git 默认对于文件名大小写是不敏感的，所以上面你修改了首字母大写，但是 git 并没有发现代码任何改动。")]),t._v(" "),s("p",[t._v("让 git 识别文件名大小写变化有两种方式。")]),t._v(" "),s("p",[t._v("一、配置 git 使其对文件名大小写敏感")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config core.ignorecase "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n")])])]),s("p",[t._v("二、从 git 本地仓库删除此文件，然后添加再提交")]),t._v(" "),s("p",[t._v("(1) 删除")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" readme.md\n")])])]),s("p",[t._v("(2) 重新添加")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" Readme.md\n")])])]),s("p",[t._v("(3) 提交")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" commit -m "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Readme.md'")]),t._v("\n")])])]),s("p",[t._v("参考：")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"http://yijiebuyi.com/blog/e96eccc4e6f7168e0ce92fa9c79f0d23.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("git 默认对文件名大小写不敏感 (不区分文件名大小写)"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://blog.csdn.net/u013707249/article/details/79135639",target:"_blank",rel:"noopener noreferrer"}},[t._v("git 大小写问题 踩坑笔记"),s("OutboundLink")],1)])]),t._v(" "),s("h3",{attrs:{id:"git-提交空目录"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git-提交空目录","aria-hidden":"true"}},[t._v("#")]),t._v(" Git 提交空目录")]),t._v(" "),s("p",[t._v("git 本身是会忽略空目录的，要解决这个问题，需要在空目录下新建 .gitkeep 文件：")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$PATH_TO_REPOSITORY")]),t._v(" -type d "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v(" -path "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"*.git*"')]),t._v(" -empty -exec "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("touch")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'{}'")]),t._v("/.gitkeep \\"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("其中 $PATH_TO_REPOSITORY 是当前创库根目录。")]),t._v(" "),s("p",[t._v("参考：")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://blog.csdn.net/fengchao2016/article/details/52769151",target:"_blank",rel:"noopener noreferrer"}},[t._v("git提交空文件夹"),s("OutboundLink")],1)])]),t._v(" "),s("h3",{attrs:{id:"git-pull-时遇到-error-cannot-lock-ref-xxx"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git-pull-时遇到-error-cannot-lock-ref-xxx","aria-hidden":"true"}},[t._v("#")]),t._v(" git pull 时遇到 error: cannot lock ref xxx")]),t._v(" "),s("p",[t._v("原因是你这个git工程的.git/refs目录下跟踪的某些git分支，在git pull的时候，与远端的对应分支的refs对比发现不同，所以导致git pull报错。")]),t._v(" "),s("p",[t._v("通常产生这个问题的原因是（以分支git/yousa/feature_01为例）：")]),t._v(" "),s("ul",[s("li",[t._v("有人操作git/yousa/feature_01这个分支，在git push的时候使用了git push –force，（当然这个人的git push是push不上去），导致远端分支被覆盖，你本地的refs与远端无法一致，导致问题")]),t._v(" "),s("li",[t._v("git分支是不区分大小写的，如果有人删除掉这个远端分支又重新新建了一个这个分支也会出现同样的问题。")])]),t._v(" "),s("p",[t._v("解决方法:")]),t._v(" "),s("p",[t._v("直接执行 "),s("code",[t._v("git pull -p")])]),t._v(" "),s("h3",{attrs:{id:"git-push-首次提交失败问题解决"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git-push-首次提交失败问题解决","aria-hidden":"true"}},[t._v("#")]),t._v(" git push 首次提交失败问题解决")]),t._v(" "),s("p",[t._v("如果首次提交失败，提示:")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("By default, updating the current branch in a non-bare repository is denied, because it will make the index and work tree inconsistent with what you pushed, and will require 'git reset --hard' to match the work tree to HEAD.\n")])])]),s("p",[t._v("可以在远程仓库设置 "),s("code",[t._v("git config receive.denyCurrentBranch ignore")]),t._v(" 忽略之")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" push origin master\nCounting objects: 8, done.\nCompressing objects: 100% "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("5/5"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", done.\nWriting objects: 100% "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("8/8"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", 737 bytes "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" 0 bytes/s, done.\nTotal 8 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("delta 0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", reused 0 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("delta 0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nTo /root/git-test/\n   f168f34"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("cd317f4  master -"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" master\n")])])]),s("p",[t._v("origin 为绑定的远程仓库名称，master 为需要推送到的分支。")]),t._v(" "),s("p",[t._v("参考:")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"http://blog.sina.com.cn/s/blog_5d49e36701016zbu.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("git push首次提交报错问题解决"),s("OutboundLink")],1)])]),t._v(" "),s("h3",{attrs:{id:"tortoisegit状态图标不能正常显示的解决办法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tortoisegit状态图标不能正常显示的解决办法","aria-hidden":"true"}},[t._v("#")]),t._v(" TortoiseGit状态图标不能正常显示的解决办法")]),t._v(" "),s("p",[t._v("打开 "),s("code",[t._v("regedit")]),t._v(", 找到 "),s("code",[t._v("HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Explorer\\ShellIconOverlayIdentifiers")]),t._v(", 将带 "),s("code",[t._v("tortoise")]),t._v(" 的项重命名, 使其排序靠前, 重启资源管理器即可")]),t._v(" "),s("p",[t._v("参考：")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://jingyan.baidu.com/article/359911f552827957fe0306f8.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("TortoiseGit状态图标不能正常显示的解决办法"),s("OutboundLink")],1)])]),t._v(" "),s("h3",{attrs:{id:"git-bash-中文显示乱码问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git-bash-中文显示乱码问题","aria-hidden":"true"}},[t._v("#")]),t._v(" git bash 中文显示乱码问题")]),t._v(" "),s("p",[t._v("解决方案1:")]),t._v(" "),s("p",[t._v("在git bash下，右键 出现下图，选择 options > Text, 将Character set设置为 UTF-8")]),t._v(" "),s("p",[t._v("解决方案2:")]),t._v(" "),s("ol",[s("li",[t._v("编辑 "),s("code",[t._v("~\\.gitconfig")]),t._v(" 文件，在文件末尾增加以下内容：")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("[gui]\n    encoding = utf-8  #代码库统一使用utf-8\n[i18n]\n    commitencoding = utf-8  #log编码\n[svn]\n    pathnameencoding = utf-8  #支持中文路径\n")])])]),s("ol",{attrs:{start:"2"}},[s("li",[t._v("编辑 "),s("code",[t._v("Git安装目录\\mingw64\\share\\git\\completion\\git-completion.bash")]),t._v(" 文件, 在文件末尾增加以下内容：")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("alias ls='ls --show-control-chars --color=auto'  #ls能够正常显示中文\n")])])]),s("ol",{attrs:{start:"3"}},[s("li",[t._v("编辑 "),s("code",[t._v("Git安装目录\\etc\\inputrc")]),t._v(" 文件，修改output-meta和convert-meta属性值：")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("set output-meta on  #bash可以正常输入中文\nset convert-meta off\n")])])]),s("ol",{attrs:{start:"4"}},[s("li",[t._v("编辑 "),s("code",[t._v("Git安装目录\\etc\\profile")]),t._v(" 文件，在文件末尾添加如下内容：")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("export LESSHARESET=utf-8\n")])])]),s("p",[t._v("参考:")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://www.cnblogs.com/scale/p/6258457.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Git bash下中文乱码 —— 解决方案"),s("OutboundLink")],1)])]),t._v(" "),s("h3",{attrs:{id:"github-push-reused-0-delta-0-卡住解决办法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#github-push-reused-0-delta-0-卡住解决办法","aria-hidden":"true"}},[t._v("#")]),t._v(" GITHUB PUSH REUSED 0 (DELTA 0)卡住解决办法")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config http.postBuffer 123456789\n")])])]),s("p",[t._v("123456789 不是固定的，可以更具需要设置更大")]),t._v(" "),s("p",[t._v("不用命令行，也可以直接打开项目目录的.git目录，找到config文件用记事本打开，加入")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("[http]\npostBuffer = 123456789\n")])])]),s("p",[t._v("重新提交push，还是会卡住，但不用担心，这个时间会很久，请耐心等待！")]),t._v(" "),s("h2",{attrs:{id:"参考资料"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参考资料","aria-hidden":"true"}},[t._v("#")]),t._v(" 参考资料")]),t._v(" "),s("p",[t._v("教程")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://git-scm.com/book/zh/v2",target:"_blank",rel:"noopener noreferrer"}},[t._v("Git 中文文档"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://gitee.com/progit/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Pro Git 中文版"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"http://www.bootcss.com/p/git-guide/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Git 简易指南"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"http://www.runoob.com/git/git-tutorial.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Git 教程 - Runoob"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000/00137402760310626208b4f695940a49e5348b689d095fc000",target:"_blank",rel:"noopener noreferrer"}},[t._v("廖雪峰 - Git 教程"),s("OutboundLink")],1)])]),t._v(" "),s("p",[t._v("详解")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://blog.csdn.net/claroja/article/details/78858411",target:"_blank",rel:"noopener noreferrer"}},[t._v("git 理解 HEAD^与HEAD~"),s("OutboundLink")],1)])]),t._v(" "),s("p",[t._v("github-git-cheat-sheet")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://services.github.com/on-demand/downloads/github-git-cheat-sheet.pdf",target:"_blank",rel:"noopener noreferrer"}},[t._v("github-git-cheat-sheet.pdf"),s("OutboundLink")],1)])])],1)},[],!1,null,null,null);a.default=n.exports}}]);