(window.webpackJsonp=window.webpackJsonp||[]).push([[580],{783:function(e,t,a){"use strict";a.r(t);var r={props:["slot-key"],mounted(){this.$nextTick(function(){this.$vuepress.$emit("AsyncMarkdownContentMounted",this.slotKey)})}},s=a(0),n=Object(s.a)(r,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.slotKey}},[a("h1",{attrs:{id:"几种oss的基本使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#几种oss的基本使用","aria-hidden":"true"}},[e._v("#")]),e._v(" 几种OSS的基本使用")]),e._v(" "),a("p",[e._v("其实七牛云OSS我两年前就在使用，主要用于我的博客，当时还在使用 Hexo。后来，换成好几套系统，直到今天的 Vuepress。在写这篇文章之前，我一直使用的是阿里云OSS，主要是其客户端管理工具特别好用，可视化操作，特别方便。但是，总是欠费，过几天又得进去交交费，对于我这种穷苦农民工有点承受不起。然而七牛云里面有免费的OSS空间，想着还是折腾一下，再切到七牛云OSS吧。")]),e._v(" "),a("h2",{attrs:{id:"基本概念"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基本概念","aria-hidden":"true"}},[e._v("#")]),e._v(" 基本概念")]),e._v(" "),a("h3",{attrs:{id:"oss"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#oss","aria-hidden":"true"}},[e._v("#")]),e._v(" OSS")]),e._v(" "),a("p",[e._v("OSS（Object Storage Service），中文名为对象存储服务。")]),e._v(" "),a("h3",{attrs:{id:"存储空间（bucket）"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#存储空间（bucket）","aria-hidden":"true"}},[e._v("#")]),e._v(" 存储空间（Bucket）")]),e._v(" "),a("p",[e._v("存储空间是用于存储对象（Object）的容器，所有的对象都必须隶属于某个存储空间。可以设置和修改存储空间属性用来控制地域、访问权限、生命周期等，这些属性设置直接作用于该存储空间内所有对象，因此您可以通过灵活创建不同的存储空间来完成不同的管理功能。")]),e._v(" "),a("p",[e._v("同一个存储空间的内部是扁平的，没有文件系统的目录等概念，所有的对象都直接隶属于其对应的存储空间。")]),e._v(" "),a("ul",[a("li",[e._v("每个用户可以拥有多个存储空间。")]),e._v(" "),a("li",[e._v("存储空间的名称在 OSS 范围内必须是全局唯一的，一旦创建之后无法修改名称。")]),e._v(" "),a("li",[e._v("存储空间内部的对象数目没有限制。")])]),e._v(" "),a("p",[e._v("存储空间的命名规范如下：")]),e._v(" "),a("ul",[a("li",[e._v("只能包括小写字母、数字和短横线（-）。")]),e._v(" "),a("li",[e._v("必须以小写字母或者数字开头和结尾。")]),e._v(" "),a("li",[e._v("长度必须在3–63字节之间。")])]),e._v(" "),a("h3",{attrs:{id:"对象-文件（object）"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#对象-文件（object）","aria-hidden":"true"}},[e._v("#")]),e._v(" 对象/文件（Object）")]),e._v(" "),a("p",[e._v("对象是 OSS 存储数据的基本单元，也被称为 OSS 的文件。对象由元信息（Object Meta），用户数据（Data）和文件名（Key）组成。对象由存储空间内部唯一的 Key 来标识。对象元信息是一个键值对，表示了对象的一些属性，比如最后修改时间、大小等信息，同时用户也可以在元信息中存储一些自定义的信息。")]),e._v(" "),a("p",[e._v("对象的生命周期是从上传成功到被删除为止。在整个生命周期内，对象信息不可变更。重复上传同名的对象会覆盖之前的对象，因此，OSS 不支持修改文件的部分内容等操作。")]),e._v(" "),a("p",[e._v("OSS 提供了追加上传功能，用户可以使用该功能不断地在Object尾部追加写入数据。")]),e._v(" "),a("p",[e._v("对象的命名规范如下：")]),e._v(" "),a("ul",[a("li",[e._v("使用UTF-8编码。")]),e._v(" "),a("li",[e._v("长度必须在1–1023字节之间。")]),e._v(" "),a("li",[e._v("不能以正斜线（/）或者反斜线（\\）开头。")]),e._v(" "),a("li",[e._v("区分大小写")])]),e._v(" "),a("h3",{attrs:{id:"访问密钥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#访问密钥","aria-hidden":"true"}},[e._v("#")]),e._v(" 访问密钥")]),e._v(" "),a("p",[e._v("AccessKey，简称 AK，指的是访问身份验证中用到的 AccessKeyId 和AccessKeySecret。OSS 通过使用 AccessKeyId 和 AccessKeySecret 对称加密的方法来验证某个请求的发送者身份。AccessKeyId 用于标识用户，AccessKeySecret 是用户用于加密签名字符串和 OSS 用来验证签名字符串的密钥，其中 AccessKeySecret 必须保密。对于 OSS 来说，AccessKey 的来源有：")]),e._v(" "),a("ul",[a("li",[e._v("Bucket 的拥有者申请的 AccessKey。")]),e._v(" "),a("li",[e._v("被 Bucket 的拥有者通过 RAM 授权给第三方请求者的 AccessKey。")]),e._v(" "),a("li",[e._v("被 Bucket 的拥有者通过 STS 授权给第三方请求者的 AccessKey。")])]),e._v(" "),a("p",[e._v("SecretKey，简称 SK，是用于加密签名字符串和服务器端验证签名字符串的密钥。")]),e._v(" "),a("h3",{attrs:{id:"存储区域"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#存储区域","aria-hidden":"true"}},[e._v("#")]),e._v(" 存储区域")]),e._v(" "),a("p",[e._v("Region 表示 OSS 的数据中心所在的地域，物理位置。用户可以根据费用、请求来源等综合选择数据存储的 Region。一般来说，距离用户更近的 Region 访问速度更快。")]),e._v(" "),a("p",[e._v("存储区域是在创建空间时指定的，一旦指定后就无法修改。")]),e._v(" "),a("h3",{attrs:{id:"访问域名"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#访问域名","aria-hidden":"true"}},[e._v("#")]),e._v(" 访问域名")]),e._v(" "),a("p",[e._v("Endpoint 表示 OSS 对外服务的访问域名。OSS 以 HTTP RESTful API 的形式对外提供服务，当访问不同的 Region 的时候，需要不同的域名。通过内网和外网访问同一个 Region 所需要的 Endpoint 也是不同的。")]),e._v(" "),a("h2",{attrs:{id:"七牛云oss"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#七牛云oss","aria-hidden":"true"}},[e._v("#")]),e._v(" 七牛云OSS")]),e._v(" "),a("h3",{attrs:{id:"自定义域名"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#自定义域名","aria-hidden":"true"}},[e._v("#")]),e._v(" 自定义域名")]),e._v(" "),a("p",[e._v("在融合CDN加速域名中进行配置")]),e._v(" "),a("imgLink",{attrs:{src:"new/WX20180821-183018.png/small"}}),e._v(" "),a("p",[e._v("可以看到，配置的域名已经成功")]),e._v(" "),a("imgLink",{attrs:{src:"new/WX20180821-182917.png/small"}}),e._v(" "),a("p",[e._v("再配置域名的CNAME即可")]),e._v(" "),a("imgLink",{attrs:{src:"new/WX20180821-183130.png/small"}}),e._v(" "),a("p",[e._v("再配置默认域名即可")]),e._v(" "),a("imgLink",{attrs:{src:"new/WX20180821-193234.png/small"}}),e._v(" "),a("h3",{attrs:{id:"样式处理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#样式处理","aria-hidden":"true"}},[e._v("#")]),e._v(" 样式处理")]),e._v(" "),a("p",[e._v("首先，在图片样式中新增样式")]),e._v(" "),a("imgLink",{attrs:{src:"new/WX20180821-180238.png/small"}}),e._v(" "),a("p",[e._v("可以添加水印、剪裁图片。")]),e._v(" "),a("p",[e._v("新增完成，可以在列表中看到")]),e._v(" "),a("imgLink",{attrs:{src:"new/WX20180821-180031.png/small"}}),e._v(" "),a("p",[e._v("列表中包括一个 名称 和 处理接口，通过两种方式都能够对图片进行处理，如果使用处理接口，则使用以下格式：")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("https://img.xiaoyulive.top/xxx.png?处理接口\n")])])]),a("p",[e._v("比如：")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("https://img.xiaoyulive.top/xxx.png?imageView2/2/w/800/h/600/format/webp/interlace/1/q/75|watermark/2/text/eGlhb3l1bGl2ZS50b3A=/font/5b6u6L2v6ZuF6buR/fontsize/400/fill/I0ZGRkZGRg==/dissolve/90/gravity/SouthEast/dx/10/dy/10\n")])])]),a("p",[e._v("如果使用名称，则需要在 样式分隔符设置里面配置，比如配置 分隔符为 "),a("code",[e._v("/")])]),e._v(" "),a("imgLink",{attrs:{src:"new/WX20180821-181138.png/small"}}),e._v(" "),a("p",[e._v("这使用以下格式就行：")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("https://img.xiaoyulive.top/xxx.png/名称\n")])])]),a("p",[e._v("比如：")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("https://img.xiaoyulive.top/xxx.png/small\n")])])]),a("h2",{attrs:{id:"阿里云oss"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#阿里云oss","aria-hidden":"true"}},[e._v("#")]),e._v(" 阿里云OSS")]),e._v(" "),a("h3",{attrs:{id:"样式处理-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#样式处理-2","aria-hidden":"true"}},[e._v("#")]),e._v(" 样式处理")]),e._v(" "),a("p",[e._v("阿里云OSS的样式处理类似，使用的时候使用以下规则即可访问")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("# 默认规则\n域名/sample.jpg?x-oss-process=style/stylename\n\n# 自定义规则\n域名/sample.jpg自定义分隔符stylename\n")])])]),a("imgLink",{attrs:{src:"new/WX20180821-193544.png/small"}}),e._v(" "),a("h3",{attrs:{id:"域名设置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#域名设置","aria-hidden":"true"}},[e._v("#")]),e._v(" 域名设置")]),e._v(" "),a("p",[e._v("由于我的域名管理也在阿里云里面，因此使用起来感觉更方便些")]),e._v(" "),a("imgLink",{attrs:{src:"new/WX20180821-193844.png/small"}}),e._v(" "),a("h3",{attrs:{id:"相关工具"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#相关工具","aria-hidden":"true"}},[e._v("#")]),e._v(" 相关工具")]),e._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/aliyun/oss-browser",target:"_blank",rel:"noopener noreferrer"}},[e._v("OSS Browser"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"https://helpcdn.aliyun.com/document_detail/44075.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("OSS 常用工具汇总"),a("OutboundLink")],1)]),e._v(" "),a("h2",{attrs:{id:"参考资料"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考资料","aria-hidden":"true"}},[e._v("#")]),e._v(" 参考资料")]),e._v(" "),a("p",[a("a",{attrs:{href:"https://developer.qiniu.com/kodo/kb/1347/how-to-ali-cloud-oss-files-on-migration-to-seven-niuyun-storage",target:"_blank",rel:"noopener noreferrer"}},[e._v("如何将阿里云 OSS上 的文件迁移到七牛云存储？"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://www.capjsj.cn/qiniu_stylename.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("七牛图片处理样式的正确使用方式"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"https://developer.qiniu.com/dora/manual/3683/img-directions-for-use",target:"_blank",rel:"noopener noreferrer"}},[e._v("图片处理使用说明 - 七牛云文档"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"https://help.aliyun.com/document_detail/31827.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("基本概念介绍 - 阿里云文档"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://developer.qiniu.com/kodo/manual/1277/product-introduction",target:"_blank",rel:"noopener noreferrer"}},[e._v("七牛云OSS产品概述"),a("OutboundLink")],1)])],1)},[],!1,null,null,null);n.options.__file="Qiniu_Ali_OSS.md";t.default=n.exports}}]);