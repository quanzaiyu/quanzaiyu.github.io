(window.webpackJsonp=window.webpackJsonp||[]).push([[344],{852:function(s,a,t){"use strict";t.r(a);var n={props:["slot-key"],mounted(){this.$nextTick(function(){this.$vuepress.$emit("AsyncMarkdownContentMounted",this.slotKey)})}},r=t(0),e=Object(r.a)(n,function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.slotKey}},[t("h1",{attrs:{id:"npm-和-yarn-换源"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#npm-和-yarn-换源","aria-hidden":"true"}},[s._v("#")]),s._v(" npm 和 yarn 换源")]),s._v(" "),t("h2",{attrs:{id:"查看源"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看源","aria-hidden":"true"}},[s._v("#")]),s._v(" 查看源")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{attrs:{class:"token function"}},[s._v("npm")]),s._v(" config list "),t("span",{attrs:{class:"token comment"}},[s._v("# 查看 npm 所有设置")]),s._v("\n$ "),t("span",{attrs:{class:"token function"}},[s._v("npm")]),s._v(" config get registry "),t("span",{attrs:{class:"token comment"}},[s._v("# 查看 npm 指定设置")]),s._v("\n\n$ yarn config list "),t("span",{attrs:{class:"token comment"}},[s._v("# 查看 yarn 所有设置")]),s._v("\n$ yarn config get registry "),t("span",{attrs:{class:"token comment"}},[s._v("# 查看 yarn 指定设置")]),s._v("\n")])])]),t("h2",{attrs:{id:"更换源"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#更换源","aria-hidden":"true"}},[s._v("#")]),s._v(" 更换源")]),s._v(" "),t("h3",{attrs:{id:"npm"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#npm","aria-hidden":"true"}},[s._v("#")]),s._v(" npm")]),s._v(" "),t("ul",[t("li",[s._v("淘宝镜像注册地址: https://registry.npm.taobao.org")]),s._v(" "),t("li",[s._v("原始镜像注册地址: https://registry.npmjs.org")])]),s._v(" "),t("p",[t("strong",[s._v("第1种方法")]),s._v(" 直接更换 npm 源")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{attrs:{class:"token function"}},[s._v("npm")]),s._v(" config "),t("span",{attrs:{class:"token keyword"}},[s._v("set")]),s._v(" registry https://registry.npm.taobao.org\n")])])]),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("// 配置后可通过下面方式来验证是否成功\n$ "),t("span",{attrs:{class:"token function"}},[s._v("npm")]),s._v(" config get registry\n")])])]),t("p",[t("strong",[s._v("第2种方法")]),s._v(" 另行安装 cnpm，并注册淘宝源")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),t("span",{attrs:{class:"token function"}},[s._v("install")]),s._v(" -g cnpm --registry"),t("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("https://registry.npm.taobao.org\n")])])]),t("p",[t("strong",[s._v("第3种方法")]),s._v(" 修改 .npmrc")]),s._v(" "),t("p",[t("code",[s._v(".npmrc")]),s._v(" 的意思为 npm runtime config 的意思，有全局配置，不同操作平台路径不一样, 通常位于 "),t("code",[s._v("~/.npmrc")]),s._v("。")]),s._v(" "),t("p",[s._v("也可以在项目根目录中生成此文件，以覆盖全局配置。")]),s._v(" "),t("p",[s._v("在此文件中加入：")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("registry='https://registry.npm.taobao.org'\n")])])]),t("p",[s._v("此方法适用于 npm，对 yarn 同样生效。")]),s._v(" "),t("p",[t("strong",[s._v("第4中方法")]),s._v(" 临时使用")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{attrs:{class:"token function"}},[s._v("npm")]),s._v(" --registry https://registry.npm.taobao.org "),t("span",{attrs:{class:"token function"}},[s._v("install")]),s._v(" express\n")])])]),t("p",[t("strong",[s._v("第5种方法")]),s._v(" 使用别名配置 npm")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{attrs:{class:"token function"}},[s._v("alias")]),s._v(" cnpm"),t("span",{attrs:{class:"token operator"}},[s._v("=")]),t("span",{attrs:{class:"token string"}},[s._v('"npm --registry=https://registry.npm.taobao.org \\\n--cache='),t("span",{attrs:{class:"token variable"}},[s._v("$HOME")]),s._v("/.npm/.cache/cnpm \\\n--disturl=https://npm.taobao.org/dist \\\n--userconfig="),t("span",{attrs:{class:"token variable"}},[s._v("$HOME")]),s._v('/.cnpmrc"')]),s._v("\n\n"),t("span",{attrs:{class:"token comment"}},[s._v("# Or alias it in .bashrc or .zshrc")]),s._v("\n$ "),t("span",{attrs:{class:"token keyword"}},[s._v("echo")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v("'\\n#alias for cnpm\\nalias cnpm=\"npm --registry=https://registry.npm.taobao.org \\\n  --cache="),t("span",{attrs:{class:"token variable"}},[s._v("$HOME")]),s._v("/.npm/.cache/cnpm \\\n  --disturl=https://npm.taobao.org/dist \\\n  --userconfig="),t("span",{attrs:{class:"token variable"}},[s._v("$HOME")]),s._v("/.cnpmrc\"'")]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v(">>")]),s._v(" ~/.zshrc "),t("span",{attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{attrs:{class:"token function"}},[s._v("source")]),s._v(" ~/.zshrc\n")])])]),t("h3",{attrs:{id:"yarn"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#yarn","aria-hidden":"true"}},[s._v("#")]),s._v(" yarn")]),s._v(" "),t("p",[s._v("yarn 默认的源为 https://registry.yarnpkg.com")]),s._v(" "),t("p",[s._v("安装 yarn 可以到"),t("a",{attrs:{href:"https://yarnpkg.com/zh-Hans/",target:"_blank",rel:"noopener noreferrer"}},[s._v("官网"),t("OutboundLink")],1),s._v("下载安装，也可使用命令进行安装")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ cnpm "),t("span",{attrs:{class:"token function"}},[s._v("install")]),s._v(" yarn -g\n")])])]),t("p",[t("strong",[s._v("第1种方法")]),s._v(" 直接更换源, 跟 npm 类似：")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ yarn config "),t("span",{attrs:{class:"token keyword"}},[s._v("set")]),s._v(" registry https://registry.npm.taobao.org\n")])])]),t("p",[t("strong",[s._v("第2种方法")]),s._v(" 另行安装 "),t("a",{attrs:{href:"https://github.com/xcatliu/cyarn",target:"_blank",rel:"noopener noreferrer"}},[s._v("cYarn"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("cYarn 是使用 cnpm 源的 Yarn。")]),s._v(" "),t("p",[s._v("安装 cYarn：")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),t("span",{attrs:{class:"token function"}},[s._v("install")]),s._v(" -g cyarn "),t("span",{attrs:{class:"token comment"}},[s._v("# 使用 cnpm 默认源进行安装")]),s._v("\n$ "),t("span",{attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),t("span",{attrs:{class:"token function"}},[s._v("install")]),s._v(" -g cyarn --registry"),t("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("https://registry.npm.taobao.org "),t("span",{attrs:{class:"token comment"}},[s._v("# 使用淘宝源进行安装")]),s._v("\n")])])]),t("p",[t("strong",[s._v("第3种方法")]),s._v("：使用 "),t("a",{attrs:{href:"https://github.com/i5ting/yrm",target:"_blank",rel:"noopener noreferrer"}},[s._v("yrm"),t("OutboundLink")],1)]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),t("span",{attrs:{class:"token function"}},[s._v("install")]),s._v(" -g yrm\n$ yrm use cnpm\n")])])]),t("p",[t("strong",[s._v("第4种方法")]),s._v("：修改 .npmrc，上面提到了")]),s._v(" "),t("h2",{attrs:{id:"更换-node-sass-安装源"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#更换-node-sass-安装源","aria-hidden":"true"}},[s._v("#")]),s._v(" 更换 node-sass 安装源")]),s._v(" "),t("p",[s._v("众所周知，sass 是基于 ruby 开发的，而在 node 平台想要获得 sass 的支持，需要借助 node-sass。")]),s._v(" "),t("p",[s._v("然而，安装 node-sass 的时候总是会各种不成功，大部分安装不成功的原因都源自这里，因为 GitHub Releases 里的文件都托管在 s3.amazonaws.com上面，而这个网址在国内总是网络不稳定，所以我们需要通过第三方服务器下载这个文件。")]),s._v(" "),t("p",[s._v("方法一：使用淘宝源")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{attrs:{class:"token function"}},[s._v("npm")]),s._v(" config "),t("span",{attrs:{class:"token keyword"}},[s._v("set")]),s._v(" sass_binary_site"),t("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("https://npm.taobao.org/mirrors/node-sass/\n$ "),t("span",{attrs:{class:"token function"}},[s._v("npm")]),s._v(" config "),t("span",{attrs:{class:"token keyword"}},[s._v("set")]),s._v(" phantomjs_cdnurl"),t("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("https://npm.taobao.org/mirrors/phantomjs/\n$ "),t("span",{attrs:{class:"token function"}},[s._v("npm")]),s._v(" config "),t("span",{attrs:{class:"token keyword"}},[s._v("set")]),s._v(" electron_mirror"),t("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("https://npm.taobao.org/mirrors/electron/\n$ "),t("span",{attrs:{class:"token function"}},[s._v("npm")]),s._v(" config "),t("span",{attrs:{class:"token keyword"}},[s._v("set")]),s._v(" registry"),t("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("https://registry.npm.taobao.org\n")])])]),t("p",[s._v("这样使用 npm install 安装 node-sass、electron 和 phantomjs 时都能自动从淘宝源上下载。")]),s._v(" "),t("p",[s._v("方法二：安装cnpm >>>  也是淘宝源的做法")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),t("span",{attrs:{class:"token function"}},[s._v("install")]),s._v(" -g cnpm\n$ cnpm "),t("span",{attrs:{class:"token function"}},[s._v("install")]),s._v("\n")])])]),t("p",[s._v("这样也可以成功安装node-sass")]),s._v(" "),t("p",[s._v("方法三：使用VPN")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{attrs:{class:"token function"}},[s._v("npm")]),s._v(" config "),t("span",{attrs:{class:"token keyword"}},[s._v("set")]),s._v(" proxy"),t("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("http://127.0.0.1:1080 "),t("span",{attrs:{class:"token comment"}},[s._v("#此处是VPN的代理地址")]),s._v("\n$ "),t("span",{attrs:{class:"token function"}},[s._v("npm")]),s._v(" i node-sass\n")])])]),t("p",[s._v("下载完成后删除 http 代理")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{attrs:{class:"token function"}},[s._v("npm")]),s._v(" config delete proxy\n")])])]),t("h2",{attrs:{id:"国内一些优秀的源"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#国内一些优秀的源","aria-hidden":"true"}},[s._v("#")]),s._v(" 国内一些优秀的源")]),s._v(" "),t("h3",{attrs:{id:"淘宝-npm-镜像"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#淘宝-npm-镜像","aria-hidden":"true"}},[s._v("#")]),s._v(" 淘宝 npm 镜像")]),s._v(" "),t("ul",[t("li",[s._v("搜索地址：http://npm.taobao.org/")]),s._v(" "),t("li",[s._v("registry地址：http://registry.npm.taobao.org/")])]),s._v(" "),t("h3",{attrs:{id:"cnpmjs-镜像"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cnpmjs-镜像","aria-hidden":"true"}},[s._v("#")]),s._v(" cnpmjs 镜像")]),s._v(" "),t("ul",[t("li",[s._v("搜索地址：http://cnpmjs.org/")]),s._v(" "),t("li",[s._v("registry地址：http://r.cnpmjs.org/")])])])},[],!1,null,null,null);e.options.__file="Origin.md";a.default=e.exports}}]);