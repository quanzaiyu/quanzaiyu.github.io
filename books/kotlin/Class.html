<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Kotlin 面向对象 | 小昱个人网站</title>
    <meta name="description" content="小昱个人网站">
    <meta http-equiv="Expires" content="Mon,12 May 2050 00:20:00 GMT">
  <link rel="icon" href="/logo.png">
  <link rel="manifest" href="/manifest.json">
  <link rel="stylesheet" href="//at.alicdn.com/t/font_517060_lom78h954w.css">
  <link rel="stylesheet" href="https://img.xiaoyulive.top/css/animate.css">
    
    <link rel="preload" href="/assets/css/0.styles.24fc6e4b.css" as="style"><link rel="preload" href="/assets/js/app.535af88b.js" as="script"><link rel="preload" href="/assets/js/5.7bea38e3.js" as="script"><link rel="prefetch" href="/assets/js/1.a3dcb58e.js"><link rel="prefetch" href="/assets/js/10.ecd1419a.js"><link rel="prefetch" href="/assets/js/11.a0f7eda4.js"><link rel="prefetch" href="/assets/js/12.a9f191c5.js"><link rel="prefetch" href="/assets/js/13.34f3591b.js"><link rel="prefetch" href="/assets/js/14.d0f490d5.js"><link rel="prefetch" href="/assets/js/15.92eafcb9.js"><link rel="prefetch" href="/assets/js/2.b87d5e0b.js"><link rel="prefetch" href="/assets/js/6.fef674ae.js"><link rel="prefetch" href="/assets/js/7.420ae82d.js"><link rel="prefetch" href="/assets/js/8.ad06e931.js"><link rel="prefetch" href="/assets/js/9.63a23b63.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.3953f9da.js">
    <link rel="stylesheet" href="/assets/css/0.styles.24fc6e4b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-38547c78><header class="navbar" data-v-38547c78><div class="navbar-content"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/" class="home-link router-link-active"><img src="/logo.png" class="logo"><span class="site-name can-hide">小昱个人网站</span></a><div class="links"><nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">开发者博客</a></div><div class="nav-item"><a href="/articles/" class="nav-link">生活漫谈</a></div><div class="nav-item"><a href="/note/" class="nav-link">阅读札记</a></div><div class="nav-item"><a href="/categories/" class="nav-link">学无止境</a></div><div class="nav-item"><a href="/share/" class="nav-link">精品分享</a></div><div class="nav-item"><a href="/favorite/" class="nav-link">收藏夹</a></div><!----></nav><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div></div></div></header><div class="sidebar-mask" data-v-38547c78></div><div class="sidebar" data-v-38547c78><div class="sidebar-container"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">开发者博客</a></div><div class="nav-item"><a href="/articles/" class="nav-link">生活漫谈</a></div><div class="nav-item"><a href="/note/" class="nav-link">阅读札记</a></div><div class="nav-item"><a href="/categories/" class="nav-link">学无止境</a></div><div class="nav-item"><a href="/share/" class="nav-link">精品分享</a></div><div class="nav-item"><a href="/favorite/" class="nav-link">收藏夹</a></div><!----></nav><ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>Kotlin</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/books/kotlin/" class="sidebar-link">Kotlin 简介</a></li><li><a href="/books/kotlin/Basis.html" class="sidebar-link">Kotlin 基础语法</a></li><li><a href="/books/kotlin/Control_Flow.html" class="sidebar-link">控制流程</a></li><li><a href="/books/kotlin/Type.html" class="sidebar-link">Kotlin 基本数据类型</a></li><li><a href="/books/kotlin/Null_Detection.html" class="sidebar-link">Kotlin 空值检测</a></li><li><a href="/books/kotlin/Function.html" class="sidebar-link">Kotlin 函数</a></li><li><a href="/books/kotlin/Class.html" class="active sidebar-link">Kotlin 面向对象</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/books/kotlin/Class.html#包与类的定义" class="sidebar-link">包与类的定义</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/books/kotlin/Class.html#默认导入" class="sidebar-link">默认导入</a></li></ul></li><li class="sidebar-sub-header"><a href="/books/kotlin/Class.html#类的属性及实例方法" class="sidebar-link">类的属性及实例方法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/books/kotlin/Class.html#成员属性" class="sidebar-link">成员属性</a></li><li class="sidebar-sub-header"><a href="/books/kotlin/Class.html#访问权限修饰符-accessmodifier" class="sidebar-link">访问权限修饰符(accessModifier)</a></li><li class="sidebar-sub-header"><a href="/books/kotlin/Class.html#类属性修饰符-classmodifier" class="sidebar-link">类属性修饰符(classModifier)</a></li></ul></li><li class="sidebar-sub-header"><a href="/books/kotlin/Class.html#构造函数" class="sidebar-link">构造函数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/books/kotlin/Class.html#主构造器" class="sidebar-link">主构造器</a></li><li class="sidebar-sub-header"><a href="/books/kotlin/Class.html#次构造函数" class="sidebar-link">次构造函数</a></li><li class="sidebar-sub-header"><a href="/books/kotlin/Class.html#多个构造器" class="sidebar-link">多个构造器</a></li></ul></li><li class="sidebar-sub-header"><a href="/books/kotlin/Class.html#继承" class="sidebar-link">继承</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/books/kotlin/Class.html#子类有主构造函数" class="sidebar-link">子类有主构造函数</a></li><li class="sidebar-sub-header"><a href="/books/kotlin/Class.html#子类没有主构造函数" class="sidebar-link">子类没有主构造函数</a></li></ul></li><li class="sidebar-sub-header"><a href="/books/kotlin/Class.html#重写" class="sidebar-link">重写</a></li><li class="sidebar-sub-header"><a href="/books/kotlin/Class.html#接口" class="sidebar-link">接口</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/books/kotlin/Class.html#接口中的属性" class="sidebar-link">接口中的属性</a></li></ul></li><li class="sidebar-sub-header"><a href="/books/kotlin/Class.html#getter-和-setter" class="sidebar-link">Getter 和 Setter</a></li></ul></li><li><a href="/books/kotlin/Reference.html" class="sidebar-link">参考资料</a></li></ul></div></li></ul></div></div><div class="page" data-v-38547c78><div class="content default"><h1 id="kotlin-面向对象"><a href="#kotlin-面向对象" aria-hidden="true" class="header-anchor">#</a> Kotlin 面向对象</h1> <h2 id="包与类的定义"><a href="#包与类的定义" aria-hidden="true" class="header-anchor">#</a> 包与类的定义</h2> <p>同 Java 类似, 一个类的完整路径包含包名, 比如:</p> <p>app.kt</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">import</span> com<span class="token punctuation">.</span>test<span class="token punctuation">.</span>Test

<span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token operator">&lt;</span>String<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> test <span class="token operator">=</span> <span class="token function">Test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    test<span class="token punctuation">.</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>注意创建类的实例不需要使用 new 关键字</p> <p>test.kt</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">package</span> com<span class="token punctuation">.</span>test

<span class="token keyword">class</span> <span class="token function">Test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">fun</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;Test&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>如果没有指定包，默认为 default 包。</p> <h3 id="默认导入"><a href="#默认导入" aria-hidden="true" class="header-anchor">#</a> 默认导入</h3> <p>有多个包会默认导入到每个 Kotlin 文件中：</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code>kotlin<span class="token punctuation">.</span><span class="token operator">*</span>
kotlin<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span><span class="token operator">*</span>
kotlin<span class="token punctuation">.</span>collections<span class="token punctuation">.</span><span class="token operator">*</span>
kotlin<span class="token punctuation">.</span>comparisons<span class="token punctuation">.</span><span class="token operator">*</span>
kotlin<span class="token punctuation">.</span>io<span class="token punctuation">.</span><span class="token operator">*</span>
kotlin<span class="token punctuation">.</span>ranges<span class="token punctuation">.</span><span class="token operator">*</span>
kotlin<span class="token punctuation">.</span>sequences<span class="token punctuation">.</span><span class="token operator">*</span>
kotlin<span class="token punctuation">.</span>text<span class="token punctuation">.</span><span class="token operator">*</span>
</code></pre></div><h2 id="类的属性及实例方法"><a href="#类的属性及实例方法" aria-hidden="true" class="header-anchor">#</a> 类的属性及实例方法</h2> <p>一个基本的类的定义示例:</p> <p>test.kt</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">package</span> com<span class="token punctuation">.</span>test

<span class="token keyword">class</span> Person <span class="token keyword">constructor</span><span class="token punctuation">(</span>firstName<span class="token operator">:</span> String<span class="token punctuation">,</span> lastName<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">var</span> name<span class="token operator">:</span> String <span class="token operator">=</span> <span class="token string">&quot;&quot;</span>
    <span class="token keyword">val</span> type<span class="token operator">:</span> String <span class="token operator">=</span> <span class="token string">&quot;Animal&quot;</span>
    <span class="token keyword">var</span> age<span class="token operator">:</span> Int <span class="token operator">=</span> <span class="token number">22</span>

    <span class="token keyword">init</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> firstName <span class="token operator">+</span> lastName
        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;My name is <span class="token interpolation"><span class="token delimiter variable">${</span>firstName <span class="token operator">+</span> lastName<span class="token delimiter variable">}</span></span>&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">fun</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;<span class="token interpolation"><span class="token delimiter variable">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token delimiter variable">}</span></span>&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">}</span> <span class="token comment">// 成员函数</span>
<span class="token punctuation">}</span>
</code></pre></div><p>app.kt</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">import</span> com<span class="token punctuation">.</span>test<span class="token punctuation">.</span><span class="token operator">*</span>

<span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token operator">&lt;</span>String<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token string">&quot;Quan&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Zaiyu&quot;</span><span class="token punctuation">)</span>
    person<span class="token punctuation">.</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// Test</span>
    <span class="token function">println</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token comment">// Animal</span>
    <span class="token function">println</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>age<span class="token punctuation">)</span> <span class="token comment">// 22</span>
<span class="token comment">//    print(person.name) // Error</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="成员属性"><a href="#成员属性" aria-hidden="true" class="header-anchor">#</a> 成员属性</h3> <ul><li>使用关键字 var 声明为可变的</li> <li>使用关键字 val 声明为不可变</li></ul> <h3 id="访问权限修饰符-accessmodifier"><a href="#访问权限修饰符-accessmodifier" aria-hidden="true" class="header-anchor">#</a> 访问权限修饰符(accessModifier)</h3> <ul><li>private    仅在同一个文件中可见</li> <li>protected  同一个文件中或子类可见</li> <li>public     所有调用的地方都可见</li> <li>internal   同一个模块中可见</li></ul> <h3 id="类属性修饰符-classmodifier"><a href="#类属性修饰符-classmodifier" aria-hidden="true" class="header-anchor">#</a> 类属性修饰符(classModifier)</h3> <ul><li>abstract    抽象类</li> <li>final       类不可继承，默认属性</li> <li>enum        枚举类</li> <li>open        类可继承，类默认是final的</li> <li>annotation  注解类</li></ul> <h2 id="构造函数"><a href="#构造函数" aria-hidden="true" class="header-anchor">#</a> 构造函数</h2> <h3 id="主构造器"><a href="#主构造器" aria-hidden="true" class="header-anchor">#</a> 主构造器</h3> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">class</span> Person <span class="token keyword">constructor</span><span class="token punctuation">(</span>firstName<span class="token operator">:</span> String<span class="token punctuation">,</span> lastName<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> name<span class="token operator">:</span> String <span class="token operator">=</span> <span class="token string">&quot;&quot;</span>
    <span class="token keyword">init</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> firstName <span class="token operator">+</span> lastName
        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;My name is <span class="token interpolation"><span class="token delimiter variable">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token delimiter variable">}</span></span>&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="次构造函数"><a href="#次构造函数" aria-hidden="true" class="header-anchor">#</a> 次构造函数</h3> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">class</span> Person <span class="token punctuation">{</span>
    <span class="token keyword">var</span> name<span class="token operator">:</span> String <span class="token operator">=</span> <span class="token string">&quot;&quot;</span>
    <span class="token keyword">constructor</span><span class="token punctuation">(</span>firstName<span class="token operator">:</span> String<span class="token punctuation">,</span> lastName<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> firstName <span class="token operator">+</span> lastName
        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;My name is <span class="token interpolation"><span class="token delimiter variable">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token delimiter variable">}</span></span>&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="多个构造器"><a href="#多个构造器" aria-hidden="true" class="header-anchor">#</a> 多个构造器</h3> <p>如果类有主构造函数，每个次构造函数都要或直接或间接通过另一个次构造函数代理主构造函数。在同一个类中代理另一个构造函数使用 this 关键字:</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">class</span> Person <span class="token keyword">constructor</span><span class="token punctuation">(</span>name<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">init</span> <span class="token punctuation">{</span>
        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;My name is: <span class="token interpolation"><span class="token delimiter variable">${</span>name<span class="token delimiter variable">}</span></span>&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 次构造函数</span>
    <span class="token keyword">constructor</span> <span class="token punctuation">(</span>name<span class="token operator">:</span> String<span class="token punctuation">,</span> age<span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;My age is <span class="token interpolation variable">$age</span>&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">constructor</span> <span class="token punctuation">(</span>name<span class="token operator">:</span> String<span class="token punctuation">,</span> sex<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;My sex is <span class="token interpolation variable">$sex</span>&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token operator">&lt;</span>String<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">Person</span><span class="token punctuation">(</span><span class="token string">&quot;Xiaoyu&quot;</span><span class="token punctuation">)</span> <span class="token comment">// My name is: Xiaoyu</span>
    <span class="token function">Person</span><span class="token punctuation">(</span><span class="token string">&quot;Xiaoyu&quot;</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">)</span> <span class="token comment">// My name is: Xiaoyu      My age is 23</span>
    <span class="token function">Person</span><span class="token punctuation">(</span><span class="token string">&quot;Xiaoyu&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;男&quot;</span><span class="token punctuation">)</span> <span class="token comment">// My name is: Xiaoyu     My sex is 男</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="继承"><a href="#继承" aria-hidden="true" class="header-anchor">#</a> 继承</h2> <p>Kotlin 中所有类都继承该 Any 类，它是所有类的超类，对于没有超类型声明的类是默认超类：</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">class</span> Example <span class="token comment">// 从 Any 隐式继承</span>
</code></pre></div><p>Any 默认提供了三个函数：</p> <ul><li>equals()</li> <li>hashCode()</li> <li>toString()</li></ul> <div class="warning custom-block"><p class="custom-block-title">注意</p> <p>Any 不是 java.lang.Object。</p></div> <p>如果一个类要被继承，可以使用 open 关键字进行修饰。</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">open</span> <span class="token keyword">class</span> <span class="token function">Base</span><span class="token punctuation">(</span>p<span class="token operator">:</span> Int<span class="token punctuation">)</span>  <span class="token comment">// 定义基类</span>

<span class="token keyword">class</span> <span class="token function">Derived</span><span class="token punctuation">(</span>p<span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">Base</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span>
</code></pre></div><h3 id="子类有主构造函数"><a href="#子类有主构造函数" aria-hidden="true" class="header-anchor">#</a> 子类有主构造函数</h3> <p>如果子类有主构造函数， 则基类必须在主构造函数中立即初始化。</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">open</span> <span class="token keyword">class</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token keyword">var</span> name <span class="token operator">:</span> String<span class="token punctuation">,</span> <span class="token keyword">var</span> age <span class="token operator">:</span> Int<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">// 基类</span>

<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token function">Student</span><span class="token punctuation">(</span>name <span class="token operator">:</span> String<span class="token punctuation">,</span> age <span class="token operator">:</span> Int<span class="token punctuation">,</span> <span class="token keyword">var</span> no <span class="token operator">:</span> String<span class="token punctuation">,</span> <span class="token keyword">var</span> score <span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">Person</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>

<span class="token comment">// 测试</span>
<span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token operator">&lt;</span>String<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">val</span> s <span class="token operator">=</span>  <span class="token function">Student</span><span class="token punctuation">(</span><span class="token string">&quot;Runoob&quot;</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token string">&quot;S12346&quot;</span><span class="token punctuation">,</span> <span class="token number">89</span><span class="token punctuation">)</span>
    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;学生名： <span class="token interpolation"><span class="token delimiter variable">${</span>s<span class="token punctuation">.</span>name<span class="token delimiter variable">}</span></span>&quot;</span><span class="token punctuation">)</span>
    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;年龄： <span class="token interpolation"><span class="token delimiter variable">${</span>s<span class="token punctuation">.</span>age<span class="token delimiter variable">}</span></span>&quot;</span><span class="token punctuation">)</span>
    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;学生号： <span class="token interpolation"><span class="token delimiter variable">${</span>s<span class="token punctuation">.</span>no<span class="token delimiter variable">}</span></span>&quot;</span><span class="token punctuation">)</span>
    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;成绩： <span class="token interpolation"><span class="token delimiter variable">${</span>s<span class="token punctuation">.</span>score<span class="token delimiter variable">}</span></span>&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="子类没有主构造函数"><a href="#子类没有主构造函数" aria-hidden="true" class="header-anchor">#</a> 子类没有主构造函数</h3> <p>如果子类没有主构造函数，则必须在每一个二级构造函数中用 super 关键字初始化基类，或者在代理另一个构造函数。初始化基类时，可以调用基类的不同构造方法。</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token comment">/**用户基类**/</span>
<span class="token keyword">open</span> <span class="token keyword">class</span> <span class="token function">Person</span><span class="token punctuation">(</span>name<span class="token operator">:</span>String<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">/**次级构造函数**/</span>
    <span class="token keyword">constructor</span><span class="token punctuation">(</span>name<span class="token operator">:</span>String<span class="token punctuation">,</span>age<span class="token operator">:</span>Int<span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//初始化</span>
        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;-------基类次级构造函数---------&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">/**子类继承 Person 类**/</span>
<span class="token keyword">class</span> Student<span class="token operator">:</span>Person<span class="token punctuation">{</span>
    <span class="token comment">/**次级构造函数**/</span>
    <span class="token keyword">constructor</span><span class="token punctuation">(</span>name<span class="token operator">:</span>String<span class="token punctuation">,</span>age<span class="token operator">:</span>Int<span class="token punctuation">,</span>no<span class="token operator">:</span>String<span class="token punctuation">,</span>score<span class="token operator">:</span>Int<span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;-------继承类次级构造函数---------&quot;</span><span class="token punctuation">)</span>
        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;学生名： <span class="token interpolation"><span class="token delimiter variable">${</span>name<span class="token delimiter variable">}</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;年龄： <span class="token interpolation"><span class="token delimiter variable">${</span>age<span class="token delimiter variable">}</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;学生号： <span class="token interpolation"><span class="token delimiter variable">${</span>no<span class="token delimiter variable">}</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;成绩： <span class="token interpolation"><span class="token delimiter variable">${</span>score<span class="token delimiter variable">}</span></span>&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token operator">&lt;</span>String<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> s <span class="token operator">=</span>  <span class="token function">Student</span><span class="token punctuation">(</span><span class="token string">&quot;Runoob&quot;</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token string">&quot;S12345&quot;</span><span class="token punctuation">,</span> <span class="token number">89</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="warning custom-block"><p class="custom-block-title">注意</p> <p>子类继承父类时，不能有跟父类同名的变量，除非父类中该变量为 private，或者父类中该变量为 open 并且子类用 override 关键字重写</p></div> <h2 id="重写"><a href="#重写" aria-hidden="true" class="header-anchor">#</a> 重写</h2> <p>在基类中，使用fun声明函数时，此函数默认为final修饰，不能被子类重写。如果允许子类重写该函数，那么就要手动添加 open 修饰它, 子类重写方法使用 override 关键词：</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token comment">/**用户基类**/</span>
<span class="token keyword">open</span> <span class="token keyword">class</span> Person<span class="token punctuation">{</span>
    <span class="token keyword">open</span> <span class="token keyword">fun</span> <span class="token function">study</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 允许子类重写</span>
        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;我毕业了&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">/**子类继承 Person 类**/</span>
<span class="token keyword">class</span> Student <span class="token operator">:</span> <span class="token function">Person</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">study</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 重写父类方法</span>
        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;我在读大学&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token operator">&lt;</span>String<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">val</span> s <span class="token operator">=</span>  <span class="token function">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    s<span class="token punctuation">.</span><span class="token function">study</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 我在读大学</span>
<span class="token punctuation">}</span>
</code></pre></div><p>如果有多个相同的方法（继承或者实现自其他类，如A、B类），则必须要重写该方法，重写使用 override 关键字，使用super范型去选择性地调用父类的实现。</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">open</span> <span class="token keyword">class</span> A <span class="token punctuation">{</span>
    <span class="token keyword">open</span> <span class="token keyword">fun</span> <span class="token function">f</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;A&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
    <span class="token keyword">fun</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> B <span class="token punctuation">{</span>
    <span class="token keyword">fun</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;B&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">}</span> <span class="token comment">//接口的成员变量默认是 open 的</span>
    <span class="token keyword">fun</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;b&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token function">C</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">,</span> B<span class="token punctuation">{</span>
    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token operator">&lt;</span>A<span class="token operator">&gt;</span><span class="token punctuation">.</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//调用 A.f()</span>
        <span class="token keyword">super</span><span class="token operator">&lt;</span>B<span class="token operator">&gt;</span><span class="token punctuation">.</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//调用 B.f()</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token operator">&lt;</span>String<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">val</span> c <span class="token operator">=</span>  <span class="token function">C</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    c<span class="token punctuation">.</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// AB</span>
    c<span class="token punctuation">.</span><span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// a</span>
    c<span class="token punctuation">.</span><span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// b</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="接口"><a href="#接口" aria-hidden="true" class="header-anchor">#</a> 接口</h2> <p>Kotlin 接口与 Java 8 类似，使用 interface 关键字定义接口，允许方法有默认实现：</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">interface</span> MyInterface <span class="token punctuation">{</span>
    <span class="token keyword">fun</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">fun</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 可选实现的方法体, 接口中已默认实现</span>
        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> Child <span class="token operator">:</span> MyInterface <span class="token punctuation">{</span>
    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 实现接口中的方法</span>
        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;bar&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token operator">&lt;</span>String<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">val</span> c <span class="token operator">=</span>  <span class="token function">Child</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    c<span class="token punctuation">.</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    c<span class="token punctuation">.</span><span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="接口中的属性"><a href="#接口中的属性" aria-hidden="true" class="header-anchor">#</a> 接口中的属性</h3> <p>接口中的属性只能是抽象的，不允许初始化值，接口不会保存属性值，实现接口时，必须重写属性, 且必须具有兼容类型：</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">interface</span> Foo <span class="token punctuation">{</span>
    <span class="token keyword">val</span> count<span class="token operator">:</span> Int <span class="token comment">// count 属性, 抽象的</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> Bar <span class="token operator">:</span> Foo <span class="token punctuation">{</span>
    <span class="token keyword">override</span> <span class="token keyword">var</span> count<span class="token operator">:</span> Int <span class="token operator">=</span> <span class="token number">0</span> <span class="token comment">//重写属性</span>
<span class="token punctuation">}</span>
</code></pre></div><p>你可以用一个var属性重写一个val属性，但是反过来不行。因为val属性本身定义了getter方法，重写为var属性会在衍生类中额外声明一个setter方法</p> <div class="warning custom-block"><p class="custom-block-title">注意</p> <p>子类不能用 val 重写父类中的 var</p></div> <p>可以在主构造函数中使用 override 关键字作为属性声明的一部分:</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">interface</span> Foo <span class="token punctuation">{</span>
    <span class="token keyword">val</span> count<span class="token operator">:</span> Int
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token function">Bar</span><span class="token punctuation">(</span><span class="token keyword">override</span> <span class="token keyword">val</span> count<span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token operator">:</span> Foo
</code></pre></div><h2 id="getter-和-setter"><a href="#getter-和-setter" aria-hidden="true" class="header-anchor">#</a> Getter 和 Setter</h2> <p>属性声明的完整语法：</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">var</span> <span class="token operator">&lt;</span>propertyName<span class="token operator">&gt;</span><span class="token punctuation">[</span><span class="token operator">:</span> <span class="token operator">&lt;</span>PropertyType<span class="token operator">&gt;</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">=</span> <span class="token operator">&lt;</span>property_initializer<span class="token operator">&gt;</span><span class="token punctuation">]</span>
    <span class="token punctuation">[</span><span class="token operator">&lt;</span>getter<span class="token operator">&gt;</span><span class="token punctuation">]</span>
    <span class="token punctuation">[</span><span class="token operator">&lt;</span>setter<span class="token operator">&gt;</span><span class="token punctuation">]</span>
</code></pre></div><p>getter 和 setter 都是可选</p> <p>如果属性类型可以从初始化语句或者类的成员函数中推断出来，那就可以省去类型，val不允许设置setter函数，因为它是只读的。</p> <p>Kotlin 中类不能有字段。提供了 Backing Fields(后端变量) 机制,备用字段使用field关键字声明,field 关键词只能用于属性的访问器。</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token operator">&lt;</span>String<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> person<span class="token operator">:</span> Person <span class="token operator">=</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    person<span class="token punctuation">.</span>lastName <span class="token operator">=</span> <span class="token string">&quot;wang&quot;</span>
    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;lastName:<span class="token interpolation"><span class="token delimiter variable">${</span>person<span class="token punctuation">.</span>lastName<span class="token delimiter variable">}</span></span>&quot;</span><span class="token punctuation">)</span>

    person<span class="token punctuation">.</span>no <span class="token operator">=</span> <span class="token number">9</span>
    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;no:<span class="token interpolation"><span class="token delimiter variable">${</span>person<span class="token punctuation">.</span>no<span class="token delimiter variable">}</span></span>&quot;</span><span class="token punctuation">)</span>

    person<span class="token punctuation">.</span>no <span class="token operator">=</span> <span class="token number">20</span>
    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;no:<span class="token interpolation"><span class="token delimiter variable">${</span>person<span class="token punctuation">.</span>no<span class="token delimiter variable">}</span></span>&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> Person <span class="token punctuation">{</span>
    <span class="token keyword">var</span> lastName<span class="token operator">:</span> String <span class="token operator">=</span> <span class="token string">&quot;zhang&quot;</span>
        <span class="token keyword">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> field<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment">// 将变量赋值后转换为大写</span>
        <span class="token keyword">set</span>

    <span class="token keyword">var</span> no<span class="token operator">:</span> Int <span class="token operator">=</span> <span class="token number">100</span>
        <span class="token keyword">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> field                 <span class="token comment">// 后端变量</span>
        <span class="token keyword">set</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>         <span class="token comment">// 如果传入的值小于 10 返回该值</span>
                field <span class="token operator">=</span> value
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                field <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span>            <span class="token comment">// 如果传入的值大于等于 10 返回 -1</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

    <span class="token keyword">var</span> height<span class="token operator">:</span> Float <span class="token operator">=</span> <span class="token number">145.4f</span>
        <span class="token keyword">private</span> <span class="token keyword">set</span>
<span class="token punctuation">}</span>
</code></pre></div></div><div class="article-info"><div class="article-title">文档信息</div><p class="article-item">版权声明：著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p><p class="article-item">文章标题：Kotlin 面向对象</p><p class="article-item">原文链接：<a href="https://www.xiaoyulive.top/books/kotlin/Class.html">https://www.xiaoyulive.top/books/kotlin/Class.html</a></p><!----></div><!----><div class="content page-nav"><p class="inner"><span class="prev">← <a href="/books/kotlin/Function.html">Kotlin 函数</a></span><span class="next"><a href="/books/kotlin/Reference.html">参考资料</a>  →</span></p></div></div><div class="footers" data-v-38547c78><p data-v-38547c78><span data-v-38547c78>MIT Licensed | Copyright © 2018-present  滇ICP备16006294号</span></p><p data-v-38547c78><span data-v-38547c78>Design by <a href="/">Quanzaiyu</a> | Power by <a href="https://vuepress.vuejs.org/" target="_blank">VuePress</a> | Hosted by <a href="https://pages.coding.me" target="_blank" style="font-weight: bold">Coding Pages</a></span></p></div></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.535af88b.js" defer></script><script src="/assets/js/5.7bea38e3.js" defer></script>
  </body>
</html>
