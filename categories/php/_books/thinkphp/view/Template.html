<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>模板引擎 | 小昱个人网站</title>
    <meta name="description" content="小昱个人网站">
    <meta http-equiv="Expires" content="Mon,12 May 2050 00:20:00 GMT">
  <link rel="icon" href="/logo.png">
  <link rel="manifest" href="/manifest.json">
  <link rel="stylesheet" href="//at.alicdn.com/t/font_517060_lom78h954w.css">
  <link rel="stylesheet" href="https://img.xiaoyulive.top/css/animate.css">
    
    <link rel="preload" href="/assets/css/0.styles.24fc6e4b.css" as="style"><link rel="preload" href="/assets/js/app.9be81bf7.js" as="script"><link rel="preload" href="/assets/js/5.06dfb8b6.js" as="script"><link rel="preload" href="/assets/js/14.b1db9c0c.js" as="script"><link rel="prefetch" href="/assets/js/1.f13cceda.js"><link rel="prefetch" href="/assets/js/10.0d00ea36.js"><link rel="prefetch" href="/assets/js/11.aaf22fdb.js"><link rel="prefetch" href="/assets/js/12.0e3d051e.js"><link rel="prefetch" href="/assets/js/13.166db25f.js"><link rel="prefetch" href="/assets/js/15.948f4d91.js"><link rel="prefetch" href="/assets/js/2.f062aff9.js"><link rel="prefetch" href="/assets/js/6.f8205377.js"><link rel="prefetch" href="/assets/js/7.6dfe9f2a.js"><link rel="prefetch" href="/assets/js/8.f109808b.js"><link rel="prefetch" href="/assets/js/9.8f46dcf1.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.f4bc8488.js">
    <link rel="stylesheet" href="/assets/css/0.styles.24fc6e4b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-38547c78><header class="navbar" data-v-38547c78><div class="navbar-content"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/" class="home-link router-link-active"><img src="/logo.png" class="logo"><span class="site-name can-hide">小昱个人网站</span></a><div class="links"><nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">开发者博客</a></div><div class="nav-item"><a href="/articles/" class="nav-link">生活漫谈</a></div><div class="nav-item"><a href="/note/" class="nav-link">阅读札记</a></div><div class="nav-item"><a href="/categories/" class="nav-link router-link-active">学无止境</a></div><div class="nav-item"><a href="/share/" class="nav-link">精品分享</a></div><div class="nav-item"><a href="/favorite/" class="nav-link">收藏夹</a></div><!----></nav><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div></div></div></header><div class="sidebar-mask" data-v-38547c78></div><div class="sidebar" data-v-38547c78><div class="sidebar-container"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">开发者博客</a></div><div class="nav-item"><a href="/articles/" class="nav-link">生活漫谈</a></div><div class="nav-item"><a href="/note/" class="nav-link">阅读札记</a></div><div class="nav-item"><a href="/categories/" class="nav-link router-link-active">学无止境</a></div><div class="nav-item"><a href="/share/" class="nav-link">精品分享</a></div><div class="nav-item"><a href="/favorite/" class="nav-link">收藏夹</a></div><!----></nav><ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading"><span>ThinkPHP</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>基础</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>配置</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>请求和响应</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>控制器</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>模型</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>视图</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/categories/php/_books/thinkphp/view/" class="sidebar-link">视图</a></li><li><a href="/categories/php/_books/thinkphp/view/Static.html" class="sidebar-link">静态资源配置</a></li><li><a href="/categories/php/_books/thinkphp/view/Template.html" class="active sidebar-link">模板引擎</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/categories/php/_books/thinkphp/view/Template.html#开启全局布局文件" class="sidebar-link">开启全局布局文件</a></li><li class="sidebar-sub-header"><a href="/categories/php/_books/thinkphp/view/Template.html#视图配置" class="sidebar-link">视图配置</a></li><li class="sidebar-sub-header"><a href="/categories/php/_books/thinkphp/view/Template.html#输出变量" class="sidebar-link">输出变量</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/categories/php/_books/thinkphp/view/Template.html#输出系统变量" class="sidebar-link">输出系统变量</a></li><li class="sidebar-sub-header"><a href="/categories/php/_books/thinkphp/view/Template.html#输出-thinkphp-配置" class="sidebar-link">输出 ThinkPHP 配置</a></li><li class="sidebar-sub-header"><a href="/categories/php/_books/thinkphp/view/Template.html#输出请求变量" class="sidebar-link">输出请求变量</a></li><li class="sidebar-sub-header"><a href="/categories/php/_books/thinkphp/view/Template.html#变量默认值" class="sidebar-link">变量默认值</a></li><li class="sidebar-sub-header"><a href="/categories/php/_books/thinkphp/view/Template.html#变量运算" class="sidebar-link">变量运算</a></li></ul></li><li class="sidebar-sub-header"><a href="/categories/php/_books/thinkphp/view/Template.html#输出常量" class="sidebar-link">输出常量</a></li><li class="sidebar-sub-header"><a href="/categories/php/_books/thinkphp/view/Template.html#注释" class="sidebar-link">注释</a></li><li class="sidebar-sub-header"><a href="/categories/php/_books/thinkphp/view/Template.html#输出数组" class="sidebar-link">输出数组</a></li><li class="sidebar-sub-header"><a href="/categories/php/_books/thinkphp/view/Template.html#输出对象" class="sidebar-link">输出对象</a></li><li class="sidebar-sub-header"><a href="/categories/php/_books/thinkphp/view/Template.html#原样输出" class="sidebar-link">原样输出</a></li><li class="sidebar-sub-header"><a href="/categories/php/_books/thinkphp/view/Template.html#循环" class="sidebar-link">循环</a></li><li class="sidebar-sub-header"><a href="/categories/php/_books/thinkphp/view/Template.html#分支" class="sidebar-link">分支</a></li><li class="sidebar-sub-header"><a href="/categories/php/_books/thinkphp/view/Template.html#函数处理" class="sidebar-link">函数处理</a></li><li class="sidebar-sub-header"><a href="/categories/php/_books/thinkphp/view/Template.html#模板分离" class="sidebar-link">模板分离</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/categories/php/_books/thinkphp/view/Template.html#父模板-模板布局" class="sidebar-link">父模板 (模板布局)</a></li><li class="sidebar-sub-header"><a href="/categories/php/_books/thinkphp/view/Template.html#子模板-模板继承" class="sidebar-link">子模板 (模板继承)</a></li><li class="sidebar-sub-header"><a href="/categories/php/_books/thinkphp/view/Template.html#举例" class="sidebar-link">举例</a></li></ul></li><li class="sidebar-sub-header"><a href="/categories/php/_books/thinkphp/view/Template.html#模板实例-学生信息表" class="sidebar-link">模板实例: 学生信息表</a></li><li class="sidebar-sub-header"><a href="/categories/php/_books/thinkphp/view/Template.html#标签库" class="sidebar-link">标签库</a></li></ul></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>数据库</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>验证器</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>路由</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>扩展</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>其他</span> <span class="arrow right"></span></p> <!----></div></li></ul></div></div><div class="page" data-v-38547c78><div class="content default"><h1 id="模板引擎"><a href="#模板引擎" aria-hidden="true" class="header-anchor">#</a> 模板引擎</h1> <p>全局模板配置位于 <code>config/template.php</code> 文件中，可以对模板进行一些配置。</p> <h2 id="开启全局布局文件"><a href="#开启全局布局文件" aria-hidden="true" class="header-anchor">#</a> 开启全局布局文件</h2> <p>首先在配置文件中设置</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// 开启全局模板布局</span>
<span class="token single-quoted-string string">'layout_on'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token boolean constant">true</span><span class="token punctuation">,</span>
<span class="token comment">// 全局模板布局文件名</span>
<span class="token single-quoted-string string">'layout_name'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'layout'</span><span class="token punctuation">,</span>
<span class="token single-quoted-string string">'layout_item'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'{__CONTENT__}'</span>
</code></pre></div><p>在 <code>view</code> 目录下，新建 <code>layout.html</code> 文件，用于全局布局 :</p> <div class="language-html extra-class"><pre class="language-html"><code>{include file='public/header' /}

{__CONTENT__}

{include file='public/footer' /}
</code></pre></div><p>这里使用 <code>{__CONTENT__}</code> 占位符来指定是可替换部分，这时，在其他文件中直接输入的内容将插入到这块区域。</p> <p>其中 <code>{__CONTENT__}</code> 可通过 <code>layout_item</code> 来指定，如果不指定默认就是 <code>{__CONTENT__}</code> 。</p> <h2 id="视图配置"><a href="#视图配置" aria-hidden="true" class="header-anchor">#</a> 视图配置</h2> <div class="language-php extra-class"><pre class="language-php"><code><span class="token single-quoted-string string">'template'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span>
  <span class="token single-quoted-string string">'type'</span>         <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Think'</span><span class="token punctuation">,</span> <span class="token comment">// 模板引擎类型</span>
  <span class="token single-quoted-string string">'view_path'</span>    <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'./view/'</span><span class="token punctuation">,</span> <span class="token comment">// 模板路径</span>
  <span class="token single-quoted-string string">'view_suffix'</span>  <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'html'</span><span class="token punctuation">,</span> <span class="token comment">// 模板后缀</span>
  <span class="token single-quoted-string string">'view_depr'</span>    <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token constant">DS</span><span class="token punctuation">,</span> <span class="token comment">// 模板文件名分隔符</span>
  <span class="token single-quoted-string string">'tpl_begin'</span>    <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'{'</span><span class="token punctuation">,</span> <span class="token comment">// 模板引擎普通标签开始标记</span>
  <span class="token single-quoted-string string">'tpl_end'</span>      <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'}'</span><span class="token punctuation">,</span> <span class="token comment">// 模板引擎普通标签结束标记</span>
  <span class="token single-quoted-string string">'taglib_begin'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'{'</span><span class="token punctuation">,</span> <span class="token comment">// 标签库标签开始标记</span>
  <span class="token single-quoted-string string">'taglib_end'</span>   <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'}'</span><span class="token punctuation">,</span> <span class="token comment">// 标签库标签结束标记</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span>
</code></pre></div><h2 id="输出变量"><a href="#输出变量" aria-hidden="true" class="header-anchor">#</a> 输出变量</h2> <p>在视图模板中，使用 <code>{$varialeName}</code> 使用变量，如果 { 和 $ 间包括空格则直接输出，比如 { $name}。</p> <p>比如</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$this</span> <span class="token operator">-</span><span class="token operator">&gt;</span> view <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token function">assign</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'name'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'xiaoyu'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>{$name}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="输出系统变量"><a href="#输出系统变量" aria-hidden="true" class="header-anchor">#</a> 输出系统变量</h3> <p>比如要输出 <code>$_SERVER['SELF']</code>，则在模板中输出为</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{$Think.server.php_self}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>其他的如</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{$Think.server.session.id}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{$Think.server.get.name}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{$Think.server.post.name}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{$Think.server.script_name}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span> // 输出 $_SERVER['SCRIPT_NAME'] 变量
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{$Think.session.user_id}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span> // 输出 $_SESSION['user_id'] 变量
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{$Think.get.pageNumber}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span> // 输出 $_GET['pageNumber'] 变量
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{$Think.cookie.name}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>  // 输出 $_COOKIE['name'] 变量
</code></pre></div><p>支持输出 <code>$_SERVER</code>、<code>$_ENV</code>、 <code>$_POST</code>、 <code>$_GET</code>、 <code>$_REQUEST</code>、<code>$_SESSION</code> 和 <code>$_COOKIE</code> 变量。</p> <p>还可以输出语言变量:</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{$Think.lang.page_error}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{$Think.lang.var_error}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="输出-thinkphp-配置"><a href="#输出-thinkphp-配置" aria-hidden="true" class="header-anchor">#</a> 输出 ThinkPHP 配置</h3> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{$Think.config.database.hostname}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{$Think.config.default_module}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{$Think.config.default_controller}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="输出请求变量"><a href="#输出请求变量" aria-hidden="true" class="header-anchor">#</a> 输出请求变量</h3> <p>调用格式: <code>$Request.方法名.参数</code></p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{$Request.get.name}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{$Request.post.name}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{$Request.param.name}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>例如，浏览器中输入 <code>http://www.my-tp5.com/?name=xiaoyu</code>，即可取到查询字串中的 name</p> <p><code>$Request</code> 的其他使用方法 :</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{$Request.host}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span> // 调用Request对象的host方法
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{$Request.ip}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span> // 调用Request对象的ip方法
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{$Request.path}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span> // 调用Request对象的path方法
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{$Request.root}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span> // 调用Request对象的root方法
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{$Request.root.true}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span> // 调用Request对象的root方法，并且传入参数true
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{$Request.action}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span> // 调用Request对象的action方法
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{$Request.controller}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span> // 调用Request对象的controller方法
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{$Request.module}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span> // 调用Request对象的module方法
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{$Request.ext}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span> // 调用Request对象的ext方法
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{$Request.header.accept-encoding}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span> // 调用Request对象的header方法
</code></pre></div><h3 id="变量默认值"><a href="#变量默认值" aria-hidden="true" class="header-anchor">#</a> 变量默认值</h3> <p>如果模板中有变量未定义，可以使用默认值，以避免报错</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{$name|default='xiaoyu'}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>如果同函数同时使用，需要将 default 放到最后:</p> <div class="language-html extra-class"><pre class="language-html"><code>{$name | md5 | default='xiaoyu'}
</code></pre></div><h3 id="变量运算"><a href="#变量运算" aria-hidden="true" class="header-anchor">#</a> 变量运算</h3> <p>在模板中使用运算符是可以的，比如 + - * /。</p> <div class="language-html extra-class"><pre class="language-html"><code>{$user['score']+10}
</code></pre></div><p>三元运算符，支持以下几种写法</p> <p><strong>第一种写法</strong>:</p> <div class="language-html extra-class"><pre class="language-html"><code>{$status? '正常' : '错误'}
</code></pre></div><p><strong>第二种写法</strong>:</p> <div class="language-html extra-class"><pre class="language-html"><code>{$varname.aa ?? '默认值'}
</code></pre></div><p>解析为</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token prolog">&lt;?php echo isset($varname['aa']) ? $varname['aa'] : '默认值'; ?&gt;</span>
</code></pre></div><p><strong>第三种写法</strong>:</p> <div class="language-html extra-class"><pre class="language-html"><code>{$varname?='默认值'}
</code></pre></div><p>解析为</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token prolog">&lt;?php if(!empty($varname)) echo '默认值'; ?&gt;</span>
</code></pre></div><p><strong>第四种写法</strong>:</p> <div class="language-html extra-class"><pre class="language-html"><code>{$varname ?: 'no'}
</code></pre></div><p>解析为</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token prolog">&lt;?php echo $varname ? $varname : 'no'; ?&gt;</span>
</code></pre></div><h2 id="输出常量"><a href="#输出常量" aria-hidden="true" class="header-anchor">#</a> 输出常量</h2> <div class="language-php extra-class"><pre class="language-php"><code><span class="token function">define</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'SITE_NAME'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'xiaoyulive'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{$Think.const.SITE_NAME}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{$Think.const.APP_PATH}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>输出 PHP 系统常量</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{$Think.const.PHP_VERSION}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{$Think.const.PHP_OS}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="注释"><a href="#注释" aria-hidden="true" class="header-anchor">#</a> 注释</h2> <p>在模板中，使用 <code>{/* 注释内容 */ }</code> 或 <code>{// 注释内容 }</code> 注释。</p> <h2 id="输出数组"><a href="#输出数组" aria-hidden="true" class="header-anchor">#</a> 输出数组</h2> <p>关联数组</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$this</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token function">assign</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'goods'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
  <span class="token single-quoted-string string">'id'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">100</span><span class="token punctuation">,</span>
  <span class="token single-quoted-string string">'name'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'orange'</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{$goods.id}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{$goods['name']}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>普通数组</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$this</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token function">assign</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'goods'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
  <span class="token single-quoted-string string">'orange'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'apple'</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{$goods[1]}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="输出对象"><a href="#输出对象" aria-hidden="true" class="header-anchor">#</a> 输出对象</h2> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$obj</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token punctuation">\</span>stdClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$obj</span> <span class="token operator">-</span><span class="token operator">&gt;</span> course <span class="token operator">=</span> <span class="token single-quoted-string string">'php'</span><span class="token punctuation">;</span>
<span class="token variable">$this</span> <span class="token operator">-</span><span class="token operator">&gt;</span> view <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token function">assign</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'info'</span><span class="token punctuation">,</span> <span class="token variable">$obj</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{$person-&gt;name}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{$person:name}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="原样输出"><a href="#原样输出" aria-hidden="true" class="header-anchor">#</a> 原样输出</h2> <p>使用 literal 标签防止模板标签被解析。</p> <div class="language-html extra-class"><pre class="language-html"><code>{literal}
  Hello,{$name}！
{/literal}
</code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p> <p>literal 标签还可以用于页面的JS代码外层，确保JS代码中的某些用法和模板引擎不产生混淆。</p> <p>总之，所有可能和内置模板引擎的解析规则冲突的地方都可以使用literal标签处理。</p> <p>需要注意的是配置 <code>view_replace_str</code> 替换参数，会替换掉literal标签内的内容，可以配置 <code>template.tpl_replace_string</code> 避免替换掉literal标签内的内容。</p></div> <h2 id="循环"><a href="#循环" aria-hidden="true" class="header-anchor">#</a> 循环</h2> <p>在 TP 中，循环使用 volist 标签，如</p> <div class="language-html extra-class"><pre class="language-html"><code>{volist name='data' id='list'}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>{$list.id}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>{$list.name}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>{$list.age}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>{$list.course}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>{$list.score}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
{/volist}
</code></pre></div><p>其中，name 属性指定需要循环的变量，id 属性指定循环的每一项数据。</p> <h2 id="分支"><a href="#分支" aria-hidden="true" class="header-anchor">#</a> 分支</h2> <p>在 TP 中，循环使用 if-else 标签，如</p> <div class="language-html extra-class"><pre class="language-html"><code>{if $list.score &lt; 60}
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value"><span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>不及格<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
{else/}
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value"><span class="token property">color</span><span class="token punctuation">:</span> green<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>及格<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
{/if}
</code></pre></div><h2 id="函数处理"><a href="#函数处理" aria-hidden="true" class="header-anchor">#</a> 函数处理</h2> <p>我们往往需要对模板输出变量使用函数，比如:</p> <div class="language-html extra-class"><pre class="language-html"><code>{$data.name|md5}
{$create_time|date=&quot;y-m-d&quot;,###}
{$data.name|substr=###,0,3}
{$name|md5|strtoupper|substr=0,3}
</code></pre></div><p>相当于使用:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span> <span class="token punctuation">(</span><span class="token function">md5</span><span class="token punctuation">(</span><span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token delimiter important">?&gt;</span></span>
<span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span> <span class="token punctuation">(</span><span class="token function">date</span><span class="token punctuation">(</span><span class="token double-quoted-string string">&quot;y-m-d&quot;</span><span class="token punctuation">,</span><span class="token variable">$create_time</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token delimiter important">?&gt;</span></span>
<span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span> <span class="token punctuation">(</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token delimiter important">?&gt;</span></span>
<span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span> <span class="token punctuation">(</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token function">strtoupper</span><span class="token punctuation">(</span><span class="token function">md5</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token delimiter important">?&gt;</span></span>
</code></pre></div><p>如果使用过 Vue 的，可以将之看作是过滤器。</p> <p>为了增强可读性，也可以写成如下格式:</p> <div class="language-html extra-class"><pre class="language-html"><code>{:substr(strtoupper(md5($name)),0,3)}
</code></pre></div><h2 id="模板分离"><a href="#模板分离" aria-hidden="true" class="header-anchor">#</a> 模板分离</h2> <p>通常，一个网站会包含公共的头部、脚部、侧边栏等公共布局模块，我们可以通过模板分离的方式将他们分离出去。</p> <h3 id="父模板-模板布局"><a href="#父模板-模板布局" aria-hidden="true" class="header-anchor">#</a> 父模板 (模板布局)</h3> <p>在父模板中只允许出现 <code>include</code> 和 <code>block</code> 标签。</p> <p>使用 <code>include</code> 标签包含公共部分</p> <div class="language- extra-class"><pre class="language-text"><code>{include file='文件路径' /}
</code></pre></div><p>以下几种写法均为合法</p> <div class="language- extra-class"><pre class="language-text"><code>{include file='public/header' /}
{include file='public:header' /}
{include file='public::header' /}
</code></pre></div><p>使用 <code>block</code> 标签进行标识可替换的区块</p> <div class="language- extra-class"><pre class="language-text"><code>{block name='区块名称'}
代码部分
{/block}
</code></pre></div><p>其中，如果子模板中申明了对应名称的 block 标记，则 代码部分 会被子模板中的内容所替换。</p> <h3 id="子模板-模板继承"><a href="#子模板-模板继承" aria-hidden="true" class="header-anchor">#</a> 子模板 (模板继承)</h3> <p>在子模板中只允许出现 <code>extend</code> 和 <code>block</code> 标签。</p> <p>使用 <code>extend</code> 标签继承父模板</p> <div class="language- extra-class"><pre class="language-text"><code>{extend name='文件路径' /}
</code></pre></div><p>使用 <code>block</code> 标签重写父模板中对应 block 的内容。</p> <div class="language- extra-class"><pre class="language-text"><code>{block name='区块名称'}
代码部分
{/block}
</code></pre></div><h3 id="举例"><a href="#举例" aria-hidden="true" class="header-anchor">#</a> 举例</h3> <p>目录结构</p> <div class="imgLink" data-v-16222526><img src="https://img.xiaoyulive.top/img/shortcut/017.jpg" data-v-16222526></div> <p>注意，模板布局和继承的定位位置是在当前模块下的 <code>view</code> 目录下。</p> <p>其中，<code>view/public</code> 目录下为公共模块，<code>view/template</code> 目录下为模板目录。</p> <p>在模板文件 <code>view/template/base.html</code> 中，定义一个基础模板 :</p> <div class="language-html extra-class"><pre class="language-html"><code>{include file='public/meta' /}

{block name='seo'}
网站标题、关键字与描述
{/block}

{include file='public/header' /}

{include file='public/menu' /}

{block name='content'}
页面主体内容
{/block}

{include file='public/footer' /}

{block name='js'}
用户自定义js脚本
{/block}
</code></pre></div><p>在 <code>view/index/index.html</code> 视图文件中引入 :</p> <div class="language-html extra-class"><pre class="language-html"><code>{extend name='template/base' /}

{block name='seo'}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>{$title|default='页面标题'}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>keywords<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{$keywords|default='关键字'}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>description<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{$desc|default='描述'}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
{/block}

{block name='content'}
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
   主体内容
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
{/block}

{block name='js'}{/block}
</code></pre></div><p>子模板中使用变量，使用 <code>{$variableName}</code>，可以定义其 <code>default</code> 属性，设置默认值。</p> <p>注意，如果在父模板中定义的区块在子模板中未实现，则渲染父模板中的内容。</p> <p>如果想要引入父模板中对应区块的内容，可以使用 <code>{__block__}</code> 引入，如</p> <div class="language-html extra-class"><pre class="language-html"><code>{block name='content'}
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
   主体内容
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
 {__block__}
{/block}
</code></pre></div><h2 id="模板实例-学生信息表"><a href="#模板实例-学生信息表" aria-hidden="true" class="header-anchor">#</a> 模板实例: 学生信息表</h2> <p>首先创建一个数据表 Student，插入数据:</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> student <span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> course<span class="token punctuation">,</span> score<span class="token punctuation">)</span>
<span class="token keyword">VALUES</span>
	<span class="token punctuation">(</span><span class="token string">'欧阳锋'</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token string">'php'</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token punctuation">(</span><span class="token string">'杨过'</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token string">'html'</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token punctuation">(</span><span class="token string">'小龙女'</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token string">'js'</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token punctuation">(</span><span class="token string">'赵敏'</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token string">'html'</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token punctuation">(</span><span class="token string">'金毛狮王'</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token string">'php'</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token punctuation">(</span><span class="token string">'李逵'</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token string">'python'</span><span class="token punctuation">,</span> <span class="token number">55</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token punctuation">(</span><span class="token string">'赵云'</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token string">'php'</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token punctuation">(</span><span class="token string">'刘备'</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token string">'php'</span><span class="token punctuation">,</span> <span class="token number">96</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token punctuation">(</span><span class="token string">'孙权'</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token string">'php'</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token punctuation">(</span><span class="token string">'阿毛'</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token string">'node'</span><span class="token punctuation">,</span> <span class="token number">57</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token punctuation">(</span><span class="token string">'金旭'</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token string">'php'</span><span class="token punctuation">,</span> <span class="token number">59</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token punctuation">(</span><span class="token string">'刘明'</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token string">'html'</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="imgLink" data-v-16222526><img src="https://img.xiaoyulive.top/img/shortcut/015.png" data-v-16222526></div> <p>创建模型 : <code>application/model/Student.php</code></p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token keyword">namespace</span> <span class="token package">app<span class="token punctuation">\</span>index<span class="token punctuation">\</span>model</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">think<span class="token punctuation">\</span>Model</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token keyword">extends</span> <span class="token class-name">Model</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</span></code></pre></div><p>在控制器 <code>application/index/controller/index.php</code> 中</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token keyword">namespace</span> <span class="token package">app<span class="token punctuation">\</span>index<span class="token punctuation">\</span>controller</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">think<span class="token punctuation">\</span>Controller</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">app<span class="token punctuation">\</span>index<span class="token punctuation">\</span>model<span class="token punctuation">\</span>Student</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Index</span> <span class="token keyword">extends</span> <span class="token class-name">Controller</span>
<span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">index</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
    <span class="token comment">// 获取所有数据，不分页</span>
    <span class="token comment">// $data = Student::all();</span>
    <span class="token comment">// 获取分页需要调用查询类中的 paginate(num) 方法</span>
    <span class="token variable">$data</span> <span class="token operator">=</span> Student<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">paginate</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span> <span class="token operator">-</span><span class="token operator">&gt;</span> view <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token function">assign</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'data'</span><span class="token punctuation">,</span> <span class="token variable">$data</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token variable">$this</span> <span class="token operator">-</span><span class="token operator">&gt;</span> view <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></code></pre></div><p>在模板 <code>application/index/view/index.html</code> 中</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token doctype">&lt;!DOCTYPE html&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/static/js/jquery-3.3.1.min.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/static/js/bootstrap.min.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/static/css/bootstrap.min.css<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>row<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>col-md-2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>col-md-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>text-center<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>学生信息<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>table table-default table-bordered table-hover text-center<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>bg-primary<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>ID<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>姓名<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>年龄<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>课程<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>分数<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
          {volist name='data' id ='list'}
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>{$list.id}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>{$list.name}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>{$list.age}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>{$list.course}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>
              {if $list.score &lt; 60}
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value"><span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>不及格<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
              {else/}
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value"><span class="token property">color</span><span class="token punctuation">:</span> green<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>及格<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
              {/if}
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
          {/volist}
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>col-md-2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--分页显示--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>text-center<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{$data|raw}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>注意，需要引入 jquery 和 Bootstrap，需要将相关文件存放于 <code>public/static</code> 下。</p> <p>一切正确，可以看到页面输出:</p> <div class="imgLink" data-v-16222526><img src="https://img.xiaoyulive.top/img/shortcut/016.png" data-v-16222526></div> <h2 id="标签库"><a href="#标签库" aria-hidden="true" class="header-anchor">#</a> 标签库</h2></div><div class="article-info"><div class="article-title">文档信息</div><p class="article-item">版权声明：著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p><p class="article-item">文章标题：模板引擎</p><p class="article-item">原文链接：<a href="https://www.xiaoyulive.top/categories/php/_books/thinkphp/view/Template.html">https://www.xiaoyulive.top/categories/php/_books/thinkphp/view/Template.html</a></p><!----></div><!----><div class="content page-nav"><p class="inner"><span class="prev">← <a href="/categories/php/_books/thinkphp/view/Static.html">静态资源配置</a></span><span class="next"><a href="/categories/php/_books/thinkphp/database/">配置</a>  →</span></p></div></div><div class="footers" data-v-38547c78><p data-v-38547c78><span data-v-38547c78>MIT Licensed | Copyright © 2018-present  滇ICP备16006294号</span></p><p data-v-38547c78><span data-v-38547c78>Design by <a href="/">Quanzaiyu</a> | Power by <a href="https://vuepress.vuejs.org/" target="_blank">VuePress</a> | Hosted by <a href="https://pages.coding.me" target="_blank" style="font-weight: bold">Coding Pages</a></span></p></div></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.9be81bf7.js" defer></script><script src="/assets/js/5.06dfb8b6.js" defer></script><script src="/assets/js/14.b1db9c0c.js" defer></script>
  </body>
</html>
