<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>字符串(str) | 小昱个人网站</title>
    <meta name="description" content="小昱个人网站">
    <meta http-equiv="Expires" content="Mon,12 May 2050 00:20:00 GMT">
  <link rel="icon" href="/logo.png">
  <link rel="manifest" href="/manifest.json">
  <link rel="stylesheet" href="//at.alicdn.com/t/font_517060_lom78h954w.css">
  <link rel="stylesheet" href="https://img.xiaoyulive.top/css/animate.css">
    
    <link rel="preload" href="/assets/css/0.styles.b4f00dfd.css" as="style"><link rel="preload" href="/assets/js/app.5ed478ae.js" as="script"><link rel="preload" href="/assets/js/5.feabe54f.js" as="script"><link rel="prefetch" href="/assets/js/1.dedaff9f.js"><link rel="prefetch" href="/assets/js/10.169e23c5.js"><link rel="prefetch" href="/assets/js/11.f7098bb5.js"><link rel="prefetch" href="/assets/js/12.c76caa90.js"><link rel="prefetch" href="/assets/js/13.9f9b9f15.js"><link rel="prefetch" href="/assets/js/14.778049a5.js"><link rel="prefetch" href="/assets/js/15.9fa28897.js"><link rel="prefetch" href="/assets/js/2.dbca5474.js"><link rel="prefetch" href="/assets/js/6.2d94c0d8.js"><link rel="prefetch" href="/assets/js/7.c1decb98.js"><link rel="prefetch" href="/assets/js/8.b2f9135e.js"><link rel="prefetch" href="/assets/js/9.e91dfdf4.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.c321be08.js">
    <link rel="stylesheet" href="/assets/css/0.styles.b4f00dfd.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-38547c78><header class="navbar" data-v-38547c78><div class="navbar-content"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/" class="home-link router-link-active"><img src="/logo.png" class="logo"><span class="site-name can-hide">小昱个人网站</span></a><div class="links"><nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">开发者博客</a></div><div class="nav-item"><a href="/articles/" class="nav-link">生活漫谈</a></div><div class="nav-item"><a href="/note/" class="nav-link">阅读札记</a></div><div class="nav-item"><a href="/categories/" class="nav-link router-link-active">学无止境</a></div><div class="nav-item"><a href="/share/" class="nav-link">精品分享</a></div><div class="nav-item"><a href="/favorite/" class="nav-link">收藏夹</a></div><!----></nav><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div></div></div></header><div class="sidebar-mask" data-v-38547c78></div><div class="sidebar" data-v-38547c78><div class="sidebar-container"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">开发者博客</a></div><div class="nav-item"><a href="/articles/" class="nav-link">生活漫谈</a></div><div class="nav-item"><a href="/note/" class="nav-link">阅读札记</a></div><div class="nav-item"><a href="/categories/" class="nav-link router-link-active">学无止境</a></div><div class="nav-item"><a href="/share/" class="nav-link">精品分享</a></div><div class="nav-item"><a href="/favorite/" class="nav-link">收藏夹</a></div><!----></nav><ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading"><span>Python3 学习指南</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>基础</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>数据类型</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/categories/python/_books/python/types/" class="sidebar-link">数据类型</a></li><li><a href="/categories/python/_books/python/types/String.html" class="active sidebar-link">字符串(str)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/categories/python/_books/python/types/String.html#字符串转换" class="sidebar-link">字符串转换</a></li><li class="sidebar-sub-header"><a href="/categories/python/_books/python/types/String.html#字符串截取" class="sidebar-link">字符串截取</a></li><li class="sidebar-sub-header"><a href="/categories/python/_books/python/types/String.html#字符串替换-replace" class="sidebar-link">字符串替换 replace</a></li><li class="sidebar-sub-header"><a href="/categories/python/_books/python/types/String.html#分割字符串-split" class="sidebar-link">分割字符串 split</a></li><li class="sidebar-sub-header"><a href="/categories/python/_books/python/types/String.html#字符串查找-find" class="sidebar-link">字符串查找 find</a></li><li class="sidebar-sub-header"><a href="/categories/python/_books/python/types/String.html#字符串统计-count" class="sidebar-link">字符串统计 count</a></li><li class="sidebar-sub-header"><a href="/categories/python/_books/python/types/String.html#字符串的特殊用法" class="sidebar-link">字符串的特殊用法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/categories/python/_books/python/types/String.html#多行语句，在行尾使用反斜杠-进行多行语句的连接" class="sidebar-link">多行语句，在行尾使用反斜杠  `` 进行多行语句的连接</a></li><li class="sidebar-sub-header"><a href="/categories/python/_books/python/types/String.html#在-或-中的多行语句，不需要使用反斜杠" class="sidebar-link">在 [], {}, 或 () 中的多行语句，不需要使用反斜杠 ``</a></li><li class="sidebar-sub-header"><a href="/categories/python/_books/python/types/String.html#自然字符串，使用-r-表示引号内部的字符串默认不转义" class="sidebar-link">自然字符串，使用 r'' 表示引号内部的字符串默认不转义</a></li><li class="sidebar-sub-header"><a href="/categories/python/_books/python/types/String.html#使用三引号-表示多行内容" class="sidebar-link">使用三引号 '''...''' 表示多行内容</a></li></ul></li><li class="sidebar-sub-header"><a href="/categories/python/_books/python/types/String.html#字符编码转化" class="sidebar-link">字符编码转化</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/categories/python/_books/python/types/String.html#encode-和-decode" class="sidebar-link">encode 和 decode</a></li><li class="sidebar-sub-header"><a href="/categories/python/_books/python/types/String.html#十六进制表示" class="sidebar-link">十六进制表示</a></li><li class="sidebar-sub-header"><a href="/categories/python/_books/python/types/String.html#bytes字节码" class="sidebar-link">bytes字节码</a></li></ul></li><li class="sidebar-sub-header"><a href="/categories/python/_books/python/types/String.html#计算字符串的长度" class="sidebar-link">计算字符串的长度</a></li><li class="sidebar-sub-header"><a href="/categories/python/_books/python/types/String.html#字符串格式化" class="sidebar-link">字符串格式化</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/categories/python/_books/python/types/String.html#format" class="sidebar-link">format()</a></li></ul></li><li class="sidebar-sub-header"><a href="/categories/python/_books/python/types/String.html#将其他数据类型转化为字符串" class="sidebar-link">将其他数据类型转化为字符串</a></li></ul></li><li><a href="/categories/python/_books/python/types/List.html" class="sidebar-link">列表(list)</a></li><li><a href="/categories/python/_books/python/types/Tuple.html" class="sidebar-link">元组(tuple)</a></li><li><a href="/categories/python/_books/python/types/Dict.html" class="sidebar-link">字典(dict)</a></li><li><a href="/categories/python/_books/python/types/Set.html" class="sidebar-link">集合(set)</a></li><li><a href="/categories/python/_books/python/types/Operator.html" class="sidebar-link">运算符</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>函数</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>进阶</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>面向对象</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>模块</span> <span class="arrow right"></span></p> <!----></div></li></ul></div></div><div class="page" data-v-38547c78><div class="content default"><h1 id="字符串-str"><a href="#字符串-str" aria-hidden="true" class="header-anchor">#</a> 字符串(str)</h1> <p>字符串是以单引号<code>'</code>或双引号<code>&quot;</code>括起来的任意文本，比如<code>'abc'</code>，<code>&quot;xyz&quot;</code>等等。</p> <div class="warning custom-block"><p class="custom-block-title">注意</p> <p><code>''</code>或<code>&quot;&quot;</code>本身只是一种表示方式，不是字符串的一部分，因此，字符串<code>'abc'</code>只有<code>a</code>，<code>b</code>，<code>c</code>这3个字符。如果<code>'</code>本身也是一个字符，那就可以用<code>&quot;&quot;</code>括起来，比如<code>&quot;I'm OK&quot;</code>包含的字符是<code>I</code>，<code>'</code>，<code>m</code>，空格，<code>O</code>，<code>K</code>这6个字符。</p></div> <p>如果字符串内部既包含<code>'</code>又包含<code>&quot;</code>怎么办？可以用转义字符<code>\</code>来标识，比如：</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token string">'I\'m \&quot;OK\&quot;!'</span>
</code></pre></div><p>表示的字符串内容是：</p> <div class="language-python extra-class"><pre class="language-python"><code>I'm <span class="token string">&quot;OK&quot;</span>!
</code></pre></div><p>转义字符<code>\</code>可以转义很多字符，比如<code>\n</code>表示换行，<code>\t</code>表示制表符，字符<code>\</code>本身也要转义，所以<code>\\</code>表示的字符就是<code>\</code>。</p> <h2 id="字符串转换"><a href="#字符串转换" aria-hidden="true" class="header-anchor">#</a> 字符串转换</h2> <ul><li><code>capitalize</code> 将字符串的第一个字母变成大写,其他字母变小写。</li> <li><code>upper</code> 将字符串转化为大写</li> <li><code>lower</code> 将字符串转化为小写</li> <li><code>swapcase</code> 对字符串的大小写字母进行转换</li></ul> <h2 id="字符串截取"><a href="#字符串截取" aria-hidden="true" class="header-anchor">#</a> 字符串截取</h2> <ul><li><code>lstrip</code> 删除字符串左侧空格</li> <li><code>rstrip</code> 删除字符串右侧空格</li> <li><code>strip</code> 用于移除字符串头尾指定的字符（默认为空格）</li></ul> <div class="language-python extra-class"><pre class="language-python"><code><span class="token builtin">str</span><span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">[</span>chars<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>chars -- 移除字符串头尾指定的字符。</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token string">'   Abc   '</span><span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token string">' c'</span><span class="token punctuation">)</span>
<span class="token string">'Ab'</span>
</code></pre></div><h2 id="字符串替换-replace"><a href="#字符串替换-replace" aria-hidden="true" class="header-anchor">#</a> 字符串替换 replace</h2> <div class="language-python extra-class"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a <span class="token operator">=</span> <span class="token string">'abc'</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a<span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'A'</span><span class="token punctuation">)</span>
<span class="token string">'Abc'</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a
<span class="token string">'abc'</span>
</code></pre></div><h2 id="分割字符串-split"><a href="#分割字符串-split" aria-hidden="true" class="header-anchor">#</a> 分割字符串 split</h2> <div class="language-python extra-class"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token string">'a b   c'</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">]</span>
</code></pre></div><h2 id="字符串查找-find"><a href="#字符串查找-find" aria-hidden="true" class="header-anchor">#</a> 字符串查找 find</h2> <p>find() 方法检测字符串中是否包含子字符串 str ，如果指定 beg（开始） 和 end（结束） 范围，则检查是否包含在指定范围内，如果指定范围内如果包含指定索引值，返回的是索引值在字符串中的起始位置。如果不包含索引值，返回-1。</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token builtin">str</span><span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">,</span> beg<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token builtin">len</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><ul><li>str -- 指定检索的字符串</li> <li>beg -- 开始索引，默认为0。</li> <li>end -- 结束索引，默认为字符串的长度。</li></ul> <div class="language-python extra-class"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token string">'   Abc   '</span><span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">'c'</span><span class="token punctuation">)</span>
<span class="token number">5</span>
</code></pre></div><h2 id="字符串统计-count"><a href="#字符串统计-count" aria-hidden="true" class="header-anchor">#</a> 字符串统计 count</h2> <p>count() 方法用于统计字符串里某个字符出现的次数。可选参数为在字符串搜索的开始与结束位置。</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token builtin">str</span><span class="token punctuation">.</span>count<span class="token punctuation">(</span>sub<span class="token punctuation">,</span> start<span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>end<span class="token operator">=</span><span class="token builtin">len</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><ul><li>sub -- 搜索的子字符串</li> <li>start -- 字符串开始搜索的位置。默认为第一个字符,第一个字符索引值为0。</li> <li>end -- 字符串中结束搜索的位置。字符中第一个字符的索引为 0。默认为字符串的最后一个位置。</li></ul> <div class="language-python extra-class"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token string">'absasbsa'</span><span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span>
<span class="token number">3</span>
</code></pre></div><p>更多方法参看 http://www.runoob.com/python3/python3-string.html</p> <h2 id="字符串的特殊用法"><a href="#字符串的特殊用法" aria-hidden="true" class="header-anchor">#</a> 字符串的特殊用法</h2> <h3 id="多行语句，在行尾使用反斜杠-进行多行语句的连接"><a href="#多行语句，在行尾使用反斜杠-进行多行语句的连接" aria-hidden="true" class="header-anchor">#</a> 多行语句，在行尾使用反斜杠  <code>\</code> 进行多行语句的连接</h3> <div class="language-python extra-class"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> total <span class="token operator">=</span> item_one <span class="token operator">+</span> \
        item_two <span class="token operator">+</span> \
        item_three
</code></pre></div><h3 id="在-或-中的多行语句，不需要使用反斜杠"><a href="#在-或-中的多行语句，不需要使用反斜杠" aria-hidden="true" class="header-anchor">#</a> 在 [], {}, 或 () 中的多行语句，不需要使用反斜杠 <code>\</code></h3> <div class="language-python extra-class"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> total <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'item_one'</span><span class="token punctuation">,</span> <span class="token string">'item_two'</span><span class="token punctuation">,</span> <span class="token string">'item_three'</span><span class="token punctuation">,</span>
        <span class="token string">'item_four'</span><span class="token punctuation">,</span> <span class="token string">'item_five'</span><span class="token punctuation">]</span>
</code></pre></div><h3 id="自然字符串，使用-r-表示引号内部的字符串默认不转义"><a href="#自然字符串，使用-r-表示引号内部的字符串默认不转义" aria-hidden="true" class="header-anchor">#</a> 自然字符串，使用 r'' 表示引号内部的字符串默认不转义</h3> <div class="language-python extra-class"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'\\\t\\'</span><span class="token punctuation">)</span>
\       \
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">r'\\\t\\'</span><span class="token punctuation">)</span>
\\\t\\
</code></pre></div><h3 id="使用三引号-表示多行内容"><a href="#使用三引号-表示多行内容" aria-hidden="true" class="header-anchor">#</a> 使用三引号 '''...''' 表示多行内容</h3> <div class="language-python extra-class"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token triple-quoted-string string">'''line1
    line2
    line3'''</span><span class="token punctuation">)</span>
line1
line2
line3
</code></pre></div><h2 id="字符编码转化"><a href="#字符编码转化" aria-hidden="true" class="header-anchor">#</a> 字符编码转化</h2> <ul><li><code>ord()</code> 函数获取字符的整数表示</li> <li><code>chr()</code> 函数把编码转换为对应的字符</li></ul> <div class="language-python extra-class"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">ord</span><span class="token punctuation">(</span><span class="token string">'A'</span><span class="token punctuation">)</span>
<span class="token number">65</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">ord</span><span class="token punctuation">(</span><span class="token string">'中'</span><span class="token punctuation">)</span>
<span class="token number">20013</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">chr</span><span class="token punctuation">(</span><span class="token number">66</span><span class="token punctuation">)</span>
<span class="token string">'B'</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">chr</span><span class="token punctuation">(</span><span class="token number">25991</span><span class="token punctuation">)</span>
<span class="token string">'文'</span>
</code></pre></div><h3 id="encode-和-decode"><a href="#encode-和-decode" aria-hidden="true" class="header-anchor">#</a> encode 和 decode</h3> <ul><li><code>encode()</code> 将以Unicode表示的str编码为指定的bytes</li> <li><code>decode()</code> 把bytes转化为为str</li></ul> <div class="language-python extra-class"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token string">'ABC'</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'ascii'</span><span class="token punctuation">)</span>
<span class="token string">b'ABC'</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token string">'中文'</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span>
<span class="token string">b'\xe4\xb8\xad\xe6\x96\x87'</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token string">'中文'</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'gb2312'</span><span class="token punctuation">)</span>
<span class="token string">b'\xd6\xd0\xce\xc4'</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token string">'中文'</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'ascii'</span><span class="token punctuation">)</span>
Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span>
  File <span class="token string">&quot;&lt;stdin&gt;&quot;</span><span class="token punctuation">,</span> line <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">&gt;</span>
UnicodeEncodeError<span class="token punctuation">:</span> <span class="token string">'ascii'</span> codec can't encode characters <span class="token keyword">in</span> position <span class="token number">0</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span> ordinal <span class="token keyword">not</span> <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">128</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token string">b'ABC'</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'ascii'</span><span class="token punctuation">)</span>
<span class="token string">'ABC'</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token string">b'\xe4\xb8\xad\xe6\x96\x87'</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span>
<span class="token string">'中文'</span>
</code></pre></div><p>如果bytes中包含无法解码的字节，decode() 方法会报错：</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token string">b'\xe4\xb8\xad\xff'</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span>
Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
UnicodeDecodeError<span class="token punctuation">:</span> <span class="token string">'utf-8'</span> codec can't decode byte <span class="token number">0xff</span> <span class="token keyword">in</span> position <span class="token number">3</span><span class="token punctuation">:</span> invalid start byte
</code></pre></div><p>如果bytes中只有一小部分无效的字节，可以传入errors='ignore'忽略错误的字节:</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token string">b'\xe4\xb8\xad\xff'</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">,</span> errors<span class="token operator">=</span><span class="token string">'ignore'</span><span class="token punctuation">)</span>
<span class="token string">'中'</span>
</code></pre></div><h3 id="十六进制表示"><a href="#十六进制表示" aria-hidden="true" class="header-anchor">#</a> 十六进制表示</h3> <div class="language-python extra-class"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token string">'\u4e2d\u6587'</span>
<span class="token string">'中文'</span>
</code></pre></div><h3 id="bytes字节码"><a href="#bytes字节码" aria-hidden="true" class="header-anchor">#</a> bytes字节码</h3> <p>Python的字符串类型是str，在内存中以Unicode表示，一个字符对应若干个字节。如果要在网络上传输，或者保存到磁盘上，就需要把str变为以字节为单位的bytes。</p> <p>在bytes中，无法显示为ASCII字符的字节，用\x##显示。</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token string">b'ABC'</span>
<span class="token string">b'\xe4\xb8\xad\xe6\x96\x87'</span>
</code></pre></div><h2 id="计算字符串的长度"><a href="#计算字符串的长度" aria-hidden="true" class="header-anchor">#</a> 计算字符串的长度</h2> <p><code>len()</code> 计算str的字符数，或者bytes的字节数（在python3中以字符为单位，在python2中以字节为单位）</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">len</span><span class="token punctuation">(</span><span class="token string">'ABC'</span><span class="token punctuation">)</span>
<span class="token number">3</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">len</span><span class="token punctuation">(</span><span class="token string">'中文'</span><span class="token punctuation">)</span>
<span class="token number">2</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">len</span><span class="token punctuation">(</span><span class="token string">b'ABC'</span><span class="token punctuation">)</span>
<span class="token number">3</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">len</span><span class="token punctuation">(</span><span class="token string">b'\xe4\xb8\xad\xe6\x96\x87'</span><span class="token punctuation">)</span>
<span class="token number">6</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">len</span><span class="token punctuation">(</span><span class="token string">'中文'</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token number">6</span>
</code></pre></div><h2 id="字符串格式化"><a href="#字符串格式化" aria-hidden="true" class="header-anchor">#</a> 字符串格式化</h2> <p>可以在表达式后添加 <code>%</code> 以填充使用占位符表示的值，如果是多个占位符可以使用 <code>% ( )</code> 的形式填充多个值。</p> <table><thead><tr><th>占位符</th> <th>替换内容</th></tr></thead> <tbody><tr><td>%d</td> <td>整数</td></tr> <tr><td>%f</td> <td>浮点数</td></tr> <tr><td>%s</td> <td>字符串</td></tr> <tr><td>%x</td> <td>十六进制整数</td></tr></tbody></table> <div class="language-python extra-class"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token string">'Hello, %s'</span> <span class="token operator">%</span> <span class="token string">'world'</span>
<span class="token string">'Hello, world'</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token string">'Hi, %s, you have $%d.'</span> <span class="token operator">%</span> <span class="token punctuation">(</span><span class="token string">'Michael'</span><span class="token punctuation">,</span> <span class="token number">1000000</span><span class="token punctuation">)</span>
<span class="token string">'Hi, Michael, you have $1000000.'</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token string">'%2d-%02d'</span> <span class="token operator">%</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token string">' 3-01'</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token string">'%.2f'</span> <span class="token operator">%</span> <span class="token number">3.1415926</span>
<span class="token string">'3.14'</span>
</code></pre></div><p>如果字符串里面的%是一个普通字符，这个时候就需要转义，用<code>%%</code>来表示一个%：</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token string">'growth rate: %d%%'</span> <span class="token operator">%</span> <span class="token number">7</span>
<span class="token string">'growth rate: 7%'</span>
</code></pre></div><p>字符串对象的 <code>rjust()</code> 方法, 它可以将字符串靠右, 并在左边填充空格。
还有类似的方法, 如 <code>ljust()</code> 和 <code>center()</code>。 这些方法并不会写任何东西, 它们仅仅返回新的字符串。</p> <p>如打印平方立方表</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">repr</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">.</span>ljust<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">repr</span><span class="token punctuation">(</span>x<span class="token operator">*</span>x<span class="token punctuation">)</span><span class="token punctuation">.</span>ljust<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">' '</span><span class="token punctuation">)</span>
    <span class="token comment"># 注意前一行 'end' 的使用</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">repr</span><span class="token punctuation">(</span>x<span class="token operator">*</span>x<span class="token operator">*</span>x<span class="token punctuation">)</span><span class="token punctuation">.</span>rjust<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code>$ python test.py
1     1         1
2     4         8
3     9        27
4     16       64
5     25      125
6     36      216
7     49      343
8     64      512
9     81      729
10    100    1000
</code></pre></div><h3 id="format"><a href="#format" aria-hidden="true" class="header-anchor">#</a> format()</h3> <p>另一种格式化字符串的方法是使用字符串的<code>format()</code>方法，它会用传入的参数依次替换字符串内的占位符<code>{0}、{1}……</code>，不过这种方式写起来比%要麻烦得多：</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token string">'Hello, {0}, 成绩提升了 {1:.1f}%'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span><span class="token string">'小明'</span><span class="token punctuation">,</span> <span class="token number">17.125</span><span class="token punctuation">)</span>
<span class="token string">'Hello, 小明, 成绩提升了 17.1%'</span>
</code></pre></div><h2 id="将其他数据类型转化为字符串"><a href="#将其他数据类型转化为字符串" aria-hidden="true" class="header-anchor">#</a> 将其他数据类型转化为字符串</h2> <p>使用转换函数 <code>str()</code> 即可将其他数据类型的对象转化为字符串</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">str</span><span class="token punctuation">(</span><span class="token number">1.22</span><span class="token punctuation">)</span>
<span class="token string">'1.22'</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">str</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token string">&quot;{'b', 'a', 'c'}&quot;</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">str</span><span class="token punctuation">(</span><span class="token boolean">False</span><span class="token punctuation">)</span>
<span class="token string">'False'</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">str</span><span class="token punctuation">(</span><span class="token string">'hello, python3\n'</span><span class="token punctuation">)</span>
<span class="token string">'hello, python3\n'</span>
</code></pre></div><p><code>repr()</code> 函数可以转义字符串中的特殊字符</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">repr</span><span class="token punctuation">(</span><span class="token string">'hello, python3\n'</span><span class="token punctuation">)</span>
<span class="token string">&quot;'hello, python3\\n'&quot;</span>
</code></pre></div></div><div class="article-info"><div class="article-title">文档信息</div><p class="article-item">版权声明：著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p><p class="article-item">文章标题：字符串(str)</p><p class="article-item">原文链接：<a href="https://www.xiaoyulive.top/categories/python/_books/python/types/String.html">https://www.xiaoyulive.top/categories/python/_books/python/types/String.html</a></p><!----></div><!----><div class="content page-nav"><p class="inner"><span class="prev">← <a href="/categories/python/_books/python/types/" class="router-link-active">数据类型</a></span><span class="next"><a href="/categories/python/_books/python/types/List.html">列表(list)</a>  →</span></p></div></div><div class="footers" data-v-38547c78><p data-v-38547c78><span data-v-38547c78>MIT Licensed | Copyright © 2018-present  滇ICP备16006294号</span></p><p data-v-38547c78><span data-v-38547c78>Design by <a href="/">Quanzaiyu</a> | Power by <a href="https://vuepress.vuejs.org/" target="_blank">VuePress</a> | Hosted by <a href="https://pages.coding.me" target="_blank" style="font-weight: bold">Coding Pages</a></span></p></div></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.5ed478ae.js" defer></script><script src="/assets/js/5.feabe54f.js" defer></script>
  </body>
</html>
