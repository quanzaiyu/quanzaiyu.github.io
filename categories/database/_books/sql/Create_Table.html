<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>创建表 | 小昱个人网站</title>
    <meta name="description" content="小昱个人网站">
    <meta http-equiv="Expires" content="Mon,12 May 2050 00:20:00 GMT">
  <link rel="icon" href="/logo.png">
  <link rel="manifest" href="/manifest.json">
  <link rel="stylesheet" href="//at.alicdn.com/t/font_517060_lom78h954w.css">
  <link rel="stylesheet" href="https://img.xiaoyulive.top/css/animate.css">
    
    <link rel="preload" href="/assets/css/0.styles.24fc6e4b.css" as="style"><link rel="preload" href="/assets/js/app.581daddb.js" as="script"><link rel="preload" href="/assets/js/5.5340779d.js" as="script"><link rel="prefetch" href="/assets/js/1.a193143a.js"><link rel="prefetch" href="/assets/js/10.ef7f31f2.js"><link rel="prefetch" href="/assets/js/11.00ff1887.js"><link rel="prefetch" href="/assets/js/12.cf384e45.js"><link rel="prefetch" href="/assets/js/13.a0c97961.js"><link rel="prefetch" href="/assets/js/14.5e090d83.js"><link rel="prefetch" href="/assets/js/15.35fb8dac.js"><link rel="prefetch" href="/assets/js/2.2121cef9.js"><link rel="prefetch" href="/assets/js/6.7f4bd0b9.js"><link rel="prefetch" href="/assets/js/7.1f200143.js"><link rel="prefetch" href="/assets/js/8.ec41fdec.js"><link rel="prefetch" href="/assets/js/9.323efb3f.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.35d2c7ef.js">
    <link rel="stylesheet" href="/assets/css/0.styles.24fc6e4b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-38547c78><header class="navbar" data-v-38547c78><div class="navbar-content"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/" class="home-link router-link-active"><img src="/logo.png" class="logo"><span class="site-name can-hide">小昱个人网站</span></a><div class="links"><nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">开发者博客</a></div><div class="nav-item"><a href="/articles/" class="nav-link">生活漫谈</a></div><div class="nav-item"><a href="/note/" class="nav-link">阅读札记</a></div><div class="nav-item"><a href="/categories/" class="nav-link router-link-active">学无止境</a></div><div class="nav-item"><a href="/share/" class="nav-link">精品分享</a></div><div class="nav-item"><a href="/favorite/" class="nav-link">收藏夹</a></div><!----></nav><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div></div></div></header><div class="sidebar-mask" data-v-38547c78></div><div class="sidebar" data-v-38547c78><div class="sidebar-container"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">开发者博客</a></div><div class="nav-item"><a href="/articles/" class="nav-link">生活漫谈</a></div><div class="nav-item"><a href="/note/" class="nav-link">阅读札记</a></div><div class="nav-item"><a href="/categories/" class="nav-link router-link-active">学无止境</a></div><div class="nav-item"><a href="/share/" class="nav-link">精品分享</a></div><div class="nav-item"><a href="/favorite/" class="nav-link">收藏夹</a></div><!----></nav><ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading open"><span>SQL</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/categories/database/_books/sql/" class="sidebar-link">SQL 学习笔记</a></li><li><a href="/categories/database/_books/sql/DataType.html" class="sidebar-link">数据类型</a></li><li><a href="/categories/database/_books/sql/Create_Table.html" class="active sidebar-link">创建表</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/categories/database/_books/sql/Create_Table.html#创建表基础语句" class="sidebar-link">创建表基础语句</a></li><li class="sidebar-sub-header"><a href="/categories/database/_books/sql/Create_Table.html#约束（constraints）" class="sidebar-link">约束（Constraints）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/categories/database/_books/sql/Create_Table.html#not-null" class="sidebar-link">NOT NULL</a></li><li class="sidebar-sub-header"><a href="/categories/database/_books/sql/Create_Table.html#unique" class="sidebar-link">UNIQUE</a></li><li class="sidebar-sub-header"><a href="/categories/database/_books/sql/Create_Table.html#primary-key" class="sidebar-link">PRIMARY KEY</a></li><li class="sidebar-sub-header"><a href="/categories/database/_books/sql/Create_Table.html#foreign-key" class="sidebar-link">FOREIGN KEY</a></li><li class="sidebar-sub-header"><a href="/categories/database/_books/sql/Create_Table.html#check" class="sidebar-link">CHECK</a></li><li class="sidebar-sub-header"><a href="/categories/database/_books/sql/Create_Table.html#default" class="sidebar-link">DEFAULT</a></li></ul></li><li class="sidebar-sub-header"><a href="/categories/database/_books/sql/Create_Table.html#索引（index）" class="sidebar-link">索引（Index）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/categories/database/_books/sql/Create_Table.html#创建索引" class="sidebar-link">创建索引</a></li><li class="sidebar-sub-header"><a href="/categories/database/_books/sql/Create_Table.html#删除索引" class="sidebar-link">删除索引</a></li></ul></li><li class="sidebar-sub-header"><a href="/categories/database/_books/sql/Create_Table.html#自动增长" class="sidebar-link">自动增长</a></li></ul></li><li><a href="/categories/database/_books/sql/Common_SQL.html" class="sidebar-link">CURD</a></li><li><a href="/categories/database/_books/sql/Limit.html" class="sidebar-link">Limit</a></li><li><a href="/categories/database/_books/sql/Join.html" class="sidebar-link">连接</a></li><li><a href="/categories/database/_books/sql/Union.html" class="sidebar-link">联合</a></li><li><a href="/categories/database/_books/sql/View.html" class="sidebar-link">视图</a></li><li><a href="/categories/database/_books/sql/Transaction.html" class="sidebar-link">事务</a></li><li><a href="/categories/database/_books/sql/Function.html" class="sidebar-link">内建函数</a></li><li><a href="/categories/database/_books/sql/Procedure.html" class="sidebar-link">存储过程</a></li></ul></div></li></ul></div></div><div class="page" data-v-38547c78><div class="content default"><h1 id="创建表"><a href="#创建表" aria-hidden="true" class="header-anchor">#</a> 创建表</h1> <p>一般情况下，我们是不会手动使用创建表的语句，因为我们通常会使用数据库连接工具可视化地创建表，这里列出一些创建表时的基本操作与概念，旨在更加深入地了解数据库的操作。</p> <h2 id="创建表基础语句"><a href="#创建表基础语句" aria-hidden="true" class="header-anchor">#</a> 创建表基础语句</h2> <p>我们都知道，创建表用 <code>create table</code> 语句即可：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> table_name
<span class="token punctuation">(</span>
column_name1 data_type<span class="token punctuation">(</span>size<span class="token punctuation">)</span><span class="token punctuation">,</span>
column_name2 data_type<span class="token punctuation">(</span>size<span class="token punctuation">)</span><span class="token punctuation">,</span>
column_name3 data_type<span class="token punctuation">(</span>size<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>column_name 参数规定表中列的名称。</li> <li>data_type 参数规定列的数据类型（例如 varchar、integer、decimal、date 等等）。</li> <li>size 参数规定表中列的最大长度。</li></ul> <h2 id="约束（constraints）"><a href="#约束（constraints）" aria-hidden="true" class="header-anchor">#</a> 约束（Constraints）</h2> <p>SQL 约束用于规定表中的数据规则。</p> <p>如果存在违反约束的数据行为，行为会被约束终止。</p> <p>约束可以在创建表时规定（通过 CREATE TABLE 语句），或者在表创建之后规定（通过 ALTER TABLE 语句）。</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> table_name
<span class="token punctuation">(</span>
column_name1 data_type<span class="token punctuation">(</span>size<span class="token punctuation">)</span> constraint_name<span class="token punctuation">,</span>
column_name2 data_type<span class="token punctuation">(</span>size<span class="token punctuation">)</span> constraint_name<span class="token punctuation">,</span>
column_name3 data_type<span class="token punctuation">(</span>size<span class="token punctuation">)</span> constraint_name<span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>在 SQL 中，我们有如下约束：</p> <ul><li>NOT NULL - 指示某列不能存储 NULL 值。</li> <li>UNIQUE - 保证某列的每行必须有唯一的值。</li> <li>PRIMARY KEY - NOT NULL 和 UNIQUE 的结合。确保某列（或两个列多个列的结合）有唯一标识，有助于更容易更快速地找到表中的一个特定的记录。</li> <li>FOREIGN KEY - 保证一个表中的数据匹配另一个表中的值的参照完整性。</li> <li>CHECK - 保证列中的值符合指定的条件。</li> <li>DEFAULT - 规定没有给列赋值时的默认值。</li></ul> <h3 id="not-null"><a href="#not-null" aria-hidden="true" class="header-anchor">#</a> NOT NULL</h3> <p>NOT NULL 约束强制列不接受 NULL 值。NOT NULL 约束强制字段始终包含值。这意味着，如果不向字段添加值，就无法插入新记录或者更新记录。</p> <p>比如：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> Persons
<span class="token punctuation">(</span>
P_Id <span class="token keyword">int</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
LastName <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
FirstName <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
Address <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
City <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
</code></pre></div><h3 id="unique"><a href="#unique" aria-hidden="true" class="header-anchor">#</a> UNIQUE</h3> <p>UNIQUE 约束唯一标识数据库表中的每条记录。</p> <p>UNIQUE 和 PRIMARY KEY 约束均为列或列集合提供了唯一性的保证。</p> <p>PRIMARY KEY 约束拥有自动定义的 UNIQUE 约束。</p> <div class="tip custom-block"><p class="custom-block-title">注意</p> <p>每个表可以有多个 UNIQUE 约束，但是每个表只能有一个 PRIMARY KEY 约束。</p></div> <p>在不同数据库中，写法不同：</p> <p><strong>MySQL</strong></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> Persons
<span class="token punctuation">(</span>
P_Id <span class="token keyword">int</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
LastName <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
FirstName <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
Address <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
City <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token keyword">UNIQUE</span> <span class="token punctuation">(</span>P_Id<span class="token punctuation">)</span>
<span class="token punctuation">)</span>
</code></pre></div><p><strong>SQL Server / Oracle / MS Access</strong></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> Persons
<span class="token punctuation">(</span>
P_Id <span class="token keyword">int</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">UNIQUE</span><span class="token punctuation">,</span>
LastName <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
FirstName <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
Address <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
City <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
</code></pre></div><h4 id="命名-unique-约束"><a href="#命名-unique-约束" aria-hidden="true" class="header-anchor">#</a> 命名 UNIQUE 约束</h4> <p>如需命名 UNIQUE 约束，并定义多个列的 UNIQUE 约束，可以使用下面的 SQL 语法：</p> <p>MySQL / SQL Server / Oracle / MS Access：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> Persons
<span class="token punctuation">(</span>
P_Id <span class="token keyword">int</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
LastName <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
FirstName <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
Address <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
City <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token keyword">CONSTRAINT</span> uc_PersonID <span class="token keyword">UNIQUE</span> <span class="token punctuation">(</span>P_Id<span class="token punctuation">,</span>LastName<span class="token punctuation">)</span>
<span class="token punctuation">)</span>
</code></pre></div><h4 id="在已创建的表中添加-unique-约束"><a href="#在已创建的表中添加-unique-约束" aria-hidden="true" class="header-anchor">#</a> 在已创建的表中添加 UNIQUE 约束</h4> <p>MySQL / SQL Server / Oracle / MS Access：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> Persons <span class="token keyword">ADD</span> <span class="token keyword">UNIQUE</span> <span class="token punctuation">(</span>P_Id<span class="token punctuation">)</span>
</code></pre></div><p>添加命名的约束：</p> <p>MySQL / SQL Server / Oracle / MS Access：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> Persons <span class="token keyword">ADD</span> <span class="token keyword">CONSTRAINT</span> uc_PersonID <span class="token keyword">UNIQUE</span> <span class="token punctuation">(</span>P_Id<span class="token punctuation">,</span>LastName<span class="token punctuation">)</span>
</code></pre></div><h4 id="删除表中的已有的-unique-约束"><a href="#删除表中的已有的-unique-约束" aria-hidden="true" class="header-anchor">#</a> 删除表中的已有的 UNIQUE 约束</h4> <p><strong>MySQL</strong></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> Persons <span class="token keyword">DROP</span> <span class="token keyword">INDEX</span> uc_PersonID
</code></pre></div><p><strong>SQL Server / Oracle / MS Access</strong></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> Persons <span class="token keyword">DROP</span> <span class="token keyword">CONSTRAINT</span> uc_PersonID
</code></pre></div><h3 id="primary-key"><a href="#primary-key" aria-hidden="true" class="header-anchor">#</a> PRIMARY KEY</h3> <p>PRIMARY KEY 约束唯一标识数据库表中的每条记录。主键必须包含唯一的值，主键列不能包含 NULL 值。每个表都应该有一个主键，并且每个表只能有一个主键。</p> <p>在不同数据库中，写法不同：</p> <p><strong>MySQL</strong></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> Persons
<span class="token punctuation">(</span>
P_Id <span class="token keyword">int</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
LastName <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
FirstName <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
Address <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
City <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>P_Id<span class="token punctuation">)</span>
<span class="token punctuation">)</span>
</code></pre></div><p>SQL Server / Oracle / MS Access：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> Persons
<span class="token punctuation">(</span>
P_Id <span class="token keyword">int</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
LastName <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
FirstName <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
Address <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
City <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
</code></pre></div><p>如需命名 PRIMARY KEY 约束，并定义多个列的 PRIMARY KEY 约束，可以使用下面的 SQL 语法：</p> <p>MySQL / SQL Server / Oracle / MS Access：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> Persons
<span class="token punctuation">(</span>
P_Id <span class="token keyword">int</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
LastName <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
FirstName <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
Address <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
City <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token keyword">CONSTRAINT</span> pk_PersonID <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>P_Id<span class="token punctuation">,</span>LastName<span class="token punctuation">)</span>
<span class="token punctuation">)</span>
</code></pre></div><p>在上面的实例中，只有一个主键 PRIMARY KEY（pk_PersonID）。然而，pk_PersonID 的值是由两个列（P_Id 和 LastName）组成的。</p> <h4 id="在已创建的表中添加-primary-key-约束"><a href="#在已创建的表中添加-primary-key-约束" aria-hidden="true" class="header-anchor">#</a> 在已创建的表中添加 PRIMARY KEY 约束</h4> <p>MySQL / SQL Server / Oracle / MS Access：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> Persons <span class="token keyword">ADD</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>P_Id<span class="token punctuation">)</span>
</code></pre></div><p>添加命名的约束：</p> <p>MySQL / SQL Server / Oracle / MS Access：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> Persons <span class="token keyword">ADD</span> <span class="token keyword">CONSTRAINT</span> pk_PersonID <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>P_Id<span class="token punctuation">,</span>LastName<span class="token punctuation">)</span>
</code></pre></div><h4 id="删除表中的已有的-unique-约束-2"><a href="#删除表中的已有的-unique-约束-2" aria-hidden="true" class="header-anchor">#</a> 删除表中的已有的 UNIQUE 约束</h4> <p><strong>MySQL</strong></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> Persons <span class="token keyword">DROP</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span>
</code></pre></div><p><strong>SQL Server / Oracle / MS Access</strong></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> Persons <span class="token keyword">DROP</span> <span class="token keyword">CONSTRAINT</span> pk_PersonID
</code></pre></div><h3 id="foreign-key"><a href="#foreign-key" aria-hidden="true" class="header-anchor">#</a> FOREIGN KEY</h3> <p>一个表中的 FOREIGN KEY 指向另一个表中的 PRIMARY KEY。</p> <p>让我们通过一个实例来解释外键。请看下面两个表：</p> <p>&quot;Persons&quot; 表：</p> <table><thead><tr><th>P_Id</th> <th>LastName</th> <th>FirstName</th> <th>Address</th> <th>City</th></tr></thead> <tbody><tr><td>1</td> <td>Hansen</td> <td>Ola</td> <td>Timoteivn 10</td> <td>Sandnes</td></tr> <tr><td>2</td> <td>Svendson</td> <td>Tove</td> <td>Borgvn 23</td> <td>Sandnes</td></tr> <tr><td>3</td> <td>Pettersen</td> <td>Kari</td> <td>Storgt 20</td> <td>Stavanger</td></tr></tbody></table> <p>&quot;Orders&quot; 表：</p> <table><thead><tr><th>O_Id</th> <th>OrderNo</th> <th>P_Id</th></tr></thead> <tbody><tr><td>1</td> <td>77895</td> <td>3</td></tr> <tr><td>2</td> <td>44678</td> <td>3</td></tr> <tr><td>3</td> <td>22456</td> <td>2</td></tr> <tr><td>4</td> <td>24562</td> <td>1</td></tr></tbody></table> <p>请注意，&quot;Orders&quot; 表中的 &quot;P_Id&quot; 列指向 &quot;Persons&quot; 表中的 &quot;P_Id&quot; 列。</p> <p>&quot;Persons&quot; 表中的 &quot;P_Id&quot; 列是 &quot;Persons&quot; 表中的 PRIMARY KEY。</p> <p>&quot;Orders&quot; 表中的 &quot;P_Id&quot; 列是 &quot;Orders&quot; 表中的 FOREIGN KEY。</p> <p>FOREIGN KEY 约束用于预防破坏表之间连接的行为。</p> <p>FOREIGN KEY 约束也能防止非法数据插入外键列，因为它必须是它指向的那个表中的值之一。</p> <h4 id="创建表时添加外键"><a href="#创建表时添加外键" aria-hidden="true" class="header-anchor">#</a> 创建表时添加外键</h4> <p><strong>MySQL</strong></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> Orders
<span class="token punctuation">(</span>
O_Id <span class="token keyword">int</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
OrderNo <span class="token keyword">int</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
P_Id <span class="token keyword">int</span><span class="token punctuation">,</span>
<span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>O_Id<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>P_Id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> Persons<span class="token punctuation">(</span>P_Id<span class="token punctuation">)</span>
<span class="token punctuation">)</span>
</code></pre></div><p><strong>SQL Server / Oracle / MS Access</strong></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> Orders
<span class="token punctuation">(</span>
O_Id <span class="token keyword">int</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
OrderNo <span class="token keyword">int</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
P_Id <span class="token keyword">int</span> <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token keyword">REFERENCES</span> Persons<span class="token punctuation">(</span>P_Id<span class="token punctuation">)</span>
<span class="token punctuation">)</span>
</code></pre></div><p>如需命名 FOREIGN KEY 约束，并定义多个列的 FOREIGN KEY 约束，可以使用下面的 SQL 语法：</p> <p><strong>MySQL / SQL Server / Oracle / MS Access：</strong></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> Orders
<span class="token punctuation">(</span>
O_Id <span class="token keyword">int</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
OrderNo <span class="token keyword">int</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
P_Id <span class="token keyword">int</span><span class="token punctuation">,</span>
<span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>O_Id<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token keyword">CONSTRAINT</span> fk_PerOrders <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>P_Id<span class="token punctuation">)</span>
<span class="token keyword">REFERENCES</span> Persons<span class="token punctuation">(</span>P_Id<span class="token punctuation">)</span>
<span class="token punctuation">)</span>
</code></pre></div><h4 id="在已创建的表中添加-foreign-key-约束"><a href="#在已创建的表中添加-foreign-key-约束" aria-hidden="true" class="header-anchor">#</a> 在已创建的表中添加 FOREIGN KEY 约束</h4> <p>MySQL / SQL Server / Oracle / MS Access：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> Orders
<span class="token keyword">ADD</span> <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>P_Id<span class="token punctuation">)</span>
<span class="token keyword">REFERENCES</span> Persons<span class="token punctuation">(</span>P_Id<span class="token punctuation">)</span>
</code></pre></div><p>添加命名的约束：</p> <p>MySQL / SQL Server / Oracle / MS Access：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> Orders
<span class="token keyword">ADD</span> <span class="token keyword">CONSTRAINT</span> fk_PerOrders
<span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>P_Id<span class="token punctuation">)</span>
<span class="token keyword">REFERENCES</span> Persons<span class="token punctuation">(</span>P_Id<span class="token punctuation">)</span>
</code></pre></div><h4 id="删除表中的已有的-foreign-key-约束"><a href="#删除表中的已有的-foreign-key-约束" aria-hidden="true" class="header-anchor">#</a> 删除表中的已有的 FOREIGN KEY 约束</h4> <p><strong>MySQL</strong></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> Orders <span class="token keyword">DROP</span> <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> fk_PerOrders
</code></pre></div><p><strong>SQL Server / Oracle / MS Access</strong></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> Orders <span class="token keyword">DROP</span> <span class="token keyword">CONSTRAINT</span> fk_PerOrders
</code></pre></div><h3 id="check"><a href="#check" aria-hidden="true" class="header-anchor">#</a> CHECK</h3> <p>CHECK 约束用于限制列中的值的范围。</p> <p>如果对单个列定义 CHECK 约束，那么该列只允许特定的值。</p> <p>如果对一个表定义 CHECK 约束，那么此约束会基于行中其他列的值在特定的列中对值进行限制。</p> <h4 id="创建表时添加-check-约束"><a href="#创建表时添加-check-约束" aria-hidden="true" class="header-anchor">#</a> 创建表时添加 CHECK 约束</h4> <p><strong>MySQL</strong></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> Persons
<span class="token punctuation">(</span>
P_Id <span class="token keyword">int</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
LastName <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
FirstName <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
Address <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
City <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token keyword">CHECK</span> <span class="token punctuation">(</span>P_Id<span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
</code></pre></div><p><strong>SQL Server / Oracle / MS Access</strong></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> Persons
<span class="token punctuation">(</span>
P_Id <span class="token keyword">int</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">CHECK</span> <span class="token punctuation">(</span>P_Id<span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
LastName <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
FirstName <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
Address <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
City <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
</code></pre></div><p>如需命名 CHECK 约束，并定义多个列的 CHECK 约束，可以使用下面的 SQL 语法：</p> <p>MySQL / SQL Server / Oracle / MS Access：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> Persons
<span class="token punctuation">(</span>
P_Id <span class="token keyword">int</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
LastName <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
FirstName <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
Address <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
City <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token keyword">CONSTRAINT</span> chk_Person <span class="token keyword">CHECK</span> <span class="token punctuation">(</span>P_Id<span class="token operator">&gt;</span><span class="token number">0</span> <span class="token operator">AND</span> City<span class="token operator">=</span><span class="token string">'Sandnes'</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
</code></pre></div><h4 id="在已创建的表中添加-check-约束"><a href="#在已创建的表中添加-check-约束" aria-hidden="true" class="header-anchor">#</a> 在已创建的表中添加 CHECK 约束</h4> <p>MySQL / SQL Server / Oracle / MS Access：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> Persons <span class="token keyword">ADD</span> <span class="token keyword">CHECK</span> <span class="token punctuation">(</span>P_Id<span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">)</span>
</code></pre></div><p>添加命名的约束：</p> <p>MySQL / SQL Server / Oracle / MS Access：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> Persons <span class="token keyword">ADD</span> <span class="token keyword">CONSTRAINT</span> chk_Person <span class="token keyword">CHECK</span> <span class="token punctuation">(</span>P_Id<span class="token operator">&gt;</span><span class="token number">0</span> <span class="token operator">AND</span> City<span class="token operator">=</span><span class="token string">'Sandnes'</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="删除表中的已有的-unique-约束-3"><a href="#删除表中的已有的-unique-约束-3" aria-hidden="true" class="header-anchor">#</a> 删除表中的已有的 UNIQUE 约束</h4> <p><strong>MySQL</strong></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> Persons <span class="token keyword">DROP</span> <span class="token keyword">CONSTRAINT</span> chk_Person
</code></pre></div><p><strong>SQL Server / Oracle / MS Access</strong></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> Persons <span class="token keyword">DROP</span> <span class="token keyword">CHECK</span> chk_Person
</code></pre></div><h3 id="default"><a href="#default" aria-hidden="true" class="header-anchor">#</a> DEFAULT</h3> <p>DEFAULT 约束用于向列中插入默认值。如果没有规定其他的值，那么会将默认值添加到所有的新记录。</p> <h4 id="创建表时添加-default-约束"><a href="#创建表时添加-default-约束" aria-hidden="true" class="header-anchor">#</a> 创建表时添加 DEFAULT 约束</h4> <p>My SQL / SQL Server / Oracle / MS Access</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> Persons
<span class="token punctuation">(</span>
P_Id <span class="token keyword">int</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
LastName <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
FirstName <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
Address <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
City <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token string">'Sandnes'</span>
<span class="token punctuation">)</span>
</code></pre></div><p>通过使用类似 GETDATE() 这样的函数，DEFAULT 约束也可以用于插入系统值：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> Orders
<span class="token punctuation">(</span>
O_Id <span class="token keyword">int</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
OrderNo <span class="token keyword">int</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
P_Id <span class="token keyword">int</span><span class="token punctuation">,</span>
OrderDate <span class="token keyword">date</span> <span class="token keyword">DEFAULT</span> GETDATE<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
</code></pre></div><h4 id="在已创建的表中添加-default-约束"><a href="#在已创建的表中添加-default-约束" aria-hidden="true" class="header-anchor">#</a> 在已创建的表中添加 DEFAULT 约束</h4> <p><strong>MySQL</strong></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> Persons <span class="token keyword">ALTER</span> City <span class="token keyword">SET</span> <span class="token keyword">DEFAULT</span> <span class="token string">'SANDNES'</span>
</code></pre></div><p><strong>SQL Server / MS Access</strong></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> Persons <span class="token keyword">ALTER</span> <span class="token keyword">COLUMN</span> City <span class="token keyword">SET</span> <span class="token keyword">DEFAULT</span> <span class="token string">'SANDNES'</span>
</code></pre></div><p><strong>Oracle</strong></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> Persons <span class="token keyword">MODIFY</span> City <span class="token keyword">DEFAULT</span> <span class="token string">'SANDNES'</span>
</code></pre></div><h4 id="删除表中的已有的-default-约束"><a href="#删除表中的已有的-default-约束" aria-hidden="true" class="header-anchor">#</a> 删除表中的已有的 DEFAULT 约束</h4> <p><strong>MySQL</strong></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> Persons <span class="token keyword">ALTER</span> City <span class="token keyword">DROP</span> <span class="token keyword">DEFAULT</span>
</code></pre></div><p><strong>SQL Server / Oracle / MS Access</strong></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> Persons <span class="token keyword">ALTER</span> <span class="token keyword">COLUMN</span> City <span class="token keyword">DROP</span> <span class="token keyword">DEFAULT</span>
</code></pre></div><h2 id="索引（index）"><a href="#索引（index）" aria-hidden="true" class="header-anchor">#</a> 索引（Index）</h2> <p>在表中创建索引，以便更加快速高效地查询数据。用户无法看到索引，它们只能被用来加速搜索/查询。</p> <div class="tip custom-block"><p class="custom-block-title">注释</p> <p>更新一个包含索引的表需要比更新一个没有索引的表花费更多的时间，这是由于索引本身也需要更新。因此，理想的做法是仅仅在常常被搜索的列（以及表）上面创建索引。</p></div> <h3 id="创建索引"><a href="#创建索引" aria-hidden="true" class="header-anchor">#</a> 创建索引</h3> <p>在表上创建一个简单的索引。允许使用重复的值：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">INDEX</span> index_name <span class="token keyword">ON</span> table_name <span class="token punctuation">(</span>column_name<span class="token punctuation">)</span>
</code></pre></div><p>在表上创建一个唯一的索引，不允许使用重复的值（唯一的索引意味着两个行不能拥有相同的索引值）。</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">UNIQUE</span> <span class="token keyword">INDEX</span> index_name <span class="token keyword">ON</span> table_name <span class="token punctuation">(</span>column_name<span class="token punctuation">)</span>
</code></pre></div><p>例如：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">INDEX</span> PIndex <span class="token keyword">ON</span> Persons <span class="token punctuation">(</span>LastName<span class="token punctuation">)</span>

<span class="token comment">-- 如果希望索引不止一个列，可以在括号中列出这些列的名称，用逗号隔开：</span>

<span class="token keyword">CREATE</span> <span class="token keyword">INDEX</span> PIndex <span class="token keyword">ON</span> Persons <span class="token punctuation">(</span>LastName<span class="token punctuation">,</span> FirstName<span class="token punctuation">)</span>
</code></pre></div><h3 id="删除索引"><a href="#删除索引" aria-hidden="true" class="header-anchor">#</a> 删除索引</h3> <p>用于 MS Access 的 DROP INDEX 语法：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">DROP</span> <span class="token keyword">INDEX</span> index_name <span class="token keyword">ON</span> table_name
</code></pre></div><p>用于 MS SQL Server 的 DROP INDEX 语法：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">DROP</span> <span class="token keyword">INDEX</span> table_name<span class="token punctuation">.</span>index_name
</code></pre></div><p>用于 DB2/Oracle 的 DROP INDEX 语法：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">DROP</span> <span class="token keyword">INDEX</span> index_name
</code></pre></div><p>用于 MySQL 的 DROP INDEX 语法：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name <span class="token keyword">DROP</span> <span class="token keyword">INDEX</span> index_name
</code></pre></div><h2 id="自动增长"><a href="#自动增长" aria-hidden="true" class="header-anchor">#</a> 自动增长</h2> <p>我们通常希望在每次插入新记录时，自动地创建主键字段的值。我们可以在表中创建一个 Auto-increment 字段，Auto-increment 会在新记录插入表中时生成一个唯一的数字。</p> <p>创建一个自增字段很容易：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> Persons
<span class="token punctuation">(</span>
ID <span class="token keyword">int</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>
LastName <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
FirstName <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
Address <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
City <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>ID<span class="token punctuation">)</span>
<span class="token punctuation">)</span>
</code></pre></div><p>默认地，AUTO_INCREMENT 的开始值是 1，每条新记录递增 1。</p> <p>要让 AUTO_INCREMENT 序列以其他的值起始，可以使用下面的 SQL 语法：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> Persons <span class="token keyword">AUTO_INCREMENT</span><span class="token operator">=</span><span class="token number">100</span>
</code></pre></div><p>要在 &quot;Persons&quot; 表中插入新记录，我们不必为 &quot;ID&quot; 列规定值（会自动添加一个唯一的值）：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> Persons <span class="token punctuation">(</span>FirstName<span class="token punctuation">,</span>LastName<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'Lars'</span><span class="token punctuation">,</span><span class="token string">'Monsen'</span><span class="token punctuation">)</span>
</code></pre></div><div class="tip custom-block"><p class="custom-block-title">注意</p> <p>不同的数据库语法不同，以上仅适用于 MySQL。</p></div> <p><strong>给已经存在的 colume 添加自增语法</strong></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name CHANGE column_name column_name data_type<span class="token punctuation">(</span>size<span class="token punctuation">)</span> constraint_name <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">;</span>
</code></pre></div><p>比如：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> student CHANGE id id <span class="token keyword">INT</span><span class="token punctuation">(</span> <span class="token number">11</span> <span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">;</span>
</code></pre></div></div><div class="article-info"><div class="article-title">文档信息</div><p class="article-item">版权声明：著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p><p class="article-item">文章标题：创建表</p><p class="article-item">原文链接：<a href="https://www.xiaoyulive.top/categories/database/_books/sql/Create_Table.html">https://www.xiaoyulive.top/categories/database/_books/sql/Create_Table.html</a></p><!----></div><!----><div class="content page-nav"><p class="inner"><span class="prev">← <a href="/categories/database/_books/sql/DataType.html">数据类型</a></span><span class="next"><a href="/categories/database/_books/sql/Common_SQL.html">CURD</a>  →</span></p></div></div><div class="footers" data-v-38547c78><p data-v-38547c78><span data-v-38547c78>MIT Licensed | Copyright © 2018-present  滇ICP备16006294号</span></p><p data-v-38547c78><span data-v-38547c78>Design by <a href="/">Quanzaiyu</a> | Power by <a href="https://vuepress.vuejs.org/" target="_blank">VuePress</a> | Hosted by <a href="https://pages.coding.me" target="_blank" style="font-weight: bold">Coding Pages</a></span></p></div></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.581daddb.js" defer></script><script src="/assets/js/5.5340779d.js" defer></script>
  </body>
</html>
