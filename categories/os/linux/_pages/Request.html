<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Linux 网络请求 | 小昱个人网站</title>
    <meta name="description" content="小昱个人网站">
    <meta http-equiv="Expires" content="Mon,12 May 2050 00:20:00 GMT">
  <link rel="icon" href="/logo.png">
  <link rel="manifest" href="/manifest.json">
  <link rel="stylesheet" href="//at.alicdn.com/t/font_517060_lom78h954w.css">
  <link rel="stylesheet" href="https://img.xiaoyulive.top/css/animate.css">
    
    <link rel="preload" href="/assets/css/0.styles.e7d1c9fe.css" as="style"><link rel="preload" href="/assets/js/app.ea5eb335.js" as="script"><link rel="preload" href="/assets/js/5.48ac5d22.js" as="script"><link rel="prefetch" href="/assets/js/1.fc0a517c.js"><link rel="prefetch" href="/assets/js/10.ac5e2af6.js"><link rel="prefetch" href="/assets/js/11.d65b5f49.js"><link rel="prefetch" href="/assets/js/12.639423b6.js"><link rel="prefetch" href="/assets/js/13.43fca55a.js"><link rel="prefetch" href="/assets/js/14.dfbbd45b.js"><link rel="prefetch" href="/assets/js/15.add7b2f5.js"><link rel="prefetch" href="/assets/js/2.790e1198.js"><link rel="prefetch" href="/assets/js/6.82be360f.js"><link rel="prefetch" href="/assets/js/7.9fd7e4f4.js"><link rel="prefetch" href="/assets/js/8.9f29265f.js"><link rel="prefetch" href="/assets/js/9.a783764b.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.176771a4.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e7d1c9fe.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-38547c78><header class="navbar" data-v-38547c78><div class="navbar-content"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/" class="home-link router-link-active"><img src="/logo.png" class="logo"><span class="site-name can-hide">小昱个人网站</span></a><div class="links"><nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">开发者博客</a></div><div class="nav-item"><a href="/articles/" class="nav-link">生活漫谈</a></div><div class="nav-item"><a href="/note/" class="nav-link">阅读札记</a></div><div class="nav-item"><a href="/categories/" class="nav-link router-link-active">学无止境</a></div><div class="nav-item"><a href="/share/" class="nav-link">精品分享</a></div><div class="nav-item"><a href="/favorite/" class="nav-link">收藏夹</a></div><!----></nav><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div></div></div></header><div class="sidebar-mask" data-v-38547c78></div><div class="sidebar" data-v-38547c78><div class="sidebar-container"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">开发者博客</a></div><div class="nav-item"><a href="/articles/" class="nav-link">生活漫谈</a></div><div class="nav-item"><a href="/note/" class="nav-link">阅读札记</a></div><div class="nav-item"><a href="/categories/" class="nav-link router-link-active">学无止境</a></div><div class="nav-item"><a href="/share/" class="nav-link">精品分享</a></div><div class="nav-item"><a href="/favorite/" class="nav-link">收藏夹</a></div><!----></nav><ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>Linux 网络请求</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/categories/os/linux/_pages/Request.html#网络请求" class="sidebar-link">网络请求</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/categories/os/linux/_pages/Request.html#文件下载" class="sidebar-link">文件下载</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/categories/os/linux/_pages/Request.html#断点续传" class="sidebar-link">断点续传</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/categories/os/linux/_pages/Request.html#使用-curl-设置参照页字符串" class="sidebar-link">使用 curl 设置参照页字符串</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/categories/os/linux/_pages/Request.html#用-curl-设置-cookies" class="sidebar-link">用 curl 设置 cookies</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/categories/os/linux/_pages/Request.html#用-curl-设置用户代理字符串" class="sidebar-link">用 curl 设置用户代理字符串</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/categories/os/linux/_pages/Request.html#curl-的带宽控制和下载配额" class="sidebar-link">curl 的带宽控制和下载配额</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/categories/os/linux/_pages/Request.html#用-curl-进行认证" class="sidebar-link">用 curl 进行认证</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/categories/os/linux/_pages/Request.html#只打印响应头部信息" class="sidebar-link">只打印响应头部信息</a><ul class="sidebar-sub-headers"></ul></li></ul></div></li></ul></div></div><div class="page" data-v-38547c78><div class="content default"><h1 id="linux-网络请求"><a href="#linux-网络请求" aria-hidden="true" class="header-anchor">#</a> Linux 网络请求</h1> <p><strong>curl命令</strong> 是一个利用URL规则在命令行下工作的文件传输工具。它支持文件的上传和下载，所以是综合传输工具，但按传统，习惯称curl为下载工具。作为一款强力工具，curl支持包括HTTP、HTTPS、<a href="http://man.linuxde.net/ftp" target="_blank" rel="noopener noreferrer">ftp<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>等众多协议，还支持POST、cookies、认证、从指定偏移处下载部分文件、用户代理字符串、限速、文件大小、进度条等特征。做网页处理流程和数据检索自动化，curl可以祝一臂之力。</p> <h2 id="网络请求"><a href="#网络请求" aria-hidden="true" class="header-anchor">#</a> 网络请求</h2> <p>使用 curl 可以发起网络请求：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">curl</span> https://www.baidu.com
</code></pre></div><p>返回的结果会在控制台中输出。</p> <h2 id="文件下载"><a href="#文件下载" aria-hidden="true" class="header-anchor">#</a> 文件下载</h2> <p>curl 命令可以用来执行下载、发送各种 HTTP 请求，指定 HTTP 头部等操作。如果系统没有curl可以使用 <code>yum install curl</code> 安装，也可以下载安装。curl 是将下载文件输出到 stdout，将进度信息输出到 stderr，不显示进度信息使用 <code>--silent</code> 选项。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">curl</span> URL --silent
</code></pre></div><p>这条命令是将下载文件输出到终端，所有下载的数据都被写入到stdout。</p> <p>使用选项<code>-O</code>将下载的数据写入到文件，必须使用文件的绝对地址：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">curl</span> http://man.linuxde.net/text.iso --silent -O
</code></pre></div><p>选项<code>-o</code>将下载数据写入到指定名称的文件中，并使用 <code>--progress</code> 显示进度条：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">curl</span> http://man.linuxde.net/test.iso -o filename.iso --progress
<span class="token comment">######################################### 100.0%</span>
</code></pre></div><h2 id="断点续传"><a href="#断点续传" aria-hidden="true" class="header-anchor">#</a> 断点续传</h2> <p>curl 能够从特定的文件偏移处继续下载，它可以通过指定一个便宜量来下载部分文件：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">curl</span> URL/File -C 偏移量

<span class="token comment">#偏移量是以字节为单位的整数，如果让curl自动推断出正确的续传位置使用-C -：</span>
<span class="token function">curl</span> -C -URL
</code></pre></div><h2 id="使用-curl-设置参照页字符串"><a href="#使用-curl-设置参照页字符串" aria-hidden="true" class="header-anchor">#</a> 使用 curl 设置参照页字符串</h2> <p>参照页是位于HTTP头部中的一个字符串，用来表示用户是从哪个页面到达当前页面的，如果用户点击网页A中的某个连接，那么用户就会跳转到B网页，网页B头部的参照页字符串就包含网页A的URL。</p> <p>使用<code>--referer</code>选项指定参照页字符串：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">curl</span> --referer http://www.google.com http://man.linuxde.net
</code></pre></div><h2 id="用-curl-设置-cookies"><a href="#用-curl-设置-cookies" aria-hidden="true" class="header-anchor">#</a> 用 curl 设置 cookies</h2> <p>使用<code>--cookie &quot;COKKIES&quot;</code>选项来指定cookie，多个cookie使用分号分隔：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">curl</span> http://man.linuxde.net --cookie <span class="token string">&quot;user=root;pass=123456&quot;</span>
</code></pre></div><p>将cookie另存为一个文件，使用<code>--cookie-jar</code>选项：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">curl</span> URL --cookie-jar cookie_file
</code></pre></div><h2 id="用-curl-设置用户代理字符串"><a href="#用-curl-设置用户代理字符串" aria-hidden="true" class="header-anchor">#</a> 用 curl 设置用户代理字符串</h2> <p>有些网站访问会提示只能使用IE浏览器来访问，这是因为这些网站设置了检查用户代理，可以使用curl把用户代理设置为IE，这样就可以访问了。使用<code>--user-agent</code>或者<code>-A</code>选项：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">curl</span> URL --user-agent <span class="token string">&quot;Mozilla/5.0&quot;</span>
<span class="token function">curl</span> URL -A <span class="token string">&quot;Mozilla/5.0&quot;</span>
</code></pre></div><p>其他HTTP头部信息也可以使用curl来发送，使用<code>-H</code>&quot;头部信息&quot; 传递多个头部信息，例如：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">curl</span> -H <span class="token string">&quot;Host:man.linuxde.net&quot;</span> -H <span class="token string">&quot;accept-language:zh-cn&quot;</span> URL
</code></pre></div><h2 id="curl-的带宽控制和下载配额"><a href="#curl-的带宽控制和下载配额" aria-hidden="true" class="header-anchor">#</a> curl 的带宽控制和下载配额</h2> <p>使用<code>--limit-rate</code>限制curl的下载速度：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">curl</span> URL --limit-rate 50k
</code></pre></div><p>命令中用 k（千字节）和 m（兆字节）指定下载速度限制。</p> <p>使用<code>--max-filesize</code>指定可下载的最大文件大小：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">curl</span> URL --max-filesize bytes
</code></pre></div><p>如果文件大小超出限制，命令则返回一个非0退出码，如果命令正常则返回0。</p> <h2 id="用-curl-进行认证"><a href="#用-curl-进行认证" aria-hidden="true" class="header-anchor">#</a> 用 curl 进行认证</h2> <p>使用curl选项 -u 可以完成HTTP或者FTP的认证，可以指定密码，也可以不指定密码在后续操作中输入密码：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">curl</span> -u user:pwd http://man.linuxde.net
<span class="token function">curl</span> -u user http://man.linuxde.net
</code></pre></div><h2 id="只打印响应头部信息"><a href="#只打印响应头部信息" aria-hidden="true" class="header-anchor">#</a> 只打印响应头部信息</h2> <p>通过<code>-I</code>或者<code>-head</code>可以只打印出HTTP头部信息：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">curl</span> -I http://man.linuxde.net
HTTP/1.1 200 OK
Server: nginx/1.2.5
date: Mon, 10 Dec 2012 09:24:34 GMT
Content-Type: text/html<span class="token punctuation">;</span> charset<span class="token operator">=</span>UTF-8
Connection: keep-alive
Vary: Accept-Encoding
X-Pingback: http://man.linuxde.net/xmlrpc.php
</code></pre></div></div><div class="article-info"><div class="article-title">文档信息</div><p class="article-item">版权声明：著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p><p class="article-item">文章标题：Linux 网络请求</p><p class="article-item">原文链接：<a href="https://www.xiaoyulive.top/categories/os/linux/_pages/Request.html">https://www.xiaoyulive.top/categories/os/linux/_pages/Request.html</a></p><p class="article-item">发表日期：2017-03-16</p></div><!----><!----></div><div class="footers" data-v-38547c78><p data-v-38547c78><span data-v-38547c78>MIT Licensed | Copyright © 2018-present  滇ICP备16006294号</span></p><p data-v-38547c78><span data-v-38547c78>Design by <a href="/">Quanzaiyu</a> | Power by <a href="https://vuepress.vuejs.org/" target="_blank">VuePress</a> | Hosted by <a href="https://pages.coding.me" target="_blank" style="font-weight: bold">Coding Pages</a></span></p></div></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.ea5eb335.js" defer></script><script src="/assets/js/5.48ac5d22.js" defer></script>
  </body>
</html>
