<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>生命周期 - clean | 小昱个人网站</title>
    <meta name="description" content="小昱个人网站">
    <meta http-equiv="Expires" content="Mon,12 May 2050 00:20:00 GMT">
  <link rel="icon" href="/logo.png">
  <link rel="manifest" href="/manifest.json">
  <link rel="stylesheet" href="//at.alicdn.com/t/font_517060_lom78h954w.css">
  <link rel="stylesheet" href="https://img.xiaoyulive.top/css/animate.css">
    
    <link rel="preload" href="/assets/css/0.styles.9c61c892.css" as="style"><link rel="preload" href="/assets/js/app.6d543b11.js" as="script"><link rel="preload" href="/assets/js/5.9e615a5d.js" as="script"><link rel="prefetch" href="/assets/js/1.3530781f.js"><link rel="prefetch" href="/assets/js/10.11dcbe7b.js"><link rel="prefetch" href="/assets/js/11.e1ed45e0.js"><link rel="prefetch" href="/assets/js/12.511b711b.js"><link rel="prefetch" href="/assets/js/13.776b02ff.js"><link rel="prefetch" href="/assets/js/14.9bfac5f2.js"><link rel="prefetch" href="/assets/js/15.70a29f75.js"><link rel="prefetch" href="/assets/js/16.866ebf81.js"><link rel="prefetch" href="/assets/js/2.78c40e8d.js"><link rel="prefetch" href="/assets/js/6.6cfd8194.js"><link rel="prefetch" href="/assets/js/7.4d7e86f5.js"><link rel="prefetch" href="/assets/js/8.af207216.js"><link rel="prefetch" href="/assets/js/9.9ceb6f45.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.28d51d8e.js">
    <link rel="stylesheet" href="/assets/css/0.styles.9c61c892.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-38547c78><header class="navbar" data-v-38547c78><div class="navbar-content"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/" class="home-link router-link-active"><img src="/logo.png" class="logo"><span class="site-name can-hide">小昱个人网站</span></a><div class="links"><nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">开发者博客</a></div><div class="nav-item"><a href="/articles/" class="nav-link">生活漫谈</a></div><div class="nav-item"><a href="/note/" class="nav-link">阅读札记</a></div><div class="nav-item"><a href="/categories/" class="nav-link router-link-active">学无止境</a></div><div class="nav-item"><a href="/share/" class="nav-link">精品分享</a></div><div class="nav-item"><a href="/favorite/" class="nav-link">收藏夹</a></div><!----></nav><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div></div></div></header><div class="sidebar-mask" data-v-38547c78></div><div class="sidebar" data-v-38547c78><div class="sidebar-container"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">开发者博客</a></div><div class="nav-item"><a href="/articles/" class="nav-link">生活漫谈</a></div><div class="nav-item"><a href="/note/" class="nav-link">阅读札记</a></div><div class="nav-item"><a href="/categories/" class="nav-link router-link-active">学无止境</a></div><div class="nav-item"><a href="/share/" class="nav-link">精品分享</a></div><div class="nav-item"><a href="/favorite/" class="nav-link">收藏夹</a></div><!----></nav><ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading open"><span>Maven 使用笔记</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/categories/java/_books/maven/" class="sidebar-link">Maven</a></li><li><a href="/categories/java/_books/maven/Intro.html" class="sidebar-link">简介</a></li><li><a href="/categories/java/_books/maven/Install.html" class="sidebar-link">安装</a></li><li><a href="/categories/java/_books/maven/Settings.html" class="sidebar-link">Maven配置</a></li><li><a href="/categories/java/_books/maven/Create.html" class="sidebar-link">创建项目</a></li><li><a href="/categories/java/_books/maven/Pom.html" class="sidebar-link">Pom文件</a></li><li><a href="/categories/java/_books/maven/Properties.html" class="sidebar-link">项目配置</a></li><li><a href="/categories/java/_books/maven/Command.html" class="sidebar-link">常用命令</a></li><li><a href="/categories/java/_books/maven/Lifecycle.html" class="sidebar-link">构建生命周期</a></li><li><a href="/categories/java/_books/maven/Clean.html" class="active sidebar-link">生命周期 - clean</a></li><li><a href="/categories/java/_books/maven/Build.html" class="sidebar-link">生命周期 - build</a></li><li><a href="/categories/java/_books/maven/Site.html" class="sidebar-link">生命周期 - site</a></li><li><a href="/categories/java/_books/maven/Plugin.html" class="sidebar-link">Maven插件</a></li><li><a href="/categories/java/_books/maven/Reference.html" class="sidebar-link">参考资料</a></li></ul></div></li></ul></div></div><div class="page" data-v-38547c78><div class="content__default"><h1 id="生命周期-clean"><a href="#生命周期-clean" aria-hidden="true" class="header-anchor">#</a> 生命周期 - clean</h1> <p>当我们执行命令 <code>mvn clean</code> 命令后，Maven 调用清洁的生命周期由以下几个阶段组成：</p> <ul><li>pre-clean</li> <li>clean</li> <li>post-clean</li></ul> <p>Maven 清洁目标（clean:clean）被绑定清洁干净的生命周期阶段。<code>clean:clean</code> 目标删除 build 目录下的构建输出。因此，当 mvn clean 命令执行时，Maven会删除编译目录。</p> <p>目标清洁生命周期在上述阶段，我们可以自定义此行为。</p> <p>在下面的示例中，我们将附加 <code>maven-antrun-plugin:run</code> 对目标进行预清洁，清洁和清洁后这三个阶段。这将使我们能够调用的信息显示清理生命周期的各个阶段。</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.maven.plugins<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>maven-antrun-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>executions</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>execution</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>id.pre-clean<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phase</span><span class="token punctuation">&gt;</span></span>pre-clean<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phase</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>goals</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>goal</span><span class="token punctuation">&gt;</span></span>run<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>goal</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>goals</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tasks</span><span class="token punctuation">&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>echo</span><span class="token punctuation">&gt;</span></span>pre-clean phase<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>echo</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tasks</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>execution</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>execution</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>id.clean<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phase</span><span class="token punctuation">&gt;</span></span>clean<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phase</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>goals</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>goal</span><span class="token punctuation">&gt;</span></span>run<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>goal</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>goals</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tasks</span><span class="token punctuation">&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>echo</span><span class="token punctuation">&gt;</span></span>clean phase<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>echo</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tasks</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>execution</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>execution</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>id.post-clean<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phase</span><span class="token punctuation">&gt;</span></span>post-clean<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phase</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>goals</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>goal</span><span class="token punctuation">&gt;</span></span>run<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>goal</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>goals</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tasks</span><span class="token punctuation">&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>echo</span><span class="token punctuation">&gt;</span></span>post-clean phase<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>echo</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tasks</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>execution</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>executions</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>执行 <code>mvn post-clean</code>, Maven将开始处理并显示清理生命周期的所有阶段。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ mvn post-clean
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> Scanning <span class="token keyword">for</span> projects<span class="token punctuation">..</span>.
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span>
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> ----------------------------<span class="token operator">&lt;</span> test:xiaoyu <span class="token operator">&gt;</span>-----------------------------
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> Building xiaoyu 1.0-SNAPSHOT
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> --------------------------------<span class="token punctuation">[</span> jar <span class="token punctuation">]</span>---------------------------------
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span>
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> --- maven-antrun-plugin:1.1:run <span class="token punctuation">(</span>id.pre-clean<span class="token punctuation">)</span> @ xiaoyu ---
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> Executing tasks
     <span class="token punctuation">[</span>echo<span class="token punctuation">]</span> pre-clean phase
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> Executed tasks
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span>
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> --- maven-clean-plugin:2.5:clean <span class="token punctuation">(</span>default-clean<span class="token punctuation">)</span> @ xiaoyu ---
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> Deleting D:\Documents\Test\JavaTest\target
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span>
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> --- maven-antrun-plugin:1.1:run <span class="token punctuation">(</span>id.clean<span class="token punctuation">)</span> @ xiaoyu ---
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> Executing tasks
     <span class="token punctuation">[</span>echo<span class="token punctuation">]</span> clean phase
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> Executed tasks
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span>
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> --- maven-antrun-plugin:1.1:run <span class="token punctuation">(</span>id.post-clean<span class="token punctuation">)</span> @ xiaoyu ---
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> Executing tasks
     <span class="token punctuation">[</span>echo<span class="token punctuation">]</span> post-clean phase
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> Executed tasks
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> ------------------------------------------------------------------------
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> BUILD SUCCESS
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> ------------------------------------------------------------------------
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> Total time:  0.294 s
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> Finished at: 2019-06-04T14:09:01+08:00
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> ------------------------------------------------------------------------
</code></pre></div></div><div class="article-info"><div class="article-title">文档信息</div><p class="article-item">版权声明：著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p><p class="article-item">文章标题：生命周期 - clean</p><p class="article-item">原文链接：<a href="https://www.xiaoyulive.top/categories/java/_books/maven/Clean.html">https://www.xiaoyulive.top/categories/java/_books/maven/Clean.html</a></p><!----></div><!----><div class="content page-nav"><p class="inner"><span class="prev">← <a href="/categories/java/_books/maven/Lifecycle.html">构建生命周期</a></span><span class="next"><a href="/categories/java/_books/maven/Build.html">生命周期 - build</a>  →</span></p></div></div><div class="footers" data-v-38547c78><p data-v-38547c78><span data-v-38547c78>MIT Licensed | Copyright © 2018-present  滇ICP备16006294号</span></p><p data-v-38547c78><span data-v-38547c78>Design by <a href="/">Quanzaiyu</a> | Power by <a href="https://vuepress.vuejs.org/" target="_blank">VuePress</a> | Hosted by <a href="https://pages.coding.me" target="_blank" style="font-weight: bold">Coding Pages</a></span></p></div></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.6d543b11.js" defer></script><script src="/assets/js/5.9e615a5d.js" defer></script>
  </body>
</html>
