<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>流与文件 | 小昱个人网站</title>
    <meta name="description" content="小昱个人网站">
    <meta http-equiv="Expires" content="Mon,12 May 2050 00:20:00 GMT">
  <meta name="keywords" content="小昱,个人网站,Vue,JavaScript,HTML,CSS">
  <link rel="icon" href="/logo.png">
  <link rel="manifest" href="/manifest.json">
  <link rel="stylesheet" href="//at.alicdn.com/t/font_517060_lom78h954w.css">
  <link rel="stylesheet" href="https://img.xiaoyulive.top/css/animate.css">
    
    <link rel="preload" href="/assets/css/0.styles.e2d81a46.css" as="style"><link rel="preload" href="/assets/js/app.cd3015b8.js" as="script"><link rel="preload" href="/assets/js/5.314447d8.js" as="script"><link rel="preload" href="/assets/js/14.1aec49d6.js" as="script"><link rel="prefetch" href="/assets/js/1.9661ddb3.js"><link rel="prefetch" href="/assets/js/10.730e6669.js"><link rel="prefetch" href="/assets/js/11.03a3b555.js"><link rel="prefetch" href="/assets/js/12.dea4259a.js"><link rel="prefetch" href="/assets/js/13.017d0ddc.js"><link rel="prefetch" href="/assets/js/15.54ee861e.js"><link rel="prefetch" href="/assets/js/2.6b7127f7.js"><link rel="prefetch" href="/assets/js/6.398530e5.js"><link rel="prefetch" href="/assets/js/7.b1fc2793.js"><link rel="prefetch" href="/assets/js/8.46eac014.js"><link rel="prefetch" href="/assets/js/9.c4f01555.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.1d9f8a8b.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e2d81a46.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-38547c78><header class="navbar" data-v-38547c78><div class="navbar-content"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/" class="home-link router-link-active"><img src="/logo.png" class="logo"><span class="site-name can-hide">小昱个人网站</span></a><div class="links"><nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">开发者博客</a></div><div class="nav-item"><a href="/articles/" class="nav-link">生活漫谈</a></div><div class="nav-item"><a href="/note/" class="nav-link">阅读札记</a></div><div class="nav-item"><a href="/categories/" class="nav-link router-link-active">学无止境</a></div><div class="nav-item"><a href="/share/" class="nav-link">精品分享</a></div><div class="nav-item"><a href="/favorite/" class="nav-link">收藏夹</a></div><!----></nav><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div></div></div></header><div class="sidebar-mask" data-v-38547c78></div><div class="sidebar" data-v-38547c78><div class="sidebar-container"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">开发者博客</a></div><div class="nav-item"><a href="/articles/" class="nav-link">生活漫谈</a></div><div class="nav-item"><a href="/note/" class="nav-link">阅读札记</a></div><div class="nav-item"><a href="/categories/" class="nav-link router-link-active">学无止境</a></div><div class="nav-item"><a href="/share/" class="nav-link">精品分享</a></div><div class="nav-item"><a href="/favorite/" class="nav-link">收藏夹</a></div><!----></nav><ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading"><span>Java 开发笔记</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>基础</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>数据结构</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>面型对象</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>进阶</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/categories/java/_books/java/advance/Stream.html" class="active sidebar-link">流与文件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/categories/java/_books/java/advance/Stream.html#数据流分类" class="sidebar-link">数据流分类</a></li><li class="sidebar-sub-header"><a href="/categories/java/_books/java/advance/Stream.html#java-io包" class="sidebar-link">Java.io包</a></li><li class="sidebar-sub-header"><a href="/categories/java/_books/java/advance/Stream.html#标准i-o" class="sidebar-link">标准I/O</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/categories/java/_books/java/advance/Stream.html#标准输出流-system-out" class="sidebar-link">标准输出流 System.out</a></li><li class="sidebar-sub-header"><a href="/categories/java/_books/java/advance/Stream.html#标准输入流-system-in" class="sidebar-link">标准输入流 System.in</a></li><li class="sidebar-sub-header"><a href="/categories/java/_books/java/advance/Stream.html#标准错误流" class="sidebar-link">标准错误流</a></li></ul></li><li class="sidebar-sub-header"><a href="/categories/java/_books/java/advance/Stream.html#非流式文件类-file" class="sidebar-link">非流式文件类 File</a></li><li class="sidebar-sub-header"><a href="/categories/java/_books/java/advance/Stream.html#字节流-inputstream-outputstream" class="sidebar-link">字节流 InputStream/OutputStream</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/categories/java/_books/java/advance/Stream.html#inputstream抽象类" class="sidebar-link">InputStream抽象类</a></li><li class="sidebar-sub-header"><a href="/categories/java/_books/java/advance/Stream.html#outputstream抽象类" class="sidebar-link">OutputStream抽象类</a></li></ul></li><li class="sidebar-sub-header"><a href="/categories/java/_books/java/advance/Stream.html#字符流-writer-reader" class="sidebar-link">字符流 Writer/Reader</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/categories/java/_books/java/advance/Stream.html#reader抽象类" class="sidebar-link">Reader抽象类</a></li><li class="sidebar-sub-header"><a href="/categories/java/_books/java/advance/Stream.html#writer抽象类" class="sidebar-link">Writer抽象类</a></li></ul></li><li class="sidebar-sub-header"><a href="/categories/java/_books/java/advance/Stream.html#缓冲输入输出流-bufferedinputstream-bufferedoutputstream" class="sidebar-link">缓冲输入输出流 BufferedInputStream/BufferedOutputStream</a></li><li class="sidebar-sub-header"><a href="/categories/java/_books/java/advance/Stream.html#实例" class="sidebar-link">实例</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/categories/java/_books/java/advance/Stream.html#从控制台获取字符输入" class="sidebar-link">从控制台获取字符输入</a></li><li class="sidebar-sub-header"><a href="/categories/java/_books/java/advance/Stream.html#从控制台获取整行输入" class="sidebar-link">从控制台获取整行输入</a></li><li class="sidebar-sub-header"><a href="/categories/java/_books/java/advance/Stream.html#读写文件" class="sidebar-link">读写文件</a></li><li class="sidebar-sub-header"><a href="/categories/java/_books/java/advance/Stream.html#列出文件及文件夹" class="sidebar-link">列出文件及文件夹</a></li><li class="sidebar-sub-header"><a href="/categories/java/_books/java/advance/Stream.html#创建文件夹" class="sidebar-link">创建文件夹</a></li><li class="sidebar-sub-header"><a href="/categories/java/_books/java/advance/Stream.html#递归删除文件-夹" class="sidebar-link">递归删除文件(夹)</a></li></ul></li></ul></li><li><a href="/categories/java/_books/java/advance/Generics.html" class="sidebar-link">泛型</a></li><li><a href="/categories/java/_books/java/advance/Reflect.html" class="sidebar-link">反射</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>多线程</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>常用模块</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>设计模式</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>其他</span> <span class="arrow right"></span></p> <!----></div></li></ul></div></div><div class="page" data-v-38547c78><div class="content__default"><h1 id="流与文件"><a href="#流与文件" aria-hidden="true" class="header-anchor">#</a> 流与文件</h1> <p>Java.io 包几乎包含了所有操作输入、输出需要的类。所有这些流类代表了输入源和输出目标。</p> <p>Java.io 包中的流支持很多种格式，比如：基本类型、对象、本地化字符集等等。</p> <p>一个流可以理解为一个数据的序列。输入流表示从一个源读取数据，输出流表示向一个目标写数据。</p> <p>Java 为 I/O 提供了强大的而灵活的支持，使其更广泛地应用到文件传输和网络编程中。</p> <p>标准输入输出，文件的操作，网络上的数据流，字符串流，对象流，zip文件流等等，java中将输入输出抽象称为流，就好像水管，将两个容器连接起来。将数据从外存中读取到内存中的称为输入流，将数据从内存写入外存中的称为输出流。</p> <div class="imgLink" data-v-16222526><img src="https://img.xiaoyulive.top/img/date/20190601/003.jpg" data-v-16222526></div> <ul><li>数据流：一组有序，有起点和终点的字节的数据序列。包括输入流和输出流。</li> <li>输入流(Input Stream)：程序从输入流读取数据源。数据源包括外界(键盘、文件、网络…)，即是将数据源读入到程序的通信通道</li> <li>输出流(Output Stream)：程序向输出流写入数据。将程序中的数据输出到外界（显示器、打印机、文件、网络…）的通信通道。</li></ul> <p>采用数据流的目的就是使得输出输入独立于设备。</p> <ul><li>Input Stream不关心数据源来自何种设备（键盘，文件，网络）</li> <li>Output Stream不关心数据的目的是何种设备（显示器、打印机、文件、网络…）</li></ul> <h2 id="数据流分类"><a href="#数据流分类" aria-hidden="true" class="header-anchor">#</a> 数据流分类</h2> <p>流序列中的数据既可以是未经加工的原始二进制数据，也可以是经一定编码处理后符合某种格式规定的特定数据。因此Java中的流分为两种：</p> <ul><li>字节流：数据流中最小的数据单元是字节</li> <li>字符流：数据流中最小的数据单元是字符，Java中的字符是Unicode编码，一个字符占用两个字节。</li></ul> <p>流是一个很形象的概念，当程序需要读取数据的时候，就会开启一个通向数据源的流，这个数据源可以是文件，内存，或是网络连接。类似的，当程序需要写入数据的时候，就会开启一个通向目的地的流。</p> <h2 id="java-io包"><a href="#java-io包" aria-hidden="true" class="header-anchor">#</a> Java.io包</h2> <p>在整个Java.io包中最重要的就是5个类和一个接口。5个类指的是File、OutputStream、InputStream、Writer、Reader；一个接口指的是Serializable。</p> <p>Java I/O主要包括如下几个层次，包含三个部分：</p> <ol><li>流式部分 ―― IO的主体部分；</li> <li>非流式部分 ―― 主要包含一些辅助流式部分的类，如：File类、RandomAccessFile类和FileDescriptor等类；</li> <li>其他类 ―― 文件读取部分的与安全相关的类，如：SerializablePermission类，以及与本地操作系统相关的文件系统的类，如：FileSystem类和Win32FileSystem类和WinNTFileSystem类。</li></ol> <p>主要的类如下：</p> <ol><li>File（文件特征与管理）：用于文件或者目录的描述信息，例如生成新目录，修改文件名，删除文件，判断文件所在路径等。</li> <li>InputStream（二进制格式操作）：抽象类，基于字节的输入操作，是所有输入流的父类。定义了所有输入流都具有的共同特征。</li> <li>OutputStream（二进制格式操作）：抽象类，基于字节的输出操作，是所有输出流的父类。定义了所有输出流都具有的共同特征。</li> <li>Reader（文件格式操作）：抽象类，基于字符的输入操作。</li> <li>Writer（文件格式操作）：抽象类，基于字符的输出操作。</li> <li>RandomAccessFile（随机文件操作）：它的功能丰富，可以从文件的任意位置进行存取（输入输出）操作。</li></ol> <p>Java中字符是采用Unicode标准，一个字符是16位，即一个字符使用两个字节来表示。为此，JAVA中引入了处理字符的流。</p> <p>Java中IO流的体系结构如图：</p> <div class="imgLink" data-v-16222526><img src="https://img.xiaoyulive.top/img/date/20190601/004.jpg" data-v-16222526></div> <table><thead><tr><th>输入/输出</th> <th>字节流</th> <th>字符流</th></tr></thead> <tbody><tr><td>输入流</td> <td>Inputstream</td> <td>Reader</td></tr> <tr><td>输出流</td> <td>OutputStream</td> <td>Writer</td></tr></tbody></table> <div class="imgLink" data-v-16222526><img src="https://img.xiaoyulive.top/img/date/20190601/005.png" data-v-16222526></div> <h2 id="标准i-o"><a href="#标准i-o" aria-hidden="true" class="header-anchor">#</a> 标准I/O</h2> <p>Java程序可通过命令行参数与外界进行简短的信息交换，同时，也规定了与标准输入、输出设备，如键盘、显示器进行信息交换的方式。而通过文件可以与外界进行任意数据形式的信息交换。</p> <h3 id="标准输出流-system-out"><a href="#标准输出流-system-out" aria-hidden="true" class="header-anchor">#</a> 标准输出流 System.out</h3> <p><code>System.out</code> 向标准输出设备输出数据，其数据类型为PrintStream。方法：</p> <ul><li>Void print()</li> <li>Void println()</li></ul> <h3 id="标准输入流-system-in"><a href="#标准输入流-system-in" aria-hidden="true" class="header-anchor">#</a> 标准输入流 System.in</h3> <p><code>System.in</code> 读取标准输入设备数据（从标准输入获取数据，一般是键盘），其数据类型为InputStream。方法：</p> <ul><li>int read()  // 返回ASCII码。若返回值为-1，说明没有读取到任何字节，读取工作结束。</li> <li>int read(byte[] b) // 读入多个字节到缓冲区b中，返回值是读入的字节数。</li></ul> <h3 id="标准错误流"><a href="#标准错误流" aria-hidden="true" class="header-anchor">#</a> 标准错误流</h3> <p><code>System.err</code> 输出标准错误，其数据类型为 <code>PrintStream</code>。</p> <h2 id="非流式文件类-file"><a href="#非流式文件类-file" aria-hidden="true" class="header-anchor">#</a> 非流式文件类 File</h2> <p>在Java语言的java.io包中，由File类提供了描述文件和目录的操作与管理方法。但File类不是InputStream、OutputStream或Reader、Writer的子类，因为它不负责数据的输入输出，而专门用来管理磁盘文件与目录。</p> <p>作用：File类主要用于命名文件、查询文件属性和处理文件目录。</p> <p>构造函数:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">File</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span> <span class="token keyword">implements</span> <span class="token class-name">Serializable</span><span class="token punctuation">,</span><span class="token class-name">Comparable</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token class-name">String</span> pathname<span class="token punctuation">)</span>
  <span class="token keyword">public</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token class-name">String</span> parent<span class="token punctuation">,</span> <span class="token class-name">String</span> child<span class="token punctuation">)</span>
  <span class="token keyword">public</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token class-name">File</span> parent<span class="token punctuation">,</span> <span class="token class-name">String</span> child<span class="token punctuation">)</span>
  <span class="token keyword">public</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token class-name">URI</span> uri<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>常用方法:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">mkdirs</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 创建目录</span>
<span class="token keyword">public</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 列出文件及文件夹</span>
<span class="token keyword">public</span> <span class="token class-name">File</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">listFiles</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 列出文件</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">File</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">listRoots</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">exists</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 文件(夹)是否存在</span>

<span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">renameTo</span><span class="token punctuation">(</span><span class="token class-name">File</span> dest<span class="token punctuation">)</span> <span class="token comment">// 重命名</span>
<span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">delete</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 删除</span>

<span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isDirectory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 是否是目录</span>
<span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 是否是文件</span>
<span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isHidden</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 是否隐藏</span>
<span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">canExecute</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 是否可执行</span>

<span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">setReadOnly</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 设为只读</span>
<span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">setWritable</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> writable<span class="token punctuation">)</span> <span class="token comment">// 设置可写性</span>
<span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">setReadable</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> readable<span class="token punctuation">)</span> <span class="token comment">// 设置可读性</span>
<span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">setExecutable</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> executable<span class="token punctuation">)</span> <span class="token comment">// 设置是否可执行</span>

<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getParent</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">long</span> <span class="token function">getTotalSpace</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">long</span> <span class="token function">getFreeSpace</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">long</span> <span class="token function">getUsableSpace</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="字节流-inputstream-outputstream"><a href="#字节流-inputstream-outputstream" aria-hidden="true" class="header-anchor">#</a> 字节流 InputStream/OutputStream</h2> <h3 id="inputstream抽象类"><a href="#inputstream抽象类" aria-hidden="true" class="header-anchor">#</a> InputStream抽象类</h3> <p>InputStream 为字节输入流，它本身为一个抽象类，必须依靠其子类实现各种功能，此抽象类是表示字节输入流的所有类的超类。 继承自InputStream的流都是向程序中输入数据的，且数据单位为字节（8bit）；</p> <p>InputStream是输入字节数据用的类，所以InputStream类提供了3种重载的read方法</p> <p>常用的方法:</p> <ul><li><strong>public int read()</strong> 读取一个byte的数据，返回值是高位补0的int类型值。若返回值=-1说明没有读取到任何字节读取工作结束。</li> <li><strong>public int read(byte b[])</strong> 读取b.length个字节的数据放到b数组中。返回值是读取的字节数。该方法实际上是调用下一个方法实现的。</li> <li><strong>public int read(byte b[], int off, int len)</strong> 从输入流中最多读取len个字节的数据，存放到偏移量为off的b数组中。</li> <li><strong>public int available()</strong> 返回输入流中可以读取的字节数。注意：若输入阻塞，当前线程将被挂起，如果InputStream对象调用这个方法的话，它只会返回0，这个方法必须由继承InputStream类的子类对象调用才有用。</li> <li><strong>public long skip(long n)</strong> 忽略输入流中的n个字节，返回值是实际忽略的字节数, 跳过一些字节来读取 。</li> <li><strong>public int close()</strong>  我们在使用完后，必须对我们打开的流进行关闭。</li></ul> <p>主要的子类:</p> <ul><li><strong>FileInputStream</strong> 把一个文件作为InputStream，实现对文件的读取操作；</li> <li><strong>ByteArrayInputStream</strong> 把内存中的一个缓冲区作为InputStream使用；</li> <li><strong>PipedInputStream</strong> 实现了pipe的概念，主要在线程中使用；</li> <li><strong>SequenceInputStream</strong> 把多个InputStream合并为一个InputStream 。</li></ul> <h3 id="outputstream抽象类"><a href="#outputstream抽象类" aria-hidden="true" class="header-anchor">#</a> OutputStream抽象类</h3> <p>OutputStream提供了3个write方法来做数据的输出，这个是和InputStream是相对应的。</p> <p>常用的方法:</p> <ul><li><strong>public void write(byte b[])</strong> 将参数b中的字节写到输出流。</li> <li><strong>public void write(byte b[], int off, int len)</strong> 将参数b的从偏移量off开始的len个字节写到输出流。</li> <li><strong>public void write(int b)</strong> 先将int转换为byte类型，把低字节写入到输出流中。</li> <li><strong>public void flush()</strong> 将数据缓冲区中数据全部输出，并清空缓冲区。</li> <li><strong>public void close()</strong> 关闭输出流并释放与流相关的系统资源。</li></ul> <p>主要的子类：</p> <ul><li><strong>FileOutputStream</strong> 把信息存入文件中</li> <li><strong>ByteArrayOutputStream</strong> 把信息存入内存中的一个缓冲区中</li> <li><strong>PipedOutputStream</strong> 实现了pipe的概念，主要在线程中使用</li></ul> <p>流结束的判断：方法read()的返回值为-1时；readLine()的返回值为null时。</p> <h2 id="字符流-writer-reader"><a href="#字符流-writer-reader" aria-hidden="true" class="header-anchor">#</a> 字符流 Writer/Reader</h2> <p>Java中字符是采用Unicode标准，一个字符是16位，即一个字符使用两个字节来表示。为此，JAVA中引入了处理字符的流。</p> <h3 id="reader抽象类"><a href="#reader抽象类" aria-hidden="true" class="header-anchor">#</a> Reader抽象类</h3> <p>用于读取字符流的抽象类。子类必须实现的方法只有 <code>read(char[], int, int)</code> 和 <code>close()</code>。但是，多数子类将重写此处定义的一些方法，以提供更高的效率和/或其他功能。其子类如下:</p> <p>常用方法:</p> <ul><li><strong>public int read() throws IOException</strong> 读取一个字符，返回值为读取的字符</li> <li><strong>public int read(char cbuf[]) throws IOException</strong> 读取一系列字符到数组cbuf[]中，返回值为实际读取的字符的数量</li> <li><strong>public int read(char cbuf[],int off,int len) throws IOException</strong> 读取len个字符，从数组cbuf[]的下标off处开始存放，返回值为实际读取的字符数量，该方法必须由子类实现</li></ul> <p>主要的子类：</p> <ul><li><strong>FileReader</strong> 与FileInputStream对应</li> <li><strong>CharArrayReader</strong> 与ByteArrayInputStream对应</li> <li><strong>InputStreamReader</strong> 从输入流读取字节，在将它们转换成字符</li> <li><strong>FilterReader</strong> 允许过滤字符流</li> <li><strong>StringReader</strong> 与StringBufferInputStream对应, 读取字符串</li></ul> <h4 id="filereader"><a href="#filereader" aria-hidden="true" class="header-anchor">#</a> FileReader</h4> <p>与FileInputStream对应，主要用来读取字符文件，使用缺省的字符编码，有三种构造函数：</p> <ol><li>将文件名作为字符串</li></ol> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">FileReader</span> f <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span><span class="token string">&quot;c:/temp.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="2"><li>构造函数将File对象作为其参数。</li></ol> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">File</span> f <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">file</span><span class="token punctuation">(</span><span class="token string">&quot;c:/temp.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">FileReader</span> f1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="3"><li>构造函数将FileDescriptor对象作为参数</li></ol> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">FileDescriptor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> fd <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileDescriptor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">FileReader</span> f2<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span>fd<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="chararrayreader"><a href="#chararrayreader" aria-hidden="true" class="header-anchor">#</a> CharArrayReader</h4> <p>与ByteArrayInputStream对应, 构造函数有：</p> <ol><li>用指定字符数组作为参数</li></ol> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">CharArrayReader</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><ol start="2"><li>将字符数组作为输入流</li></ol> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">CharArrayReader</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="writer抽象类"><a href="#writer抽象类" aria-hidden="true" class="header-anchor">#</a> Writer抽象类</h3> <p>写入字符流的抽象类。子类必须实现的方法仅有 <code>write(char[], int, int)</code>、<code>flush()</code> 和 <code>close()</code>。但是，多数子类将重写此处定义的一些方法，以提供更高的效率和/或其他功能。 其子类如下：</p> <p>常用方法:</p> <ul><li><strong>public void write(int c) throws IOException</strong> 将整型值c的低16位写入输出流</li> <li><strong>public void write(char cbuf[]) throws IOException</strong> 将字符数组cbuf[]写入输出流</li> <li><strong>public abstract void write(char cbuf[],int off,int len) throws IOException</strong> 将字符数组cbuf[]中的从索引为off的位置处开始的len个字符写入输出流</li> <li><strong>public void write(String str) throws IOException</strong> 将字符串str中的字符写入输出流</li> <li><strong>public void write(String str,int off,int len) throws IOException</strong> 将字符串str 中从索引off开始处的len个字符写入输出流</li> <li><strong>public void flush() throws IOException</strong> 刷空输出流，并输出所有被缓存的字节</li> <li><strong>public abstract void close() throws IOException</strong> 关闭流</li></ul> <p>主要的子类：</p> <ul><li><strong>FileWriter</strong> 与FileOutputStream对应, 将字符类型数据写入文件，使用缺省字符编码和缓冲器大小。</li> <li><strong>CharArrayWriter</strong> 与ByteArrayOutputStream对应, 将字符缓冲器用作输出。</li> <li><strong>PrintWriter</strong> 生成格式化输出</li> <li><strong>FilterWriter</strong> 用于写入过滤字符流</li> <li><strong>PipedWriter</strong> 与PipedOutputStream对应</li> <li><strong>StringWriter</strong> 无与之对应的以字节为导向的stream</li></ul> <h2 id="缓冲输入输出流-bufferedinputstream-bufferedoutputstream"><a href="#缓冲输入输出流-bufferedinputstream-bufferedoutputstream" aria-hidden="true" class="header-anchor">#</a> 缓冲输入输出流 BufferedInputStream/BufferedOutputStream</h2> <p>计算机访问外部设备非常耗时。访问外存的频率越高，造成CPU闲置的概率就越大。为了减少访问外存的次数，应该在一次对外设的访问中，读写更多的数据。为此，除了程序和流节点间交换数据必需的读写机制外，还应该增加缓冲机制。缓冲流就是每一个数据流分配一个缓冲区，一个缓冲区就是一个临时存储数据的内存。这样可以减少访问硬盘的次数,提高传输效率。</p> <ul><li><strong>BufferedInputStream</strong> 当向缓冲流写入数据时候，数据先写到缓冲区，待缓冲区写满后，系统一次性将数据发送给输出设备。</li> <li><strong>BufferedOutputStream</strong> 当从向缓冲流读取数据时候，系统先从缓冲区读出数据，待缓冲区为空时，系统再从输入设备读取数据到缓冲区。</li></ul> <p>1）将文件读入内存</p> <p>将BufferedInputStream与FileInputStream相接</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">FileInputStream</span> in <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;file1.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">BufferedInputStream</span> bin <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedInputStream</span><span class="token punctuation">(</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>2）将内存写入文件</p> <p>将BufferedOutputStream与FileOutputStream相接</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">FileOutputStream</span> out <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">&quot;file1.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">BufferedOutputStream</span> bout <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedOutputStream</span><span class="token punctuation">(</span>out<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>3）键盘输入流读到内存</p> <p>将BufferedReader与标准的数据流相接</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">InputStreamReader</span> sin <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">InputStreamReader</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span> ；
<span class="token class-name">BufferedReader</span> bin <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedReader</span><span class="token punctuation">(</span>sin<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="实例"><a href="#实例" aria-hidden="true" class="header-anchor">#</a> 实例</h2> <h3 id="从控制台获取字符输入"><a href="#从控制台获取字符输入" aria-hidden="true" class="header-anchor">#</a> 从控制台获取字符输入</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token keyword">char</span> c<span class="token punctuation">;</span>
    <span class="token comment">// 使用 System.in 创建 BufferedReader</span>
    <span class="token class-name">BufferedReader</span> br <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedReader</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">InputStreamReader</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;输入字符, 按下 'q' 键退出。&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 读取字符</span>
    <span class="token keyword">do</span> <span class="token punctuation">{</span>
        c <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span> br<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">while</span> <span class="token punctuation">(</span>c <span class="token operator">!=</span> <span class="token string">'q'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="imgLink" data-v-16222526><img src="https://img.xiaoyulive.top/img/date/20190601/011.png" data-v-16222526></div> <h3 id="从控制台获取整行输入"><a href="#从控制台获取整行输入" aria-hidden="true" class="header-anchor">#</a> 从控制台获取整行输入</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token comment">// 使用 System.in 创建 BufferedReader</span>
    <span class="token class-name">BufferedReader</span> br <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedReader</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">InputStreamReader</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> str<span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Enter lines of text.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Enter 'end' to quit.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">do</span> <span class="token punctuation">{</span>
        str <span class="token operator">=</span> br<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>str<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;end&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="imgLink" data-v-16222526><img src="https://img.xiaoyulive.top/img/date/20190601/010.png" data-v-16222526></div> <h3 id="读写文件"><a href="#读写文件" aria-hidden="true" class="header-anchor">#</a> 读写文件</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token comment">// 构建FileOutputStream对象,文件不存在会自动新建</span>
    <span class="token class-name">File</span> f <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;a.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">FileOutputStream</span> fop <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 构建OutputStreamWriter对象,参数可以指定编码,默认为操作系统默认编码,windows上是gbk</span>
    <span class="token class-name">OutputStreamWriter</span> writer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OutputStreamWriter</span><span class="token punctuation">(</span>fop<span class="token punctuation">,</span> <span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 写入到缓冲区</span>
    writer<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;中文输入&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    writer<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;\r\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    writer<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;English&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 刷新缓存冲,写入到文件,如果下面已经没有写入的内容了,直接close也会写入</span>
    writer<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 关闭写入流,同时会把缓冲区内容写入文件,所以上面的flush可以注释掉</span>
    writer<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 关闭输出流,释放系统资源</span>
    fop<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 构建FileInputStream对象</span>
    <span class="token class-name">FileInputStream</span> fip <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 构建InputStreamReader对象, 编码与写入相同</span>
    <span class="token class-name">InputStreamReader</span> reader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">InputStreamReader</span><span class="token punctuation">(</span>fip<span class="token punctuation">,</span> <span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuffer</span> sb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuffer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>reader<span class="token punctuation">.</span><span class="token function">ready</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 转成char加到StringBuffer对象中</span>
        sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span>reader<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sb<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 关闭读取流</span>
    reader<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 关闭输入流,释放系统资源</span>
    fip<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="列出文件及文件夹"><a href="#列出文件及文件夹" aria-hidden="true" class="header-anchor">#</a> 列出文件及文件夹</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span> args<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> dirname <span class="token operator">=</span> <span class="token string">&quot;d:/&quot;</span><span class="token punctuation">;</span>
    <span class="token class-name">File</span> f1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span>dirname<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>f1<span class="token punctuation">.</span><span class="token function">isDirectory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;目录 &quot;</span> <span class="token operator">+</span> dirname<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> s<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> f1<span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> s<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">File</span> f <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span>dirname <span class="token operator">+</span> <span class="token string">&quot;/&quot;</span> <span class="token operator">+</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>f<span class="token punctuation">.</span><span class="token function">isDirectory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot; 是一个目录&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot; 是一个文件&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>dirname <span class="token operator">+</span> <span class="token string">&quot; 不是一个目录&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="创建文件夹"><a href="#创建文件夹" aria-hidden="true" class="header-anchor">#</a> 创建文件夹</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">String</span> dirname <span class="token operator">=</span> <span class="token string">&quot;d:/tmp/log&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">File</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span>dirname<span class="token punctuation">)</span><span class="token punctuation">;</span>
d<span class="token punctuation">.</span><span class="token function">mkdirs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="递归删除文件-夹"><a href="#递归删除文件-夹" aria-hidden="true" class="header-anchor">#</a> 递归删除文件(夹)</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span> args<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">File</span> folder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;d:/tmp&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">deleteFolder</span><span class="token punctuation">(</span>folder<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 删除文件及目录</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">deleteFolder</span><span class="token punctuation">(</span><span class="token class-name">File</span> folder<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">File</span><span class="token punctuation">[</span><span class="token punctuation">]</span> files <span class="token operator">=</span> folder<span class="token punctuation">.</span><span class="token function">listFiles</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>files <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">File</span> f <span class="token operator">:</span> files<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>f<span class="token punctuation">.</span><span class="token function">isDirectory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">deleteFolder</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                f<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    folder<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></div><div class="article-info"><div class="article-title">文档信息</div><p class="article-item">版权声明：著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p><p class="article-item">文章标题：流与文件</p><p class="article-item">原文链接：<a href="https://www.xiaoyulive.top/categories/java/_books/java/advance/Stream.html">https://www.xiaoyulive.top/categories/java/_books/java/advance/Stream.html</a></p><!----></div><!----><div class="content page-nav"><p class="inner"><span class="prev">← <a href="/categories/java/_books/java/oo/Package.html">包</a></span><span class="next"><a href="/categories/java/_books/java/advance/Generics.html">泛型</a>  →</span></p></div></div><div class="footers" data-v-38547c78><p data-v-38547c78><span data-v-38547c78>MIT Licensed | Copyright © 2018-present  滇ICP备16006294号</span></p><p data-v-38547c78><span data-v-38547c78>Design by <a href="/">Quanzaiyu</a> | Power by <a href="https://vuepress.vuejs.org/" target="_blank">VuePress</a> | Hosted by <a href="https://pages.coding.me" target="_blank" style="font-weight: bold">Coding Pages</a></span></p></div></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.cd3015b8.js" defer></script><script src="/assets/js/5.314447d8.js" defer></script><script src="/assets/js/14.1aec49d6.js" defer></script>
  </body>
</html>
