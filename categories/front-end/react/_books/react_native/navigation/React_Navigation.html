<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>React Nagivation | 小昱个人网站</title>
    <meta name="description" content="小昱个人网站">
    <meta http-equiv="Expires" content="Mon,12 May 2050 00:20:00 GMT">
  <meta name="keywords" content="小昱,个人网站,Vue,JavaScript,HTML,CSS">
  <link rel="icon" href="/logo.png">
  <link rel="manifest" href="/manifest.json">
  <link rel="stylesheet" href="//at.alicdn.com/t/font_517060_lom78h954w.css">
  <link rel="stylesheet" href="https://img.xiaoyulive.top/css/animate.css">
    
    <link rel="preload" href="/assets/css/0.styles.e2d81a46.css" as="style"><link rel="preload" href="/assets/js/app.1dd1eb39.js" as="script"><link rel="preload" href="/assets/js/5.b2d88b04.js" as="script"><link rel="prefetch" href="/assets/js/1.eaa33edf.js"><link rel="prefetch" href="/assets/js/10.38acf979.js"><link rel="prefetch" href="/assets/js/11.fc2d78c1.js"><link rel="prefetch" href="/assets/js/12.127174aa.js"><link rel="prefetch" href="/assets/js/13.9facbb15.js"><link rel="prefetch" href="/assets/js/14.09023cd3.js"><link rel="prefetch" href="/assets/js/15.5e3bfa95.js"><link rel="prefetch" href="/assets/js/2.8690f1f9.js"><link rel="prefetch" href="/assets/js/6.9cfaa079.js"><link rel="prefetch" href="/assets/js/7.12d7389a.js"><link rel="prefetch" href="/assets/js/8.2a2bed59.js"><link rel="prefetch" href="/assets/js/9.38d16243.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.9ca4b8ed.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e2d81a46.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-38547c78><header class="navbar" data-v-38547c78><div class="navbar-content"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/" class="home-link router-link-active"><img src="/logo.png" class="logo"><span class="site-name can-hide">小昱个人网站</span></a><div class="links"><nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">开发者博客</a></div><div class="nav-item"><a href="/articles/" class="nav-link">生活漫谈</a></div><div class="nav-item"><a href="/note/" class="nav-link">阅读札记</a></div><div class="nav-item"><a href="/categories/" class="nav-link router-link-active">学无止境</a></div><div class="nav-item"><a href="/share/" class="nav-link">精品分享</a></div><div class="nav-item"><a href="/favorite/" class="nav-link">收藏夹</a></div><!----></nav><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div></div></div></header><div class="sidebar-mask" data-v-38547c78></div><div class="sidebar" data-v-38547c78><div class="sidebar-container"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">开发者博客</a></div><div class="nav-item"><a href="/articles/" class="nav-link">生活漫谈</a></div><div class="nav-item"><a href="/note/" class="nav-link">阅读札记</a></div><div class="nav-item"><a href="/categories/" class="nav-link router-link-active">学无止境</a></div><div class="nav-item"><a href="/share/" class="nav-link">精品分享</a></div><div class="nav-item"><a href="/favorite/" class="nav-link">收藏夹</a></div><!----></nav><ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading"><span>React Native</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>基础</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>核心组件</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>扩展组件</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>接口</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>导航器</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/categories/front-end/react/_books/react_native/navigation/React_Navigation.html" class="active sidebar-link">React Nagivation</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/categories/front-end/react/_books/react_native/navigation/React_Navigation.html#android-环境配置" class="sidebar-link">Android 环境配置</a></li><li class="sidebar-sub-header"><a href="/categories/front-end/react/_books/react_native/navigation/React_Navigation.html#navigation-导航器分类" class="sidebar-link">Navigation 导航器分类</a></li><li class="sidebar-sub-header"><a href="/categories/front-end/react/_books/react_native/navigation/React_Navigation.html#导航方法" class="sidebar-link">导航方法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/categories/front-end/react/_books/react_native/navigation/React_Navigation.html#stacknavigator的navigation的额外方法" class="sidebar-link">StackNavigator的navigation的额外方法</a></li><li class="sidebar-sub-header"><a href="/categories/front-end/react/_books/react_native/navigation/React_Navigation.html#使用navigate进行界面之间的跳转" class="sidebar-link">使用navigate进行界面之间的跳转</a></li><li class="sidebar-sub-header"><a href="/categories/front-end/react/_books/react_native/navigation/React_Navigation.html#使用-state-params" class="sidebar-link">使用 state.params</a></li><li class="sidebar-sub-header"><a href="/categories/front-end/react/_books/react_native/navigation/React_Navigation.html#使用-setparams-改变路由参数" class="sidebar-link">使用 setParams 改变路由参数</a></li></ul></li><li class="sidebar-sub-header"><a href="/categories/front-end/react/_books/react_native/navigation/React_Navigation.html#路由参数" class="sidebar-link">路由参数</a></li><li class="sidebar-sub-header"><a href="/categories/front-end/react/_books/react_native/navigation/React_Navigation.html#简单使用" class="sidebar-link">简单使用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/categories/front-end/react/_books/react_native/navigation/React_Navigation.html#修改-index-js" class="sidebar-link">修改 index.js</a></li><li class="sidebar-sub-header"><a href="/categories/front-end/react/_books/react_native/navigation/React_Navigation.html#修改-app-js（推荐）" class="sidebar-link">修改 App.js（推荐）</a></li></ul></li></ul></li><li><a href="/categories/front-end/react/_books/react_native/navigation/CreateStackNavigator.html" class="sidebar-link">栈导航</a></li><li><a href="/categories/front-end/react/_books/react_native/navigation/CreateBottomTabNavigator.html" class="sidebar-link">底部导航</a></li><li><a href="/categories/front-end/react/_books/react_native/navigation/CreateMaterialTopTabNavigator.html" class="sidebar-link">顶部导航</a></li><li><a href="/categories/front-end/react/_books/react_native/navigation/CreateDrawerNavigator.html" class="sidebar-link">抽屉导航</a></li><li><a href="/categories/front-end/react/_books/react_native/navigation/Redux.html" class="sidebar-link">集成 Redux</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>其他</span> <span class="arrow right"></span></p> <!----></div></li></ul></div></div><div class="page" data-v-38547c78><div class="content__default"><h1 id="react-nagivation"><a href="#react-nagivation" aria-hidden="true" class="header-anchor">#</a> React Nagivation</h1> <p>移动应用基本不会只由一个页面组成。管理多个页面的呈现、跳转的组件就是我们通常所说的导航器（navigator）。</p> <p>社区今后主推的方案是一个单独的导航库<a href="https://reactnavigation.org/" target="_blank" rel="noopener noreferrer">react-navigation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，它的使用十分简单。React Navigation 中的视图是原生组件，同时用到了运行在原生线程上的Animated动画库，因而性能表现十分流畅。此外其动画形式和手势都非常便于定制。</p> <ul><li><a href="https://reactnavigation.org/" target="_blank" rel="noopener noreferrer">react-nagivation 官网<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://wix.github.io/react-native-navigation/" target="_blank" rel="noopener noreferrer">react-native-navigation 官网<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://kmagiera.github.io/react-native-gesture-handler/" target="_blank" rel="noopener noreferrer">react-native-gesture-handler 官网<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <p>安装react-nagivation</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">yarn</span> <span class="token function">add</span> react-navigation
$ <span class="token function">yarn</span> <span class="token function">add</span> react-native-gesture-handler
$ react-native <span class="token function">link</span> react-native-gesture-handler
</code></pre></div><p>如果是 iOS 不需要额外的配置, Android 的话如果不使用 link 自动链接请继续往下。</p> <p>本文使用的版本是：</p> <div class="language- extra-class"><pre class="language-text"><code>&quot;react-navigation&quot;: &quot;^3.3.0&quot;,
</code></pre></div><h2 id="android-环境配置"><a href="#android-环境配置" aria-hidden="true" class="header-anchor">#</a> Android 环境配置</h2> <ol><li>修改 <code>android/settings.gradle</code></li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code>rootProject.name = 'reactNativeTest'

<span class="token inserted">+ include ':react-native-gesture-handler'</span>
<span class="token inserted">+ project(':react-native-gesture-handler').projectDir = new File(rootProject.projectDir, '../node_modules/react-native-gesture-handler/android')</span>

<span class="token inserted">+ include ':react-native-navigation'</span>
<span class="token inserted">+ project(':react-native-navigation').projectDir = new File(rootProject.projectDir, '../node_modules/react-native-navigation/android/app/')</span>

include ':app'
</code></pre></div><p>注意, link 后会自动生成 'react-native-gesture-handler' 依赖的语句, 但引入的路径可能不对, 需要将 <code>\</code> 改为 <code>/</code></p> <ol start="2"><li>修改 <code>android/app/build.gradle</code></li></ol> <div class="language- extra-class"><pre class="language-text"><code>dependencies {
  implementation project(':react-native-gesture-handler')
}
</code></pre></div><ol start="3"><li>修改 <code>MainActivity.java</code></li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code>package com.reactnavigation.example;

import com.facebook.react.ReactActivity;
<span class="token inserted">+ import com.facebook.react.ReactActivityDelegate;</span>
<span class="token inserted">+ import com.facebook.react.ReactRootView;</span>
<span class="token inserted">+ import com.swmansion.gesturehandler.react.RNGestureHandlerEnabledRootView;</span>

public class MainActivity extends ReactActivity {

  @Override
  protected String getMainComponentName() {
    return &quot;Example&quot;;
  }

<span class="token inserted">+  @Override</span>
<span class="token inserted">+  protected ReactActivityDelegate createReactActivityDelegate() {</span>
<span class="token inserted">+    return new ReactActivityDelegate(this, getMainComponentName()) {</span>
<span class="token inserted">+      @Override</span>
<span class="token inserted">+      protected ReactRootView createRootView() {</span>
<span class="token inserted">+       return new RNGestureHandlerEnabledRootView(MainActivity.this);</span>
<span class="token inserted">+      }</span>
<span class="token inserted">+    };</span>
<span class="token inserted">+  }</span>
}
</code></pre></div><div class="danger custom-block"><p class="custom-block-title">踩过的坑</p> <p>说实话, 在配置Android的时候遇到一大堆坑, 按照官网上一步一步的配置, 仍然很难成功</p> <p>如果想尽快开始运行可直接拉取官方的仓库:</p> <p><a href="https://github.com/henrikra/nativeNavigationGestureHandler" target="_blank" rel="noopener noreferrer">https://github.com/henrikra/nativeNavigationGestureHandler<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div> <h2 id="navigation-导航器分类"><a href="#navigation-导航器分类" aria-hidden="true" class="header-anchor">#</a> Navigation 导航器分类</h2> <p>Navigation 主要有以下几种类型的导航器:</p> <ul><li><a href="./Nav_CreateStackNavigator">createStackNavigator</a>: 普通的路由导航器</li> <li><a href="./Nav_CreateBottomTabNavigator">createBottomTabNavigator</a>: 底部tab导航器</li> <li><a href="./Nav_CreateMaterialTopTabNavigator">createMaterialTopTabNavigator</a>: 顶部tab导航器</li> <li><a href="./Nav_CreateDrawerNavigator">createDrawerNavigator</a>: 抽屉导航器</li> <li>createSwitchNavigator: 一次只显示一个页面</li></ul> <p>两个和导航关于概念:</p> <ul><li><strong>Screen navigation prop(屏幕导航属性)</strong>: 通过navigation可以完成屏幕之间的调度操作，例如打开另一个屏幕；</li> <li><strong>Screen navigationOptions(屏幕导航选项)</strong>:  通过navigationOptions可以定制导航器显示屏幕的方式（例如: 头部标题，选项卡标签等）；</li></ul> <h2 id="导航方法"><a href="#导航方法" aria-hidden="true" class="header-anchor">#</a> 导航方法</h2> <p>navigation包含以下功能方法:</p> <ul><li><strong>navigate</strong>: 跳转到其他界面；</li> <li><strong>goBack</strong>: 关闭当前屏幕；</li> <li><strong>setParams</strong>: 改变路由的params；</li> <li><strong>getParam</strong>: 获取具有回退的特定参数；</li> <li><strong>state</strong>: 屏幕的当前state；</li> <li><strong>dispatch</strong>: 向路由发送一个action；</li> <li><strong>addListener</strong>: 订阅导航生命周期的更新；</li> <li><strong>isFocused</strong>: true 标识屏幕获取了焦点；</li> <li><strong>dangerouslyGetParent</strong>: 返回父导航器；</li></ul> <h3 id="stacknavigator的navigation的额外方法"><a href="#stacknavigator的navigation的额外方法" aria-hidden="true" class="header-anchor">#</a> StackNavigator的navigation的额外方法</h3> <p>当且仅当当前 navigator 是 stack navigator 时，<code>this.props.navigation</code> 上有一些附加功能。 这些函数是 navigate 和 goBack 的替代方法， 你可以使用任何你喜欢的方法。 这些功能是:</p> <ul><li><strong>push</strong> - 导航到堆栈中的一个新的路由</li> <li><strong>pop</strong> - 返回堆栈中的上一个页面</li> <li><strong>popToTop</strong> - 跳转到堆栈中最顶层的页面</li> <li><strong>replace</strong> - 用新路由替换当前路由</li> <li><strong>reset</strong> - 擦除导航器状态并将其替换为多个操作的结果</li> <li><strong>dismiss</strong> - 关闭当前栈</li></ul> <h3 id="使用navigate进行界面之间的跳转"><a href="#使用navigate进行界面之间的跳转" aria-hidden="true" class="header-anchor">#</a> 使用navigate进行界面之间的跳转</h3> <p><code>navigation.navigate({routeName, params, action, key})</code> 或 <code>navigation.navigate(routeName, params, action)</code></p> <ul><li><strong>routeName</strong>: 要跳转到的界面的路由名，也就是在导航其中配置的路由名；</li> <li><strong>params</strong>: 要传递给下一个界面的参数；</li> <li><strong>action</strong>: 如果该界面是一个navigator的话，将运行这个sub-action；</li> <li><strong>key</strong>: 要导航到的路由的可选标识符。 如果已存在，将后退到此路由；</li></ul> <h3 id="使用-state-params"><a href="#使用-state-params" aria-hidden="true" class="header-anchor">#</a> 使用 state.params</h3> <p>可以通过 <code>this.props.state.params</code> 来获取通过 <code>setParams()</code>，或 <code>navigation.navigate()</code> 传递的参数。</p> <h3 id="使用-setparams-改变路由参数"><a href="#使用-setparams-改变路由参数" aria-hidden="true" class="header-anchor">#</a> 使用 setParams 改变路由参数</h3> <p>我们可以借助 <code>setParams</code> 来改变route params，比如，通过setParams来更新页面顶部的标题，返回按钮等。</p> <h2 id="路由参数"><a href="#路由参数" aria-hidden="true" class="header-anchor">#</a> 路由参数</h2> <p>无论创建何种导航器, 第一个参数都接收 RouteConfigs 路由配置</p> <p>RouteConfigs支持三个参数screen、path以及navigationOptions；</p> <ul><li><strong>screen</strong> (必选)：指定一个 React 组件作为屏幕的主要显示内容，当这个组件被createStackNavigator加载时，它会被分配一个navigation prop</li> <li><strong>path</strong> (可选)：用来设置支持schema跳转时使用</li> <li><strong>navigationOptions</strong> (可选)：用以配置全局的屏幕导航选项如：title、headerRight、headerLeft等, 每种导航支持的选项可能不同</li></ul> <h2 id="简单使用"><a href="#简单使用" aria-hidden="true" class="header-anchor">#</a> 简单使用</h2> <p>之后的示例, 将以以下目录结构创建</p> <p>创建两个目录:</p> <ul><li>pages 存放页面文件</li> <li>navigation 存放导航配置表</li></ul> <p>在 pages 中创建几个文件, 比如 HomePage.js, Page1.js, Page2.js, 其为正常的 React Native 组件, 比如</p> <p><code>pages/HomePage.js</code></p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span>Component<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>Button<span class="token punctuation">,</span> StyleSheet<span class="token punctuation">,</span> View<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-native'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Page1</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span>navigation<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">View</span></span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>style<span class="token punctuation">.</span>container<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span>
          <span class="token attr-name">title</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token string">'Go to Page1'</span><span class="token punctuation">}</span></span>
          <span class="token attr-name">onPress</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
            navigation<span class="token punctuation">.</span><span class="token function">navigate</span><span class="token punctuation">(</span><span class="token string">'Page1'</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
        <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span>
          <span class="token attr-name">title</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token string">'Go to Page2'</span><span class="token punctuation">}</span></span>
          <span class="token attr-name">onPress</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
            navigation<span class="token punctuation">.</span><span class="token function">navigate</span><span class="token punctuation">(</span><span class="token string">'Page2'</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
        <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">View</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> style <span class="token operator">=</span> StyleSheet<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  container<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    textAlign<span class="token punctuation">:</span> <span class="token string">'center'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>在组件中, navigation 会以 props 的方式传入, 使用 <code>this.props.navigation</code> 调用</p> <p><code>pages/Page1</code></p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span>Component<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>Text<span class="token punctuation">,</span> View<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-native'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Page3</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">View</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Text</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Page1</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Text</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">View</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>pages/Page2</code></p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span>Component<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>Text<span class="token punctuation">,</span> View<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-native'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Page3</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">View</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Text</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Page2</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Text</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">View</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="修改-index-js"><a href="#修改-index-js" aria-hidden="true" class="header-anchor">#</a> 修改 index.js</h3> <p>其中一种方法，创建好目录结构后, 直接修改 <code>index.js</code></p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>AppRegistry<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-native'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>createAppContainer<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-navigation'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>AppStackNavigator<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./navigation/AppNavigations'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>name <span class="token keyword">as</span> appName<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./app.json'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> AppStackNavigationContainer <span class="token operator">=</span> <span class="token function">createAppContainer</span><span class="token punctuation">(</span>AppStackNavigator<span class="token punctuation">)</span>
AppRegistry<span class="token punctuation">.</span><span class="token function">registerComponent</span><span class="token punctuation">(</span>appName<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> AppStackNavigationContainer<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>此时, 可删除RN的默认初始页面 <code>App.js</code> 了, 因为默认页面已改为 <code>pages/HomePage.js</code></p> <p>其中 <code>navigation/AppNavigations</code> 将在下一篇 <a href="./Nav_CreateStackNavigator">RN导航器 - 栈导航 createStackNavigator</a> 中详细介绍</p> <h3 id="修改-app-js（推荐）"><a href="#修改-app-js（推荐）" aria-hidden="true" class="header-anchor">#</a> 修改 App.js（推荐）</h3> <p>另一种方法，不需要修改 <code>index.js</code>，而是修改 <code>App.js</code>，这样便于 <a href="/categories/front-end/react/_books/react_native/navigation/Redux.html">集成 Redux</a> 这样的状态管理库</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span>Component<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>createAppContainer<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react-navigation&quot;</span>
<span class="token keyword">import</span> AppNavigations <span class="token keyword">from</span> <span class="token string">'./src/navigators/AppNavigations'</span>

<span class="token keyword">let</span> Navigation <span class="token operator">=</span> <span class="token function">createAppContainer</span><span class="token punctuation">(</span>AppNavigations<span class="token punctuation">)</span><span class="token punctuation">;</span>

type Props <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span><span class="token operator">&lt;</span>Props<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>Navigation <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></div><div class="article-info"><div class="article-title">文档信息</div><p class="article-item">版权声明：著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p><p class="article-item">文章标题：React Nagivation</p><p class="article-item">原文链接：<a href="https://www.xiaoyulive.top/categories/front-end/react/_books/react_native/navigation/React_Navigation.html">https://www.xiaoyulive.top/categories/front-end/react/_books/react_native/navigation/React_Navigation.html</a></p><!----></div><!----><div class="content page-nav"><p class="inner"><span class="prev">← <a href="/categories/front-end/react/_books/react_native/api/Platform.html">多平台支持</a></span><span class="next"><a href="/categories/front-end/react/_books/react_native/navigation/CreateStackNavigator.html">栈导航</a>  →</span></p></div></div><div class="footers" data-v-38547c78><p data-v-38547c78><span data-v-38547c78>MIT Licensed | Copyright © 2018-present  滇ICP备16006294号</span></p><p data-v-38547c78><span data-v-38547c78>Design by <a href="/">Quanzaiyu</a> | Power by <a href="https://vuepress.vuejs.org/" target="_blank">VuePress</a> | Hosted by <a href="https://pages.coding.me" target="_blank" style="font-weight: bold">Coding Pages</a></span></p></div></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.1dd1eb39.js" defer></script><script src="/assets/js/5.b2d88b04.js" defer></script>
  </body>
</html>
